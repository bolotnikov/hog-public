/*! For license information please see bundle.min.js.LICENSE.txt */
(()=>{var t={76048:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191),s=r(79743),o=r(87373);n.DisplayObject.mixin(o.accessibleTarget);class a{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(i.utils.isMobile.tablet||i.utils.isMobile.phone)&&this.createTouchHook();const e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const e=t.children;if(e)for(let t=0;t<e.length;t++)this.updateAccessibleObjects(e[t])}update(){const t=performance.now();if(i.utils.isMobile.android.device&&t<this.androidUpdateCount)return;if(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen)return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:e,y:r,width:n,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:u}=this.renderer,l=n/o*u,c=s/a*u;let h=this.div;h.style.left=`${e}px`,h.style.top=`${r}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let t=0;t<this.children.length;t++){const e=this.children[t];if(e.renderId!==this.renderId)e._accessibleActive=!1,i.utils.removeItems(this.children,t,1),this.div.removeChild(e._accessibleDiv),this.pool.push(e._accessibleDiv),e._accessibleDiv=null,t--;else{h=e._accessibleDiv;let t=e.hitArea;const r=e.worldTransform;e.hitArea?(h.style.left=(r.tx+t.x*r.a)*l+"px",h.style.top=(r.ty+t.y*r.d)*c+"px",h.style.width=t.width*r.a*l+"px",h.style.height=t.height*r.d*c+"px"):(t=e.getBounds(),this.capHitArea(t),h.style.left=t.x*l+"px",h.style.top=t.y*c+"px",h.style.width=t.width*l+"px",h.style.height=t.height*c+"px",h.title!==e.accessibleTitle&&null!==e.accessibleTitle&&(h.title=e.accessibleTitle),h.getAttribute("aria-label")!==e.accessibleHint&&null!==e.accessibleHint&&h.setAttribute("aria-label",e.accessibleHint)),e.accessibleTitle===h.title&&e.tabIndex===h.tabIndex||(h.title=e.accessibleTitle,h.tabIndex=e.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:r}=this.renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>r&&(t.height=r-t.y)}addChild(t){let e=this.pool.pop();e||(e=document.createElement("button"),e.style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{displayObject:r}=t.target,i=this.renderer.events.rootBoundary,n=Object.assign(new s.FederatedEvent(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,e.forEach((t=>i.dispatchEvent(n,t)))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){9===t.keyCode&&this.activate()}_onMouseMove(t){0===t.movementX&&0===t.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}a.extension={name:"accessibility",type:[i.ExtensionType.RendererPlugin,i.ExtensionType.CanvasRendererPlugin]},i.extensions.add(a),e.AccessibilityManager=a},87373:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1}},75649:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(76048),n=r(87373);e.AccessibilityManager=i.AccessibilityManager,e.accessibleTarget=n.accessibleTarget},57450:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191);const s=class{constructor(t){this.stage=new n.Container,t=Object.assign({forceCanvas:!1},t),this.renderer=i.autoDetectRenderer(t),s._plugins.forEach((e=>{e.init.call(this,t)}))}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=s._plugins.slice(0);r.reverse(),r.forEach((t=>{t.destroy.call(this)})),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let o=s;o._plugins=[],i.extensions.handleByList(i.ExtensionType.Application,o._plugins),e.Application=o},45581:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);class n{static init(t){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let t,e;if(this.cancelResize(),this._resizeTo===globalThis.window)t=globalThis.innerWidth,e=globalThis.innerHeight;else{const{clientWidth:r,clientHeight:i}=this._resizeTo;t=r,e=i}this.renderer.resize(t,e),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}n.extension=i.ExtensionType.Application,i.extensions.add(n),e.ResizePlugin=n},21827:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57450),n=r(45581);e.Application=i.Application,e.ResizePlugin=n.ResizePlugin},93238:(t,e,r)=>{"use strict";var i=r(48742);const n={loader:i.ExtensionType.LoadParser,resolver:i.ExtensionType.ResolveParser,cache:i.ExtensionType.CacheParser,detection:i.ExtensionType.DetectionParser};i.extensions.handle(i.ExtensionType.Asset,(t=>{const e=t.ref;Object.entries(n).filter((([t])=>!!e[t])).forEach((([t,r])=>i.extensions.add(Object.assign(e[t],{extension:e[t].extension??r}))))}),(t=>{const e=t.ref;Object.keys(n).filter((t=>!!e[t])).forEach((t=>i.extensions.remove(e[t])))}))},82961:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(36845),s=r(50241),o=r(76480);r(94498);var a=r(67847),u=r(51331),l=r(81114),c=r(63195);class h{constructor(){this._detections=[],this._initialized=!1,this.resolver=new a.Resolver,this.loader=new o.Loader,this.cache=s.Cache,this._backgroundLoader=new n.BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let e=t.manifest;"string"==typeof e&&(e=await this.load(e)),this.resolver.addManifest(e)}const e=t.texturePreference?.resolution??1,r="number"==typeof e?[e]:e;let i=[];if(t.texturePreference?.format){const e=t.texturePreference?.format;i="string"==typeof e?[e]:e;for(const t of this._detections)await t.test()||(i=await t.remove(i))}else for(const t of this._detections)await t.test()&&(i=await t.add(i));this.resolver.prefer({params:{format:i,resolution:r}}),t.preferences&&this.setPreferences(t.preferences)}add(t,e,r){this.resolver.add(t,e,r)}async load(t,e){this._initialized||await this.init();const r=l.isSingleItem(t),i=u.convertToList(t).map((t=>"string"!=typeof t?(this.resolver.add(t.src,t),t.src):(this.resolver.hasKey(t)||this.resolver.add(t,t),t))),n=this.resolver.resolve(i),s=await this._mapLoadToResolve(n,e);return r?s[i[0]]:s}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let r=!1;"string"==typeof t&&(r=!0,t=[t]);const i=this.resolver.resolveBundle(t),n={},s=Object.keys(i);let o=0,a=0;const u=()=>{e?.(++o/a)},l=s.map((t=>{const e=i[t];return a+=Object.keys(e).length,this._mapLoadToResolve(e,u).then((e=>{n[t]=e}))}));return await Promise.all(l),r?n[t[0]]:n}async backgroundLoad(t){this._initialized||await this.init(),"string"==typeof t&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),"string"==typeof t&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach((t=>{this._backgroundLoader.add(Object.values(t))}))}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if("string"==typeof t)return s.Cache.get(t);const e={};for(let r=0;r<t.length;r++)e[r]=s.Cache.get(t[r]);return e}async _mapLoadToResolve(t,e){const r=Object.values(t),i=Object.keys(t);this._backgroundLoader.active=!1;const n=await this.loader.load(r,e);this._backgroundLoader.active=!0;const o={};return r.forEach(((t,e)=>{const r=n[t.src],a=[t.src];t.alias&&a.push(...t.alias),o[i[e]]=r,s.Cache.set(a,r)})),o}async unload(t){this._initialized||await this.init();const e=u.convertToList(t).map((t=>"string"!=typeof t?t.src:t)),r=this.resolver.resolve(e);await this._unloadFromResolved(r)}async unloadBundle(t){this._initialized||await this.init(),t=u.convertToList(t);const e=this.resolver.resolveBundle(t),r=Object.keys(e).map((t=>this._unloadFromResolved(e[t])));await Promise.all(r)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach((t=>{s.Cache.remove(t.src)})),await this.loader.unload(e)}get detections(){return this._detections}get preferWorkers(){return c.loadTextures.config.preferWorkers}set preferWorkers(t){i.utils.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach((e=>{e.config&&Object.keys(e.config).filter((e=>e in t)).forEach((r=>{e.config[r]=t[r]}))}))}}const d=new h;i.extensions.handleByList(i.ExtensionType.LoadParser,d.loader.parsers).handleByList(i.ExtensionType.ResolveParser,d.resolver.parsers).handleByList(i.ExtensionType.CacheParser,d.cache.parsers).handleByList(i.ExtensionType.DetectionParser,d.detections),e.Assets=d,e.AssetsClass=h},36845:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BackgroundLoader=class{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach((t=>{this._assetList.push(t)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<e;r++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}},50241:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);r(99973);var n=r(51331);const s=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const r=n.convertToList(t);let s;for(let t=0;t<this.parsers.length;t++){const i=this.parsers[t];if(i.test(e)){s=i.getCacheableAssets(r,e);break}}s||(s={},r.forEach((t=>{s[t]=e})));const o=Object.keys(s),a={cacheKeys:o,keys:r};if(r.forEach((t=>{this._cacheMap.set(t,a)})),o.forEach((t=>{this._cache.has(t)&&this._cache.get(t)!==e&&console.warn("[Cache] already has key:",t),this._cache.set(t,s[t])})),e instanceof i.Texture){const t=e;r.forEach((e=>{t.baseTexture!==i.Texture.EMPTY.baseTexture&&i.BaseTexture.addToCache(t.baseTexture,e),i.Texture.addToCache(t,e)}))}}remove(t){if(this._cacheMap.get(t),!this._cacheMap.has(t))return void console.warn(`[Assets] Asset id ${t} was not found in the Cache`);const e=this._cacheMap.get(t);e.cacheKeys.forEach((t=>{this._cache.delete(t)})),e.keys.forEach((t=>{this._cacheMap.delete(t)}))}get parsers(){return this._parsers}};e.Cache=s},28799:()=>{},38570:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(50241);r(28799),r(97911),e.Cache=i.Cache},47880:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);const n={extension:i.ExtensionType.CacheParser,test:t=>Array.isArray(t)&&t.every((t=>t instanceof i.Texture)),getCacheableAssets:(t,e)=>{const r={};return t.forEach((t=>{e.forEach(((e,i)=>{r[t+(0===i?"":i+1)]=e}))})),r}};i.extensions.add(n),e.cacheTextureArray=n},97911:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(47880);e.cacheTextureArray=i.cacheTextureArray},86158:(t,e,r)=>{"use strict";r(28001)},39231:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);const n={extension:{type:i.ExtensionType.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t=await i.settings.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then((t=>t.blob()));return createImageBitmap(t).then((()=>!0),(()=>!1))},add:async t=>[...t,"avif"],remove:async t=>t.filter((t=>"avif"!==t))};i.extensions.add(n),e.detectAvif=n},94041:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);const n=["png","jpg","jpeg"],s={extension:{type:i.ExtensionType.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...n],remove:async t=>t.filter((t=>!n.includes(t)))};i.extensions.add(s),e.detectDefaults=s},91133:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);const n={extension:{type:i.ExtensionType.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t=await i.settings.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((t=>t.blob()));return createImageBitmap(t).then((()=>!0),(()=>!1))},add:async t=>[...t,"webp"],remove:async t=>t.filter((t=>"webp"!==t))};i.extensions.add(n),e.detectWebp=n},28001:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(39231),n=r(91133),s=r(94041);e.detectAvif=i.detectAvif,e.detectWebp=n.detectWebp,e.detectDefaults=s.detectDefaults},8415:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(93238);var i=r(82961);r(38570),r(86158),r(30807),r(69076),r(99973);var n=r(50241),s=r(47880),o=r(39231),a=r(91133),u=r(94041),l=r(14265),c=r(64176),h=r(44899),d=r(12321),p=r(49568),f=r(63195),_=r(61002),y=r(80819),m=r(25458),g=r(39007),v=r(51331),b=r(66048),x=r(54878),T=r(81114);e.Assets=i.Assets,e.AssetsClass=i.AssetsClass,e.Cache=n.Cache,e.cacheTextureArray=s.cacheTextureArray,e.detectAvif=o.detectAvif,e.detectWebp=a.detectWebp,e.detectDefaults=u.detectDefaults,e.LoaderParserPriority=l.LoaderParserPriority,e.loadJson=c.loadJson,e.loadTxt=h.loadTxt,e.getFontFamilyName=d.getFontFamilyName,e.loadWebFont=d.loadWebFont,e.loadSVG=p.loadSVG,e.loadImageBitmap=f.loadImageBitmap,e.loadTextures=f.loadTextures,e.createTexture=_.createTexture,e.resolveTextureUrl=y.resolveTextureUrl,e.checkDataUrl=m.checkDataUrl,e.checkExtension=g.checkExtension,e.convertToList=v.convertToList,e.copySearchParams=b.copySearchParams,e.createStringVariations=x.createStringVariations,e.isSingleItem=T.isSingleItem},76480:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);r(99973);var n=r(81114),s=r(51331);e.Loader=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,r)=>(this._parsersValidated=!1,t[e]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const r={promise:null,parser:null};return r.promise=(async()=>{let i=null,n=null;if(e.loadParser&&(n=this._parserHash[e.loadParser],n||console.warn(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!n){for(let r=0;r<this.parsers.length;r++){const i=this.parsers[r];if(i.load&&i.test?.(t,e,this)){n=i;break}}if(!n)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await n.load(t,e,this),r.parser=n;for(let t=0;t<this.parsers.length;t++){const n=this.parsers[t];n.parse&&n.parse&&await(n.testParse?.(i,e,this))&&(i=await n.parse(i,e,this)||i,r.parser=n)}return i})(),r}async load(t,e){this._parsersValidated||this._validateParsers();let r=0;const o={},a=n.isSingleItem(t),u=s.convertToList(t,(t=>({src:t}))),l=u.length,c=u.map((async t=>{const n=i.utils.path.toAbsolute(t.src);if(!o[t.src])try{this.promiseCache[n]||(this.promiseCache[n]=this._getLoadPromiseAndParser(n,t)),o[t.src]=await this.promiseCache[n].promise,e&&e(++r/l)}catch(e){throw delete this.promiseCache[n],delete o[t.src],new Error(`[Loader.load] Failed to load ${n}.\n${e}`)}}));return await Promise.all(c),a?o[u[0].src]:o}async unload(t){const e=s.convertToList(t,(t=>({src:t}))).map((async t=>{const e=i.utils.path.toAbsolute(t.src),r=this.promiseCache[e];if(r){const i=await r.promise;r.parser?.unload?.(i,t,this),delete this.promiseCache[e]}}));await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((t=>t.name)).reduce(((t,e)=>(t[e.name]&&console.warn(`[Assets] loadParser name conflict "${e.name}"`),{...t,[e.name]:e})),{})}}},30807:(t,e,r)=>{"use strict";r(94498),r(40530)},14265:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(r||{});e.LoaderParserPriority=r},96585:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});let r,i=0;const n={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    "},s={id:"loadImageBitmap",code:"\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"};let o;const a=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((t=>{const e=URL.createObjectURL(new Blob([n.code],{type:"application/javascript"})),r=new Worker(e);r.addEventListener("message",(i=>{r.terminate(),URL.revokeObjectURL(e),t(i.data)}))}))),this._isImageBitmapSupported}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===r&&(r=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<r&&(o||(o=URL.createObjectURL(new Blob([s.code],{type:"application/javascript"}))),this._createdWorkers++,t=new Worker(o),t.addEventListener("message",(t=>{this.complete(t.data),this.returnWorker(t.target),this.next()}))),t}returnWorker(t){this.workerPool.push(t)}complete(t){void 0!==t.error?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const r=new Promise(((r,i)=>{this.queue.push({id:t,arguments:e,resolve:r,reject:i})}));return this.next(),r}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const e=this.queue.pop(),r=e.id;this.resolveHash[i]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:i++,id:r})}};e.WorkerManager=a},94498:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(14265),n=r(64176),s=r(44899),o=r(12321);r(36577),e.LoaderParserPriority=i.LoaderParserPriority,e.loadJson=n.loadJson,e.loadTxt=s.loadTxt,e.getFontFamilyName=o.getFontFamilyName,e.loadWebFont=o.loadWebFont},64176:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(25458),s=r(39007),o=r(14265);const a={extension:{type:i.ExtensionType.LoadParser,priority:o.LoaderParserPriority.Low},name:"loadJson",test:t=>n.checkDataUrl(t,"application/json")||s.checkExtension(t,".json"),async load(t){const e=await i.settings.ADAPTER.fetch(t);return await e.json()}};i.extensions.add(a),e.loadJson=a},44899:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(25458),s=r(39007),o=r(14265);const a={name:"loadTxt",extension:{type:i.ExtensionType.LoadParser,priority:o.LoaderParserPriority.Low},test:t=>n.checkDataUrl(t,"text/plain")||s.checkExtension(t,".txt"),async load(t){const e=await i.settings.ADAPTER.fetch(t);return await e.text()}};i.extensions.add(a),e.loadTxt=a},12321:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(25458),s=r(39007),o=r(14265);const a=["normal","bold","100","200","300","400","500","600","700","800","900"],u=[".ttf",".otf",".woff",".woff2"],l=["font/ttf","font/otf","font/woff","font/woff2"],c=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function h(t){const e=i.utils.path.extname(t),r=i.utils.path.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map((t=>t.charAt(0).toUpperCase()+t.slice(1)));let n=r.length>0;for(const t of r)if(!t.match(c)){n=!1;break}let s=r.join(" ");return n||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const d={extension:{type:i.ExtensionType.LoadParser,priority:o.LoaderParserPriority.Low},name:"loadWebFont",test:t=>n.checkDataUrl(t,l)||s.checkExtension(t,u),async load(t,e){const r=i.settings.ADAPTER.getFontFaceSet();if(r){const i=[],n=e.data?.family??h(t),s=e.data?.weights?.filter((t=>a.includes(t)))??["normal"],o=e.data??{};for(let e=0;e<s.length;e++){const a=s[e],u=new FontFace(n,`url(${encodeURI(t)})`,{...o,weight:a});await u.load(),r.add(u),i.push(u)}return 1===i.length?i[0]:i}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach((t=>i.settings.ADAPTER.getFontFaceSet().delete(t)))}};i.extensions.add(d),e.getFontFamilyName=h,e.loadWebFont=d},36577:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(49568),n=r(63195);r(26602),e.loadSVG=i.loadSVG,e.loadImageBitmap=n.loadImageBitmap,e.loadTextures=n.loadTextures},49568:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(25458),s=r(39007),o=r(14265),a=r(63195),u=r(61002);const l={extension:{type:i.ExtensionType.LoadParser,priority:o.LoaderParserPriority.High},name:"loadSVG",test:t=>n.checkDataUrl(t,"image/svg+xml")||s.checkExtension(t,".svg"),testParse:async t=>i.SVGResource.test(t),async parse(t,e,r){const n=new i.SVGResource(t,e?.data?.resourceOptions);await n.load();const s=new i.BaseTexture(n,{resolution:i.utils.getResolutionOfUrl(t),...e?.data});s.resource.src=t;return u.createTexture(s,r,t)},load:async(t,e)=>(await i.settings.ADAPTER.fetch(t)).text(),unload:a.loadTextures.unload};i.extensions.add(l),e.loadSVG=l},63195:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(25458),s=r(39007),o=r(14265),a=r(96585),u=r(61002);const l=[".jpeg",".jpg",".png",".webp",".avif"],c=["image/jpeg","image/png","image/webp","image/avif"];async function h(t){const e=await i.settings.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const d={name:"loadTextures",extension:{type:i.ExtensionType.LoadParser,priority:o.LoaderParserPriority.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:t=>n.checkDataUrl(t,c)||s.checkExtension(t,l),async load(t,e,r){let n=null;n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await a.WorkerManager.isImageBitmapSupported()?await a.WorkerManager.loadImageBitmap(t):await h(t):await new Promise((e=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?e(n):n.onload=()=>{e(n)}}));const s=new i.BaseTexture(n,{resolution:i.utils.getResolutionOfUrl(t),...e.data});return s.resource.src=t,u.createTexture(s,r,t)},unload(t){t.destroy(!0)}};i.extensions.add(d),e.loadImageBitmap=h,e.loadTextures=d},61002:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);e.createTexture=function(t,e,r){const n=new i.Texture(t);return n.baseTexture.on("dispose",(()=>{delete e.promiseCache[r]})),n}},26602:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(61002);e.createTexture=i.createTexture},40530:()=>{},67847:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(51331),s=r(54878),o=r(81114);e.Resolver=class{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach((t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))})),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if("string"==typeof t)this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach((t=>{this.addBundle(t.name,t.assets)}))}addBundle(t,e){const r=[];Array.isArray(e)?e.forEach((e=>{if("string"==typeof e.name){const i=this._createBundleAssetId(t,e.name);r.push(i),this.add([e.name,i],e.srcs,e.data)}else{const i=e.name.map((e=>this._createBundleAssetId(t,e)));i.forEach((t=>{r.push(t)})),this.add([...e.name,...i],e.srcs)}})):Object.keys(e).forEach((i=>{r.push(this._createBundleAssetId(t,i)),this.add([i,this._createBundleAssetId(t,i)],e[i])})),this._bundles[t]=r}add(t,e,r){const o=n.convertToList(t);o.forEach((t=>{this.hasKey(t)&&console.warn(`[Resolver] already has key: ${t} overwriting`)})),Array.isArray(e)||(e="string"==typeof e?s.createStringVariations(e):[e]);const a=e.map((t=>{let e=t;if("string"==typeof t){let r=!1;for(let i=0;i<this._parsers.length;i++){const n=this._parsers[i];if(n.test(t)){e=n.parse(t),r=!0;break}}r||(e={src:t})}return e.format||(e.format=e.src.split(".").pop()),e.alias||(e.alias=o),(this._basePath||this._rootPath)&&(e.src=i.utils.path.toAbsolute(e.src,this._basePath,this._rootPath)),e.src=this._appendDefaultSearchParams(e.src),e.data=e.data??r,e}));o.forEach((t=>{this._assetMap[t]=a}))}resolveBundle(t){const e=o.isSingleItem(t);t=n.convertToList(t);const r={};return t.forEach((t=>{const e=this._bundles[t];if(e){const i=this.resolve(e),n={};for(const e in i){const r=i[e];n[this._extractAssetIdFromBundle(t,e)]=r}r[t]=n}})),e?r[t[0]]:r}resolveUrl(t){const e=this.resolve(t);if("string"!=typeof t){const t={};for(const r in e)t[r]=e[r].src;return t}return e.src}resolve(t){const e=o.isSingleItem(t);t=n.convertToList(t);const r={};return t.forEach((t=>{if(!this._resolverHash[t])if(this._assetMap[t]){let e=this._assetMap[t];const r=this._getPreferredOrder(e),i=e[0];r?.priority.forEach((t=>{r.params[t].forEach((r=>{const i=e.filter((e=>!!e[t]&&e[t]===r));i.length&&(e=i)}))})),this._resolverHash[t]=e[0]??i}else{let e=t;(this._basePath||this._rootPath)&&(e=i.utils.path.toAbsolute(e,this._basePath,this._rootPath)),e=this._appendDefaultSearchParams(e),this._resolverHash[t]={src:e}}r[t]=this._resolverHash[t]})),e?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const e=t[0],r=this._preferredOrder.find((t=>t.params.format.includes(e.format)));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;return`${t}${/\?/.test(t)?"&":"?"}${this._defaultSearchParams}`}}},69076:(t,e,r)=>{"use strict";r(68404),r(41998)},68404:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(80819);e.resolveTextureUrl=i.resolveTextureUrl},80819:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);r(30807);var n=r(63195);const s={extension:i.ExtensionType.ResolveParser,test:n.loadTextures.test,parse:t=>({resolution:parseFloat(i.settings.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t})};i.extensions.add(s),e.resolveTextureUrl=s},41998:()=>{},25458:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkDataUrl=function(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}},39007:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);e.checkExtension=function(t,e){const r=t.split("?")[0],n=i.utils.path.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}},51331:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.convertToList=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map((t=>"string"==typeof t?e(t):t)):t)},66048:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.copySearchParams=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t}},54878:(t,e)=>{"use strict";function r(t,e,i,n,s){const o=e[i];for(let a=0;a<o.length;a++){const u=o[a];i<e.length-1?r(t.replace(n[i],u),e,i+1,n,s):s.push(t.replace(n[i],u))}}Object.defineProperty(e,"__esModule",{value:!0}),e.createStringVariations=function(t){const e=t.match(/\{(.*?)\}/g),i=[];if(e){const n=[];e.forEach((t=>{const e=t.substring(1,t.length-1).split(",");n.push(e)})),r(t,n,0,e,i)}else i.push(t);return i}},99973:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(25458),n=r(39007),s=r(51331),o=r(66048),a=r(54878),u=r(81114);e.checkDataUrl=i.checkDataUrl,e.checkExtension=n.checkExtension,e.convertToList=s.convertToList,e.copySearchParams=o.copySearchParams,e.createStringVariations=a.createStringVariations,e.isSingleItem=u.isSingleItem},81114:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.isSingleItem=t=>!Array.isArray(t)},36250:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(96872);function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=n(r(12121));i.extend([s.default]);const o=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof o)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,t)||(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return"string"==typeof t||"number"==typeof t||t instanceof Number||null===t?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):"object"==typeof t&&null!==t?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if("number"===r||"string"===r||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length===e.length&&t.every(((t,r)=>t===e[r]));if(null!==t&&null!==e){const r=Object.keys(t),i=Object.keys(e);return r.length===i.length&&r.every((r=>t[r]===e[r]))}return t===e}toRgba(){const[t,e,r,i]=this._components;return{r:t,g:e,b:r,a:i}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,i]=this._components;return(t=t??[])[0]=Math.round(255*e),t[1]=Math.round(255*r),t[2]=Math.round(255*i),t}toRgbArray(t){t=t??[];const[e,r,i]=this._components;return t[0]=e,t[1]=r,t[2]=i,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(65280&t)+((255&t)<<16)}multiply(t){const[e,r,i,n]=o.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=i,this._components[3]*=n,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(1===t)return(255<<24)+this._int;if(0===t)return e?0:this._int;let r=this._int>>16&255,i=this._int>>8&255,n=255&this._int;return e&&(r=r*t+.5|0,i=i*t+.5|0,n=n*t+.5|0),(255*t<<24)+(r<<16)+(i<<8)+n}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,i]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(i*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,i,n]=this._components;return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t}normalize(t){let e,r,n,s;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=16777215){e=(t>>16&255)/255,r=(t>>8&255)/255,n=(255&t)/255,s=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,s=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,s=255]=t,e/=255,r/=255,n/=255,s/=255;else if("string"==typeof t||"object"==typeof t){if("string"==typeof t){const e=o.HEX_PATTERN.exec(t);e&&(t=`#${e[2]}`)}const a=i.colord(t);a.isValid()&&(({r:e,g:r,b:n,a:s}=a.rgba),e/=255,r/=255,n/=255)}if(void 0===e)throw new Error(`Unable to convert color ${t}`);this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=s,this.refreshInt()}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(255*t<<16)+(255*e<<8)+(255*r|0)}_clamp(t,e=0,r=1){return"number"==typeof t?Math.min(Math.max(t,e),r):(t.forEach(((i,n)=>{t[n]=Math.min(Math.max(i,e),r)})),t)}};let a=o;a.shared=new o,a.temp=new o,a.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i,e.Color=a},1122:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(36250);e.Color=i.Color},9133:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(r||{});const i={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};e.INTERNAL_FORMATS=r,e.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=i},63438:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(9133);r(27424),r(71807),r(35534);var n=r(12005),s=r(80869),o=r(5192),a=r(83291),u=r(1620),l=r(42581),c=r(91788),h=r(49947);e.INTERNAL_FORMATS=i.INTERNAL_FORMATS,e.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,e.detectCompressedTextures=n.detectCompressedTextures,e.loadDDS=s.loadDDS,e.loadKTX=o.loadKTX,e.resolveCompressedTextureUrl=a.resolveCompressedTextureUrl,e.parseDDS=u.parseDDS,e.FORMATS_TO_COMPONENTS=l.FORMATS_TO_COMPONENTS,e.TYPES_TO_BYTES_PER_COMPONENT=l.TYPES_TO_BYTES_PER_COMPONENT,e.TYPES_TO_BYTES_PER_PIXEL=l.TYPES_TO_BYTES_PER_PIXEL,e.parseKTX=l.parseKTX,e.BlobResource=c.BlobResource,e.CompressedTextureResource=h.CompressedTextureResource},88256:()=>{},12005:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);let n,s;function o(){s={s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:n.getExtension("WEBGL_compressed_texture_etc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:n.getExtension("WEBGL_compressed_texture_atc"),astc:n.getExtension("WEBGL_compressed_texture_astc")}}const a={extension:{type:i.ExtensionType.DetectionParser,priority:2},test:async()=>{const t=i.settings.ADAPTER.createCanvas().getContext("webgl");return t?(n=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{s||o();const e=[];for(const t in s){s[t]&&e.push(t)}return[...e,...t]},remove:async t=>(s||o(),t.filter((t=>!(t in s))))};i.extensions.add(a),e.detectCompressedTextures=a},27424:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(88256);var i=r(12005),n=r(80869),s=r(5192),o=r(83291);e.detectCompressedTextures=i.detectCompressedTextures,e.loadDDS=n.loadDDS,e.loadKTX=s.loadKTX,e.resolveCompressedTextureUrl=o.resolveCompressedTextureUrl},80869:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(8415),n=r(48742);r(71807);var s=r(1620);const o={extension:{type:n.ExtensionType.LoadParser,priority:i.LoaderParserPriority.High},name:"loadDDS",test:t=>i.checkExtension(t,".dds"),async load(t,e,r){const o=await n.settings.ADAPTER.fetch(t),a=await o.arrayBuffer(),u=s.parseDDS(a).map((s=>{const o=new n.BaseTexture(s,{mipmap:n.MIPMAP_MODES.OFF,alphaMode:n.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:n.utils.getResolutionOfUrl(t),...e.data});return i.createTexture(o,r,t)}));return 1===u.length?u[0]:u},unload(t){Array.isArray(t)?t.forEach((t=>t.destroy(!0))):t.destroy(!0)}};n.extensions.add(o),e.loadDDS=o},5192:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(8415),n=r(48742);r(71807);var s=r(42581);const o={extension:{type:n.ExtensionType.LoadParser,priority:i.LoaderParserPriority.High},name:"loadKTX",test:t=>i.checkExtension(t,".ktx"),async load(t,e,r){const o=await n.settings.ADAPTER.fetch(t),a=await o.arrayBuffer(),{compressed:u,uncompressed:l,kvData:c}=s.parseKTX(t,a),h=u??l,d={mipmap:n.MIPMAP_MODES.OFF,alphaMode:n.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:n.utils.getResolutionOfUrl(t),...e.data},p=h.map((e=>{h===l&&Object.assign(d,{type:e.type,format:e.format});const s=new n.BaseTexture(e,d);return s.ktxKeyValueData=c,i.createTexture(s,r,t)}));return 1===p.length?p[0]:p},unload(t){Array.isArray(t)?t.forEach((t=>t.destroy(!0))):t.destroy(!0)}};n.extensions.add(o),e.loadKTX=o},83291:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);const n={extension:i.ExtensionType.ResolveParser,test:t=>{const e=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(e)},parse:t=>{if("ktx"===t.split("?")[0].split(".").pop()){const e=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(e.some((e=>t.endsWith(e))))return{resolution:parseFloat(i.settings.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e.find((e=>t.endsWith(e))),src:t}}return{resolution:parseFloat(i.settings.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t}}};i.extensions.add(n),e.resolveCompressedTextureUrl=n},71807:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1620),n=r(42581);e.parseDDS=i.parseDDS,e.FORMATS_TO_COMPONENTS=n.FORMATS_TO_COMPONENTS,e.TYPES_TO_BYTES_PER_COMPONENT=n.TYPES_TO_BYTES_PER_COMPONENT,e.TYPES_TO_BYTES_PER_PIXEL=n.TYPES_TO_BYTES_PER_PIXEL,e.parseKTX=n.parseKTX},1620:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(9133);r(35534);var n=r(49947);const s=124,o=3,a=4,u=7,l=19,c=2,h=0,d=1,p=2,f=3;const _={827611204:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT},y={70:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};e.parseDDS=function(t){const e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,s/Uint32Array.BYTES_PER_ELEMENT),m=r[o],g=r[a],v=r[u],b=new Uint32Array(t,l*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),x=b[1];if(4&x){const r=b[c];if(808540228!==r){const e=_[r],i=new Uint8Array(t,128);return[new n.CompressedTextureResource(i,{format:e,width:g,height:m,levels:v})]}const s=128,o=new Uint32Array(e.buffer,s,20/Uint32Array.BYTES_PER_ELEMENT),a=o[h],u=o[d],l=o[p],x=o[f],T=y[a];if(void 0===T)throw new Error(`DDSParser cannot parse texture data with DXGI format ${a}`);if(4===l)throw new Error("DDSParser does not support cubemap textures");if(6===u)throw new Error("DDSParser does not supported 3D texture data");const E=new Array,S=148;if(1===x)E.push(new Uint8Array(t,S));else{const e=i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[T];let r=0,n=g,s=m;for(let t=0;t<v;t++){r+=Math.max(1,n+3&-4)*Math.max(1,s+3&-4)*e,n>>>=1,s>>>=1}let o=S;for(let e=0;e<x;e++)E.push(new Uint8Array(t,o,r)),o+=r}return E.map((t=>new n.CompressedTextureResource(t,{format:T,width:g,height:m,levels:v})))}if(64&x)throw new Error("DDSParser does not support uncompressed texture data.");if(512&x)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(131072&x)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(2&x)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}},42581:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(9133);r(35534);var s=r(49947);const o=[171,75,84,88,32,49,49,187,13,10,26,10],a=12,u=16,l=24,c=28,h=36,d=40,p=44,f=48,_=52,y=56,m=60,g=64,v={[i.TYPES.UNSIGNED_BYTE]:1,[i.TYPES.UNSIGNED_SHORT]:2,[i.TYPES.INT]:4,[i.TYPES.UNSIGNED_INT]:4,[i.TYPES.FLOAT]:4,[i.TYPES.HALF_FLOAT]:8},b={[i.FORMATS.RGBA]:4,[i.FORMATS.RGB]:3,[i.FORMATS.RG]:2,[i.FORMATS.RED]:1,[i.FORMATS.LUMINANCE]:1,[i.FORMATS.LUMINANCE_ALPHA]:2,[i.FORMATS.ALPHA]:1},x={[i.TYPES.UNSIGNED_SHORT_4_4_4_4]:2,[i.TYPES.UNSIGNED_SHORT_5_5_5_1]:2,[i.TYPES.UNSIGNED_SHORT_5_6_5]:2};function T(t){switch(t){case i.FORMATS.RGBA:return i.FORMATS.RGBA_INTEGER;case i.FORMATS.RGB:return i.FORMATS.RGB_INTEGER;case i.FORMATS.RG:return i.FORMATS.RG_INTEGER;case i.FORMATS.RED:return i.FORMATS.RED_INTEGER;default:return t}}e.FORMATS_TO_COMPONENTS=b,e.TYPES_TO_BYTES_PER_COMPONENT=v,e.TYPES_TO_BYTES_PER_PIXEL=x,e.parseKTX=function(t,e,r=!1){const E=new DataView(e);if(!function(t,e){for(let r=0;r<o.length;r++)if(e.getUint8(r)!==o[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}(t,E))return null;const S=67305985===E.getUint32(a,!0),A=E.getUint32(u,S),w=E.getUint32(l,S),P=E.getUint32(c,S),O=E.getUint32(h,S),M=E.getUint32(d,S)||1,I=E.getUint32(p,S)||1,C=E.getUint32(f,S)||1,R=E.getUint32(_,S),D=E.getUint32(y,S),B=E.getUint32(m,S);if(0===M||1!==I)throw new Error("Only 2D textures are supported");if(1!==R)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==C)throw new Error("WebGL does not support array textures");const L=O+3&-4,F=M+3&-4,k=new Array(C);let N,j=O*M;if(0===A&&(j=L*F),N=0!==A?v[A]?v[A]*b[w]:x[A]:n.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[P],void 0===N)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const U=r?function(t,e,r){const i=new Map;let n=0;for(;n<e;){const s=t.getUint32(g+n,r),o=g+n+4,a=3-(s+3)%4;if(0===s||s>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<s&&0!==t.getUint8(o+u);u++);if(-1===u){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const l=(new TextDecoder).decode(new Uint8Array(t.buffer,o,u)),c=new DataView(t.buffer,o+u+1,s-u-1);i.set(l,c),n+=4+s+a}return i}(E,B,S):null;let G=j*N,H=O,V=M,W=L,z=F,X=g+B;for(let t=0;t<D;t++){const r=E.getUint32(X,S);let i=X+4;for(let r=0;r<C;r++){let n=k[r];n||(n=k[r]=new Array(D)),n[t]={levelID:t,levelWidth:D>1||0!==A?H:W,levelHeight:D>1||0!==A?V:z,levelBuffer:new Uint8Array(e,i,G)},i+=G}X+=r+4,X=X%4!=0?X+4-X%4:X,H=H>>1||1,V=V>>1||1,W=H+4-1&-4,z=V+4-1&-4,G=W*z*N}return 0!==A?{uncompressed:k.map((t=>{let e=t[0].levelBuffer,r=!1;return A===i.TYPES.FLOAT?e=new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4):A===i.TYPES.UNSIGNED_INT?(r=!0,e=new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)):A===i.TYPES.INT&&(r=!0,e=new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)),{resource:new i.BufferResource(e,{width:t[0].levelWidth,height:t[0].levelHeight}),type:A,format:r?T(w):w}})),kvData:U}:{compressed:k.map((t=>new s.CompressedTextureResource(null,{format:P,width:O,height:M,levels:D,levelBuffers:t}))),kvData:U}}},91788:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);class n extends i.BufferResource{constructor(t,e={width:1,height:1,autoLoad:!0}){let r,n;"string"==typeof t?(r=t,n=new Uint8Array):(r=null,n=t),super(n,e),this.origin=r,this.buffer=n?new i.ViewableBuffer(n):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==e.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load||(this._load=fetch(this.origin).then((t=>t.blob())).then((t=>t.arrayBuffer())).then((t=>(this.data=new Uint32Array(t),this.buffer=new i.ViewableBuffer(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)))),this._load}}e.BlobResource=n},49947:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(9133),n=r(91788);class s extends n.BlobResource{constructor(t,e){super(t,e),this.format=e.format,this.levels=e.levels||1,this._width=e.width,this._height=e.height,this._extension=s._formatToExtension(this.format),(e.levelBuffers||this.buffer)&&(this._levelBuffers=e.levelBuffers||s._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,e,r){const i=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let t=0,e=this.levels;t<e;t++){const{levelID:e,levelWidth:r,levelHeight:n,levelBuffer:s}=this._levelBuffers[t];i.compressedTexImage2D(i.TEXTURE_2D,e,this.format,r,n,0,s)}return!0}onBlobLoaded(){this._levelBuffers=s._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(t,e,r,n,s,o,a){const u=new Array(r);let l=t.byteOffset,c=o,h=a,d=c+n-1&~(n-1),p=h+s-1&~(s-1),f=d*p*i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[e];for(let o=0;o<r;o++)u[o]={levelID:o,levelWidth:r>1?c:d,levelHeight:r>1?h:p,levelBuffer:new Uint8Array(t.buffer,l,f)},l+=f,c=c>>1||1,h=h>>1||1,d=c+n-1&~(n-1),p=h+s-1&~(s-1),f=d*p*i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[e];return u}}e.CompressedTextureResource=s},35534:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(91788),n=r(49947);e.BlobResource=i.BlobResource,e.CompressedTextureResource=n.CompressedTextureResource},57616:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(r||{}),i=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(i||{}),n=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(n||{}),s=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(s||{}),o=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(o||{}),a=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(a||{}),u=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(u||{}),l=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(l||{}),c=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(c||{}),h=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(h||{}),d=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(d||{}),p=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(p||{}),f=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(f||{}),_=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(_||{}),y=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(y||{}),m=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(m||{}),g=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(g||{}),v=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(v||{}),b=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(b||{}),x=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(x||{});e.ALPHA_MODES=f,e.BLEND_MODES=s,e.BUFFER_BITS=n,e.BUFFER_TYPE=x,e.CLEAR_MODES=_,e.COLOR_MASK_BITS=v,e.DRAW_MODES=o,e.ENV=r,e.FORMATS=a,e.GC_MODES=y,e.MASK_TYPES=g,e.MIPMAP_MODES=p,e.MSAA_QUALITY=b,e.PRECISION=m,e.RENDERER_TYPE=i,e.SAMPLER_TYPES=c,e.SCALE_MODES=h,e.TARGETS=u,e.TYPES=l,e.WRAP_MODES=d},64665:()=>{},97032:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(71648),s=r(40435),o=r(82101),a=r(12191),u=r(44240),l=r(8065);const c=class extends l.SystemManager{constructor(t){super(),this.type=i.RENDERER_TYPE.WEBGL,t=Object.assign({},o.settings.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new u.UniformGroup({projectionMatrix:new s.Matrix},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:c.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(a.deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),this._plugin.rendererPlugins=c.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return!t?.forceCanvas&&a.isWebGLSupported()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return a.deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return a.deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return a.deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return a.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){a.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return a.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){a.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return a.deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let h=c;h.extension={type:n.ExtensionType.Renderer,priority:1},h.__plugins={},h.__systems={},n.extensions.handleByMap(n.ExtensionType.RendererPlugin,h.__plugins),n.extensions.handleByMap(n.ExtensionType.RendererSystem,h.__systems),n.extensions.add(h),e.Renderer=h},83947:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648);const n=[];i.extensions.handleByList(i.ExtensionType.Renderer,n),e.autoDetectRenderer=function(t){for(const e of n)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}},31110:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1122),n=r(71648);class s{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new i.Color(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:e,background:r,backgroundAlpha:i}=t,n=r??e;void 0!==n&&(this.color=n),this.alpha=i}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}s.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},s.extension={type:[n.ExtensionType.RendererSystem,n.ExtensionType.CanvasRendererSystem],name:"background"},n.extensions.add(s),e.BackgroundSystem=s},49731:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616);e.BatchDrawCall=class{constructor(){this.texArray=null,this.blend=0,this.type=i.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}},91197:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(44518),s=r(82736);class o extends s.Geometry{constructor(t=!1){super(),this._buffer=new n.Buffer(null,t,!1),this._indexBuffer=new n.Buffer(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,i.TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,i.TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,i.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,i.TYPES.FLOAT).addIndex(this._indexBuffer)}}e.BatchGeometry=o},68615:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1122),n=r(57616),s=r(71648),o=r(82101),a=r(12191),u=r(60403),l=r(27863),c=r(37387),h=r(43396),d=r(49731),p=r(91197),f=r(24616),_=r(26512),y=r(24332),m=r(15278),g=r(40619),v=r(43873),b=r(42525);const x=class extends g.ObjectRenderer{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=p.BatchGeometry,this.vertexSize=6,this.state=c.State.for2d(),this.size=4*x.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??m.maxRecommendedTextures(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??y.canUploadSameBuffer(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return a.deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return b.default}static get defaultFragmentTemplate(){return v.default}setShaderGenerator({vertex:t=x.defaultVertexSrc,fragment:e=x.defaultFragmentTemplate}={}){this.shaderGenerator=new f.BatchShaderGenerator(t,e)}contextChange(){const t=this.renderer.gl;o.settings.PREFER_ENV===n.ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x.defaultMaxTextures),this.maxTextures=l.checkMaxIfStatementsInShader(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=x,r=this.size/4,i=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new d.BatchDrawCall);for(;e.length<i;)e.push(new _.BatchTextureArray);for(let t=0;t<this.maxTextures;t++)this._tempBoundTextures[t]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=x._textureArrayPool,i=this.renderer.batch,n=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++h.BaseTexture._globalBatch,a=0,u=r[0],l=0;i.copyBoundTextures(n,e);for(let c=0;c<this._bufferSize;++c){const h=t[c];t[c]=null,h._batchEnabled!==o&&(u.count>=e&&(i.boundArray(u,n,o,e),this.buildDrawCalls(u,l,c),l=c,u=r[++a],++o),h._batchEnabled=o,h.touched=s,u.elements[u.count++]=h)}u.count>0&&(i.boundArray(u,n,o,e),this.buildDrawCalls(u,l,this._bufferSize),++a,++o);for(let t=0;t<n.length;t++)n[t]=null;h.BaseTexture._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:i,_attributeBuffer:n,_indexBuffer:s,vertexSize:o}=this,u=x._drawCallPool;let l=this._dcIndex,c=this._aIndex,h=this._iIndex,d=u[l];d.start=this._iIndex,d.texArray=t;for(let p=e;p<r;++p){const r=i[p],f=r._texture.baseTexture,_=a.premultiplyBlendMode[f.alphaMode?1:0][r.blendMode];i[p]=null,e<p&&d.blend!==_&&(d.size=h-d.start,e=p,d=u[++l],d.texArray=t,d.start=h),this.packInterleavedGeometry(r,n,s,c,h),c+=r.vertexData.length/2*o,h+=r.indices.length,d.blend=_}e<r&&(d.size=h-d.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;x.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,i=x._drawCallPool;let n=null;for(let s=0;s<t;s++){const{texArray:t,type:o,size:a,start:u,blend:l}=i[s];n!==t&&(n=t,this.bindAndClearTexArray(t)),this.state.blendMode=l,r.set(this.state),e.drawElements(o,a,e.UNSIGNED_SHORT,2*u)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),x.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=a.nextPow2(Math.ceil(t/8)),r=a.log2(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new u.ViewableBuffer(i*this.vertexSize*4)),n}getIndexBuffer(t){const e=a.nextPow2(Math.ceil(t/12)),r=a.log2(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n}packInterleavedGeometry(t,e,r,n,s){const{uint32View:o,float32View:a}=e,u=n/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,d=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),f=i.Color.shared.setValue(t._tintRGB).toPremultiplied(p,t._texture.baseTexture.alphaMode>0);for(let t=0;t<h.length;t+=2)a[n++]=h[t],a[n++]=h[t+1],a[n++]=l[t],a[n++]=l[t+1],o[n++]=f,a[n++]=d;for(let t=0;t<c.length;t++)r[s++]=u+c[t]}};let T=x;T.defaultBatchSize=4096,T.extension={name:"batch",type:s.ExtensionType.RendererPlugin},T._drawCallPool=[],T._textureArrayPool=[],s.extensions.add(T),e.BatchRenderer=T},24616:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(40435),n=r(89906),s=r(87398),o=r(44240);e.BatchShaderGenerator=class{constructor(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},!e.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!e.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const e=new Int32Array(t);for(let r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=o.UniformGroup.from({uSamplers:e},!0);let r=this.fragTemplate;r=r.replace(/%count%/gi,`${t}`),r=r.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new n.Program(this.vertexSrc,r)}const e={tint:new Float32Array([1,1,1,1]),translationMatrix:new i.Matrix,default:this.defaultGroupCache[t]};return new s.Shader(this.programCache[t],e)}generateSampleSrc(t){let e="";e+="\n",e+="\n";for(let r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+=`if(vTextureId < ${r}.5)`),e+="\n{",e+=`\n\tcolor = texture2D(uSamplers[${r}], vTextureCoord);`,e+="\n}";return e+="\n",e+="\n",e}}},95309:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648),n=r(40619);class s{constructor(t){this.renderer=t,this.emptyRenderer=new n.ObjectRenderer(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,e){const{boundTextures:r}=this.renderer.texture;for(let i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)}boundArray(t,e,r,i){const{elements:n,ids:s,count:o}=t;let a=0;for(let t=0;t<o;t++){const o=n[t],u=o._batchLocation;if(u>=0&&u<i&&e[u]===o)s[t]=u;else for(;a<i;){const i=e[a];if(!i||i._batchEnabled!==r||i._batchLocation!==a){s[t]=a,o._batchLocation=a,e[a]=o;break}a++}}}destroy(){this.renderer=null}}s.extension={type:i.ExtensionType.RendererSystem,name:"batch"},i.extensions.add(s),e.BatchSystem=s},26512:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BatchTextureArray=class{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}},40619:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ObjectRenderer=class{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}},24332:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82101);e.canUploadSameBuffer=function(){return!i.isMobile.apple.device}},15278:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82101);e.maxRecommendedTextures=function(t){let e=!0;const r=i.settings.ADAPTER.getNavigator();if(i.isMobile.tablet||i.isMobile.phone){if(i.isMobile.apple.device){const t=r.userAgent.match(/OS (\d+)_(\d+)?/);if(t){parseInt(t[1],10)<11&&(e=!1)}}if(i.isMobile.android.device){const t=r.userAgent.match(/Android\s([0-9.]*)/);if(t){parseInt(t[1],10)<7&&(e=!1)}}}return e?t:4}},43873:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"},42525:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"},21673:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(71648),s=r(82101);let o=0;class a{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=o++}init(t){if(t.context)this.initFromContext(t.context);else{const e=this.renderer.background.alpha<1,r=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:e,premultipliedAlpha:r,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=o++,this.renderer.runners.contextChange.emit(t);const e=this.renderer.view;void 0!==e.addEventListener&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const e=this.createContext(this.renderer.view,t);this.initFromContext(e)}createContext(t,e){let r;if(s.settings.PREFER_ENV>=i.ENV.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout((()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()}),0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,void 0!==t.removeEventListener&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const e=t.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}a.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},a.extension={type:n.ExtensionType.RendererSystem,name:"context"},n.extensions.add(a),e.ContextSystem=a},21316:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(89906),s=r(87398),o=r(37387),a=r(89400),u=r(40459);const l=class extends s.Shader{constructor(t,e,r){super(n.Program.from(t||l.defaultVertexSrc,e||l.defaultFragmentSrc),r),this.padding=0,this.resolution=l.defaultResolution,this.multisample=l.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new o.State}apply(t,e,r,i,n){t.applyFilter(this,e,r,i)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return u.default}static get defaultFragmentSrc(){return a.default}};let c=l;c.defaultResolution=1,c.defaultMultisample=i.MSAA_QUALITY.NONE,e.Filter=c},33092:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(40435);e.FilterState=class{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=i.MSAA_QUALITY.NONE,this.sourceFrame=new n.Rectangle,this.destinationFrame=new n.Rectangle,this.bindingSourceFrame=new n.Rectangle,this.bindingDestinationFrame=new n.Rectangle,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}},28994:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(71648),s=r(40435),o=r(26516),a=r(44240),u=r(342),l=r(72953),c=r(33092);const h=[new s.Point,new s.Point,new s.Point,new s.Point],d=new s.Matrix;class p{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new o.RenderTexturePool,this.statePool=[],this.quad=new u.Quad,this.quadUv=new l.QuadUv,this.tempRect=new s.Rectangle,this.activeState={},this.globalUniforms=new a.UniformGroup({outputFrame:new s.Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,e){const r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new c.FilterState,s=this.renderer.renderTexture;let o=e[0].resolution,a=e[0].multisample,u=e[0].padding,l=e[0].autoFit,h=e[0].legacy??!0;for(let t=1;t<e.length;t++){const r=e[t];o=Math.min(o,r.resolution),a=Math.min(a,r.multisample),u=this.useMaxPadding?Math.max(u,r.padding):u+r.padding,l=l&&r.autoFit,h=h||(r.legacy??!0)}1===i.length&&(this.defaultFilterStack[0].renderTexture=s.current),i.push(n),n.resolution=o,n.multisample=a,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(u);const p=this.tempRect.copyFrom(s.sourceFrame);r.projection.transform&&this.transformAABB(d.copyFrom(r.projection.transform).invert(),p),l?(n.sourceFrame.fit(p),(n.sourceFrame.width<=0||n.sourceFrame.height<=0)&&(n.sourceFrame.width=0,n.sourceFrame.height=0)):n.sourceFrame.intersects(p)||(n.sourceFrame.width=0,n.sourceFrame.height=0),this.roundFrame(n.sourceFrame,s.current?s.current.resolution:r.resolution,s.sourceFrame,s.destinationFrame,r.projection.transform),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o,a),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;const f=this.tempRect;f.x=0,f.y=0,f.width=n.sourceFrame.width,f.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,n.bindingSourceFrame.copyFrom(s.sourceFrame),n.bindingDestinationFrame.copyFrom(s.destinationFrame),n.transform=r.projection.transform,r.projection.transform=null,s.bind(n.renderTexture,n.sourceFrame,f),r.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;const n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;const s=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*e.resolution),o[1]=Math.round(s[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=e.sourceFrame.width*s[2]-.5*o[2],a[3]=e.sourceFrame.height*s[3]-.5*o[3],e.legacy){const t=n.filterArea;t[0]=e.destinationFrame.width,t[1]=e.destinationFrame.height,t[2]=e.sourceFrame.x,t[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const u=t[t.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,u.renderTexture,i.CLEAR_MODES.BLEND,e),this.returnFilterTexture(e.renderTexture);else{let t=e.renderTexture,n=this.getOptimalFilterTexture(t.width,t.height,e.resolution);n.filterFrame=t.filterFrame;let s=0;for(s=0;s<r.length-1;++s){1===s&&e.multisample>1&&(n=this.getOptimalFilterTexture(t.width,t.height,e.resolution),n.filterFrame=t.filterFrame),r[s].apply(this,t,n,i.CLEAR_MODES.CLEAR,e);const o=t;t=n,n=o}r[s].apply(this,t,u.renderTexture,i.CLEAR_MODES.BLEND,e),s>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(t),this.returnFilterTexture(n)}e.clear(),this.statePool.push(e)}bindAndClear(t,e=i.CLEAR_MODES.CLEAR){const{renderTexture:r,state:n}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t?.filterFrame){const e=this.tempRect;e.x=0,e.y=0,e.width=t.filterFrame.width,e.height=t.filterFrame.height,r.bind(t,t.filterFrame,e)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=1&n.stateId||this.forceClear;(e===i.CLEAR_MODES.CLEAR||e===i.CLEAR_MODES.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,e,r,n){const s=this.renderer;s.state.set(t.state),this.bindAndClear(r,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(i.DRAW_MODES.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(i.DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(t,e){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:n}=e._texture,o=t.set(i.width,0,0,i.height,r.x,r.y),a=e.worldTransform.copyTo(s.Matrix.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/n.width,1/n.height),o.translate(e.anchor.x,e.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,e,r=1,n=i.MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(t,e,r,n)}getFilterTexture(t,e,r){if("number"==typeof t){const r=t;t=e,e=r}t=t||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,r||i.MSAA_QUALITY.NONE);return n.filterFrame=t.filterFrame,n}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,e){const r=h[0],i=h[1],n=h[2],s=h[3];r.set(e.left,e.top),i.set(e.left,e.bottom),n.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(r,r),t.apply(i,i),t.apply(n,n),t.apply(s,s);const o=Math.min(r.x,i.x,n.x,s.x),a=Math.min(r.y,i.y,n.y,s.y),u=Math.max(r.x,i.x,n.x,s.x),l=Math.max(r.y,i.y,n.y,s.y);e.x=o,e.y=a,e.width=u-o,e.height=l-a}roundFrame(t,e,r,i,n){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(n){const{a:t,b:e,c:r,d:i}=n;if((Math.abs(e)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4))return}(n=n?d.copyFrom(n):d.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(n,t),t.ceil(e),this.transformAABB(n.invert(),t)}}}p.extension={type:n.ExtensionType.RendererSystem,name:"filter"},n.extensions.add(p),e.FilterSystem=p},11975:()=>{},89400:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},40459:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},48977:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(40435),n=r(67772),s=r(21316),o=r(79058),a=r(67231);class u extends s.Filter{constructor(t,e,r){let n=null;"string"!=typeof t&&void 0===e&&void 0===r&&(n=t,t=void 0,e=void 0,r=void 0),super(t||a.default,e||o.default,r),this.maskSprite=n,this.maskMatrix=new i.Matrix}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,e,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new n.TextureMatrix(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))}}e.SpriteMaskFilter=u},79058:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"},67231:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n"},30979:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}"},23412:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},11517:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(30979),n=r(23412);const s=i.default,o=n.default;e.defaultFilterVertex=o,e.defaultVertex=s},96268:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(82156),s=r(43396),o=r(50911);e.Framebuffer=class{constructor(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new n.Runner("disposeFramebuffer"),this.multisample=i.MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,e){return this.colorTextures[t]=e||new s.BaseTexture(null,{scaleMode:i.SCALE_MODES.NEAREST,resolution:1,mipmap:i.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new s.BaseTexture(new o.DepthResource(null,{width:this.width,height:this.height}),{scaleMode:i.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:i.MIPMAP_MODES.OFF,format:i.FORMATS.DEPTH_COMPONENT,type:i.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(t/r,e/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}},66548:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(71648),s=r(40435),o=r(82101),a=r(96268),u=r(15465);const l=new s.Rectangle;class c{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new a.Framebuffer(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new s.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;o.settings.PREFER_ENV===i.ENV.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=t=>e.drawBuffersWEBGL(t):(this.hasMRT=!1,t.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,e,r=0){const{gl:i}=this;if(t){const n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,n.mipLevel=r),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,n.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let e=0;e<t.colorTextures.length;e++){const r=t.colorTextures[e];this.renderer.texture.unbind(r.parentTextureArray||r)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){const t=e.width>>r,i=e.height>>r,n=t/e.width;this.setViewport(e.x*n,e.y*n,t,i)}else{const e=t.width>>r,i=t.height>>r;this.setViewport(0,0,e,i)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,e,r,i){const n=this.viewport;t=Math.round(t),e=Math.round(e),r=Math.round(r),i=Math.round(i),n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,e,r,n,s=i.BUFFER_BITS.COLOR|i.BUFFER_BITS.DEPTH){const{gl:o}=this;o.clearColor(t,e,r,n),o.clear(s)}initFramebuffer(t){const{gl:e}=this,r=new u.GLFramebuffer(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r}resizeFramebuffer(t){const{gl:e}=this,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),r.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));const i=t.colorTextures;let n=i.length;e.drawBuffers||(n=Math.min(n,1));for(let s=0;s<n;s++){const n=i[s],o=n.parentTextureArray||n;this.renderer.texture.bind(o,0),0===s&&r.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,o._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,e){const{gl:r}=this,i=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures;let s=n.length;r.drawBuffers||(s=Math.min(s,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const o=[];for(let a=0;a<s;a++){const s=n[a],u=s.parentTextureArray||s;this.renderer.texture.bind(u,0),0===a&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+a,s.target,u._glTextures[this.CONTEXT_UID].texture,e),o.push(r.COLOR_ATTACHMENT0+a))}if(o.length>1&&r.drawBuffers(o),t.depthTexture){if(this.writeDepthTexture){const i=t.depthTexture;this.renderer.texture.bind(i,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,i._glTextures[this.CONTEXT_UID].texture,e)}}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null):(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil))}canMultisampleFramebuffer(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:e}=this;let r=i.MSAA_QUALITY.NONE;if(t<=1||null===e)return r;for(let i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=i.MSAA_QUALITY.NONE),r}blit(t,e,r){const{current:i,renderer:n,gl:s,CONTEXT_UID:o}=this;if(2!==n.context.webGLVersion)return;if(!i)return;const u=i.glFramebuffers[o];if(!u)return;if(!t){if(!u.msaaBuffer)return;const e=i.colorTextures[0];if(!e)return;u.blitFramebuffer||(u.blitFramebuffer=new a.Framebuffer(i.width,i.height),u.blitFramebuffer.addColorTexture(0,e)),(t=u.blitFramebuffer).colorTextures[0]!==e&&(t.colorTextures[0]=e,t.dirtyId++,t.dirtyFormat++),t.width===i.width&&t.height===i.height||(t.width=i.width,t.height=i.height,t.dirtyId++,t.dirtySize++)}e||((e=l).width=i.width,e.height=i.height),r||(r=e);const c=e.width===r.width&&e.height===r.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,u.framebuffer),s.blitFramebuffer(e.left,e.top,e.right,e.bottom,r.left,r.top,r.right,r.bottom,s.COLOR_BUFFER_BIT,c?s.NEAREST:s.LINEAR),s.bindFramebuffer(s.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,e){const r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete t.glFramebuffers[this.CONTEXT_UID];const n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,e)}disposeAll(t){const e=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)}forceStencil(){const t=this.current;if(!t)return;const e=t.glFramebuffers[this.CONTEXT_UID];if(!e||e.stencil)return;t.stencil=!0;const r=t.width,i=t.height,n=this.gl,s=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,s),e.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,e.multisample,n.DEPTH24_STENCIL8,r,i):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=s,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,s)}reset(){this.current=this.unknownFramebuffer,this.viewport=new s.Rectangle}destroy(){this.renderer=null}}c.extension={type:n.ExtensionType.RendererSystem,name:"framebuffer"},n.extensions.add(c),e.FramebufferSystem=c},15465:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616);e.GLFramebuffer=class{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=i.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}},82124:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(71648);class s{constructor(t){this.renderer=t}contextChange(t){let e;if(1===this.renderer.context.webGLVersion){const r=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,r)}else{const r=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,r)}e>=i.MSAA_QUALITY.HIGH?this.multisample=i.MSAA_QUALITY.HIGH:e>=i.MSAA_QUALITY.MEDIUM?this.multisample=i.MSAA_QUALITY.MEDIUM:e>=i.MSAA_QUALITY.LOW?this.multisample=i.MSAA_QUALITY.LOW:this.multisample=i.MSAA_QUALITY.NONE}destroy(){}}s.extension={type:n.ExtensionType.RendererSystem,name:"_multisample"},n.extensions.add(s),e.MultisampleSystem=s},8069:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616);class n{constructor(t,e=0,r=!1,n=i.TYPES.FLOAT,s,o,a,u=1){this.buffer=t,this.size=e,this.normalized=r,this.type=n,this.stride=s,this.start=o,this.instance=a,this.divisor=u}destroy(){this.buffer=null}static from(t,e,r,i,s){return new n(t,e,r,i,s)}}e.Attribute=n},44518:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(82156);let s=0;class o{constructor(t,e=!0,r=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=s++,this.disposeRunner=new n.Runner("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?i.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:i.BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===i.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new o(t)}}e.Buffer=o},13313:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648),n=r(81204);class s{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:r}=this,i=t._glBuffers[r]||this.createGLBuffer(t);e.bindBuffer(t.type,i.buffer)}unbind(t){const{gl:e}=this;e.bindBuffer(t,null)}bindBufferBase(t,e){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[e]!==t){const n=t._glBuffers[i]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,n.buffer)}}bindBufferRange(t,e,r){const{gl:i,CONTEXT_UID:n}=this;r=r||0;const s=t._glBuffers[n]||this.createGLBuffer(t);i.bindBufferRange(i.UNIFORM_BUFFER,e||0,s.buffer,256*r,256)}update(t){const{gl:e,CONTEXT_UID:r}=this,i=t._glBuffers[r]||this.createGLBuffer(t);if(t._updateID!==i.updateID)if(i.updateID=t._updateID,e.bindBuffer(t.type,i.buffer),i.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{const r=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;i.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,r)}}dispose(t,e){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const e=Object.keys(this.managedBuffers);for(let r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],t)}createGLBuffer(t){const{CONTEXT_UID:e,gl:r}=this;return t._glBuffers[e]=new n.GLBuffer(r.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]}}s.extension={type:i.ExtensionType.RendererSystem,name:"buffer"},i.extensions.add(s),e.BufferSystem=s},81204:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GLBuffer=class{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}},82736:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(82156),s=r(12191),o=r(8069),a=r(44518),u=r(72281);const l={5126:4,5123:2,5121:1};let c=0;const h={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class d{constructor(t=[],e={}){this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=c++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new n.Runner("disposeGeometry"),this.refCount=0}addAttribute(t,e,r=0,i=!1,n,s,u,l=!1){if(!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof a.Buffer||(e instanceof Array&&(e=new Float32Array(e)),e=new a.Buffer(e));const c=t.split("|");if(c.length>1){for(let t=0;t<c.length;t++)this.addAttribute(c[t],e,r,i,n);return this}let h=this.buffers.indexOf(e);return-1===h&&(this.buffers.push(e),h=this.buffers.length-1),this.attributes[t]=new o.Attribute(h,r,i,n,s,u,l),this.instanced=this.instanced||l,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof a.Buffer||(t instanceof Array&&(t=new Uint16Array(t)),t=new a.Buffer(t)),t.type=i.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const t=[],e=[],r=new a.Buffer;let i;for(i in this.attributes){const r=this.attributes[i],n=this.buffers[r.buffer];t.push(n.data),e.push(r.size*l[r.type]/4),r.buffer=0}for(r.data=u.interleaveTypedArrays(t,e),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new d;for(let e=0;e<this.buffers.length;e++)t.buffers[e]=new a.Buffer(this.buffers[e].data.slice(0));for(const e in this.attributes){const r=this.attributes[e];t.attributes[e]=new o.Attribute(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=i.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),t}static merge(t){const e=new d,r=[],n=[],o=[];let u;for(let e=0;e<t.length;e++){u=t[e];for(let t=0;t<u.buffers.length;t++)n[t]=n[t]||0,n[t]+=u.buffers[t].data.length,o[t]=0}for(let t=0;t<u.buffers.length;t++)r[t]=new(h[s.getBufferType(u.buffers[t].data)])(n[t]),e.buffers[t]=new a.Buffer(r[t]);for(let e=0;e<t.length;e++){u=t[e];for(let t=0;t<u.buffers.length;t++)r[t].set(u.buffers[t].data,o[t]),o[t]+=u.buffers[t].data.length}if(e.attributes=u.attributes,u.indexBuffer){e.indexBuffer=e.buffers[u.buffers.indexOf(u.indexBuffer)],e.indexBuffer.type=i.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;let r=0,n=0,s=0,o=0;for(let t=0;t<u.buffers.length;t++)if(u.buffers[t]!==u.indexBuffer){o=t;break}for(const t in u.attributes){const e=u.attributes[t];(0|e.buffer)===o&&(n+=e.size*l[e.type]/4)}for(let i=0;i<t.length;i++){const a=t[i].indexBuffer.data;for(let t=0;t<a.length;t++)e.indexBuffer.data[t+s]+=r;r+=t[i].buffers[o].data.length/n,s+=a.length}}return e}}e.Geometry=d},98911:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(71648),s=r(82101);const o={5126:4,5123:2,5121:1};class a{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){let e=this.renderer.context.extensions.vertexArrayObject;s.settings.PREFER_ENV===i.ENV.WEBGL_LEGACY&&(e=null),e?(t.createVertexArray=()=>e.createVertexArrayOES(),t.bindVertexArray=t=>e.bindVertexArrayOES(t),t.deleteVertexArray=t=>e.deleteVertexArrayOES(t)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(2!==e.webGLVersion){const e=t.getExtension("ANGLE_instanced_arrays");e?(t.vertexAttribDivisor=(t,r)=>e.vertexAttribDivisorANGLE(t,r),t.drawElementsInstanced=(t,r,i,n,s)=>e.drawElementsInstancedANGLE(t,r,i,n,s),t.drawArraysInstanced=(t,r,i,n)=>e.drawArraysInstancedANGLE(t,r,i,n)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex}bind(t,e){e=e||this.renderer.shader.shader;const{gl:r}=this;let i=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);const s=i[e.program.id]||this.initGeometryVao(t,e,n);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?r.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,e=this.renderer.buffer;for(let r=0;r<t.buffers.length;r++){const i=t.buffers[r];e.update(i)}}checkCompatibility(t,e){const r=t.attributes,i=e.attributeData;for(const t in i)if(!r[t])throw new Error(`shader and geometry incompatible, geometry missing the "${t}" attribute`)}getSignature(t,e){const r=t.attributes,i=e.attributeData,n=["g",t.id];for(const t in r)i[t]&&n.push(t,i[t].location);return n.join("-")}initGeometryVao(t,e,r=!0){const n=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,u=e.program;u.glPrograms[s]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,u);const l=this.getSignature(t,u),c=t.glVertexArrayObjects[this.CONTEXT_UID];let h=c[l];if(h)return c[u.id]=h,h;const d=t.buffers,p=t.attributes,f={},_={};for(const t in d)f[t]=0,_[t]=0;for(const t in p)!p[t].size&&u.attributeData[t]?p[t].size=u.attributeData[t].size:p[t].size||console.warn(`PIXI Geometry attribute '${t}' size cannot be determined (likely the bound shader does not have the attribute)`),f[p[t].buffer]+=p[t].size*o[p[t].type];for(const t in p){const e=p[t],r=e.size;void 0===e.stride&&(f[e.buffer]===r*o[e.type]?e.stride=0:e.stride=f[e.buffer]),void 0===e.start&&(e.start=_[e.buffer],_[e.buffer]+=r*o[e.type])}h=n.createVertexArray(),n.bindVertexArray(h);for(let t=0;t<d.length;t++){const e=d[t];a.bind(e),r&&e._glBuffers[s].refCount++}return this.activateVao(t,u),c[u.id]=h,c[l]=h,n.bindVertexArray(null),a.unbind(i.BUFFER_TYPE.ARRAY_BUFFER),h}disposeGeometry(t,e){if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers,s=this.renderer?.buffer;if(t.disposeRunner.remove(this),r){if(s)for(let t=0;t<n.length;t++){const r=n[t]._glBuffers[this.CONTEXT_UID];r&&(r.refCount--,0!==r.refCount||e||s.dispose(n[t],e))}if(!e)for(const t in r)if("g"===t[0]){const e=r[t];this._activeVao===e&&this.unbind(),i.deleteVertexArray(e)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const e=Object.keys(this.managedGeometries);for(let r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t)}activateVao(t,e){const r=this.gl,i=this.CONTEXT_UID,n=this.renderer.buffer,s=t.buffers,o=t.attributes;t.indexBuffer&&n.bind(t.indexBuffer);let a=null;for(const t in o){const u=o[t],l=s[u.buffer],c=l._glBuffers[i];if(e.attributeData[t]){a!==c&&(n.bind(l),a=c);const i=e.attributeData[t].location;if(r.enableVertexAttribArray(i),r.vertexAttribPointer(i,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(i,u.divisor)}}}}draw(t,e,r,i){const{gl:n}=this,s=this._activeGeometry;if(s.indexBuffer){const o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?n.drawElementsInstanced(t,e||s.indexBuffer.data.length,a,(r||0)*o,i||1):n.drawElements(t,e||s.indexBuffer.data.length,a,(r||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?n.drawArraysInstanced(t,r,e||s.getSize(),i||1):n.drawArrays(t,r,e||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}a.extension={type:n.ExtensionType.RendererSystem,name:"geometry"},n.extensions.add(a),e.GeometrySystem=a},60403:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ViewableBuffer=class{constructor(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}},72281:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(12191);const n={Float32Array,Uint32Array,Int32Array,Uint8Array};e.interleaveTypedArrays=function(t,e){let r=0,s=0;const o={};for(let i=0;i<t.length;i++)s+=e[i],r+=t[i].length;const a=new ArrayBuffer(4*r);let u=null,l=0;for(let r=0;r<t.length;r++){const c=e[r],h=t[r],d=i.getBufferType(h);o[d]||(o[d]=new n[d](a)),u=o[d];for(let t=0;t<h.length;t++){u[(t/c|0)*s+l+t%c]=h[t]}l+=c}return new Float32Array(a)}},48742:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(31970);var i=r(1122),n=r(57616),s=r(71648),o=r(40435),a=r(82156),u=r(82101),l=r(36082),c=r(12191),h=r(83947),d=r(31110),p=r(49731),f=r(91197),_=r(68615),y=r(24616),m=r(95309),g=r(26512),v=r(40619),b=r(21673),x=r(21316),T=r(33092),E=r(28994);r(11975);var S=r(48977),A=r(11517),w=r(96268),P=r(66548),O=r(15465),M=r(82124),I=r(8069),C=r(44518),R=r(13313),D=r(82736),B=r(98911),L=r(60403);r(64665);var F=r(96676),k=r(73839),N=r(9832),j=r(25782),U=r(34800),G=r(64910),H=r(54353),V=r(97032),W=r(8399),z=r(34914),X=r(41020),Y=r(26516),$=r(62109),q=r(73784),K=r(89906),Q=r(87398),J=r(49535),Z=r(44240),tt=r(27863),et=r(91366),rt=r(9124),it=r(47465),nt=r(49145),st=r(94652),ot=r(3382),at=r(37387),ut=r(8389);r(64807),r(69774);var lt=r(43396),ct=r(50701);r(64535);var ht=r(65453),dt=r(21811),pt=r(67772),ft=r(1546),_t=r(46487),yt=r(23574),mt=r(58228),gt=r(342),vt=r(72953),bt=r(45711),xt=r(8065),Tt=r(93748),Et=r(79421),St=r(34627),At=r(82696),wt=r(11105),Pt=r(95737),Ot=r(30544),Mt=r(40073),It=r(11638),Ct=r(79137),Rt=r(23868),Dt=r(41540);function Bt(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(r){if("default"!==r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})),e.default=t,e}var Lt=Bt(c);e.utils=Lt,e.autoDetectRenderer=h.autoDetectRenderer,e.BackgroundSystem=d.BackgroundSystem,e.BatchDrawCall=p.BatchDrawCall,e.BatchGeometry=f.BatchGeometry,e.BatchRenderer=_.BatchRenderer,e.BatchShaderGenerator=y.BatchShaderGenerator,e.BatchSystem=m.BatchSystem,e.BatchTextureArray=g.BatchTextureArray,e.ObjectRenderer=v.ObjectRenderer,e.ContextSystem=b.ContextSystem,e.Filter=x.Filter,e.FilterState=T.FilterState,e.FilterSystem=E.FilterSystem,e.SpriteMaskFilter=S.SpriteMaskFilter,e.defaultFilterVertex=A.defaultFilterVertex,e.defaultVertex=A.defaultVertex,e.Framebuffer=w.Framebuffer,e.FramebufferSystem=P.FramebufferSystem,e.GLFramebuffer=O.GLFramebuffer,e.MultisampleSystem=M.MultisampleSystem,e.Attribute=I.Attribute,e.Buffer=C.Buffer,e.BufferSystem=R.BufferSystem,e.Geometry=D.Geometry,e.GeometrySystem=B.GeometrySystem,e.ViewableBuffer=L.ViewableBuffer,e.MaskData=F.MaskData,e.MaskSystem=k.MaskSystem,e.ScissorSystem=N.ScissorSystem,e.StencilSystem=j.StencilSystem,e.PluginSystem=U.PluginSystem,e.ProjectionSystem=G.ProjectionSystem,e.ObjectRendererSystem=H.ObjectRendererSystem,e.Renderer=V.Renderer,e.BaseRenderTexture=W.BaseRenderTexture,e.GenerateTextureSystem=z.GenerateTextureSystem,e.RenderTexture=X.RenderTexture,e.RenderTexturePool=Y.RenderTexturePool,e.RenderTextureSystem=$.RenderTextureSystem,e.GLProgram=q.GLProgram,e.IGLUniformData=q.IGLUniformData,e.Program=K.Program,e.Shader=Q.Shader,e.ShaderSystem=J.ShaderSystem,e.UniformGroup=Z.UniformGroup,e.checkMaxIfStatementsInShader=tt.checkMaxIfStatementsInShader,e.generateProgram=et.generateProgram,e.createUBOElements=rt.createUBOElements,e.generateUniformBufferSync=rt.generateUniformBufferSync,e.getUBOData=rt.getUBOData,e.getTestContext=it.getTestContext,e.uniformParsers=nt.uniformParsers,e.unsafeEvalSupported=st.unsafeEvalSupported,e.StartupSystem=ot.StartupSystem,e.State=at.State,e.StateSystem=ut.StateSystem,e.BaseTexture=lt.BaseTexture,e.GLTexture=ct.GLTexture,e.Texture=ht.Texture,e.TextureGCSystem=dt.TextureGCSystem,e.TextureMatrix=pt.TextureMatrix,e.TextureSystem=ft.TextureSystem,e.TextureUvs=_t.TextureUvs,e.TransformFeedback=yt.TransformFeedback,e.TransformFeedbackSystem=mt.TransformFeedbackSystem,e.Quad=gt.Quad,e.QuadUv=vt.QuadUv,e.ViewSystem=bt.ViewSystem,e.SystemManager=xt.SystemManager,e.BaseImageResource=Tt.BaseImageResource,e.Resource=Et.Resource,e.AbstractMultiResource=St.AbstractMultiResource,e.ArrayResource=At.ArrayResource,e.INSTALLED=wt.INSTALLED,e.autoDetectResource=wt.autoDetectResource,e.BufferResource=Pt.BufferResource,e.CanvasResource=Ot.CanvasResource,e.CubeResource=Mt.CubeResource,e.ImageBitmapResource=It.ImageBitmapResource,e.ImageResource=Ct.ImageResource,e.SVGResource=Rt.SVGResource,e.VideoResource=Dt.VideoResource,e.VERSION="7.2.4",Object.keys(i).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})})),Object.keys(n).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),Object.keys(s).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})),Object.keys(o).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})),Object.keys(a).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})),Object.keys(u).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})})),Object.keys(l).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})}))},86510:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.AbstractMaskSystem=class{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:e}=this.renderer,r=this.getStackLength();this.maskStack=t;const i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}},96676:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(21316);e.MaskData=class{constructor(t=null){this.type=i.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=n.Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=i.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}},73839:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(71648),s=r(48977),o=r(96676);class a{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,e){let r=e;if(!r.isMaskData){const t=this.maskDataPool.pop()||new o.MaskData;t.pooled=!0,t.maskObject=e,r=t}const n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(n),r._colorMask=n?n._colorMask:15,r.autoDetect&&this.detect(r),r._target=t,r.type!==i.MASK_TYPES.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case i.MASK_TYPES.SCISSOR:this.renderer.scissor.push(r);break;case i.MASK_TYPES.STENCIL:this.renderer.stencil.push(r);break;case i.MASK_TYPES.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case i.MASK_TYPES.COLOR:this.pushColorMask(r)}r.type===i.MASK_TYPES.SPRITE&&this.maskStack.push(r)}pop(t){const e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case i.MASK_TYPES.SCISSOR:this.renderer.scissor.pop(e);break;case i.MASK_TYPES.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case i.MASK_TYPES.SPRITE:this.popSpriteMask(e);break;case i.MASK_TYPES.COLOR:this.popColorMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){const t=this.maskStack[this.maskStack.length-1];t.type===i.MASK_TYPES.SPRITE&&t._filters&&(t._filters[0].maskSprite=t.maskObject)}}}detect(t){const e=t.maskObject;e?e.isSprite?t.type=i.MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=i.MASK_TYPES.SCISSOR:t.type=i.MASK_TYPES.STENCIL:t.type=i.MASK_TYPES.COLOR}pushSpriteMask(t){const{maskObject:e}=t,r=t._target;let i=t._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new s.SpriteMaskFilter]));const n=this.renderer,o=n.renderTexture;let a,u;if(o.current){const e=o.current;a=t.resolution||e.resolution,u=t.multisample??e.multisample}else a=t.resolution||n.resolution,u=t.multisample??n.multisample;i[0].resolution=a,i[0].multisample=u,i[0].maskSprite=e;const l=r.filterArea;r.filterArea=e.getBounds(!0),n.filter.push(r,i),r.filterArea=l,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const e=t._colorMask,r=t._colorMask=e&t.colorMask;r!==e&&this.renderer.gl.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))}popColorMask(t){const e=t._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==e&&this.renderer.gl.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))}destroy(){this.renderer=null}}a.extension={type:n.ExtensionType.RendererSystem,name:"mask"},n.extensions.add(a),e.MaskSystem=a},9832:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648),n=r(40435),s=r(82101),o=r(86510);const a=new n.Matrix,u=[],l=class extends o.AbstractMaskSystem{constructor(t){super(t),this.glConst=s.settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:i}=this,s=i.renderTexture,o=r.getBounds(!0,u.pop()??new n.Rectangle);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),e&&o.fit(e),t._scissorRectLocal=o}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:i,d:n}=t;return(Math.abs(r)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect())return!1;if(l.isMatrixRotated(e.worldTransform))return!1;if(l.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,i,n){l.isMatrixRotated(n)||((n=n?a.copyFrom(n):a.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(n,t),t.fit(i),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&u.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let c=l;c.extension={type:i.ExtensionType.RendererSystem,name:"scissor"},i.extensions.add(c),e.ScissorSystem=c},25782:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648),n=r(82101),s=r(86510);class o extends s.AbstractMaskSystem{constructor(t){super(t),this.glConst=n.settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const e=t.maskObject,{gl:r}=this.renderer,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),t._stencilCounter++;const n=t._colorMask;0!==n&&(t._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==n&&(t._colorMask=n,r.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))),this._useCurrent()}pop(t){const e=this.renderer.gl;if(0===this.getStackLength())e.disable(e.STENCIL_TEST);else{const r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;0!==i&&(r._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(r._colorMask=i,e.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}o.extension={type:i.ExtensionType.RendererSystem,name:"stencil"},i.extensions.add(o),e.StencilSystem=o},34800:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648),n=r(12191);class s{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(n.deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract)},prepare:{enumerable:!1,get:()=>(n.deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare)},interaction:{enumerable:!1,get:()=>(n.deprecation("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events)}})}init(){const t=this.rendererPlugins;for(const e in t)this.plugins[e]=new t[e](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}s.extension={type:[i.ExtensionType.RendererSystem,i.ExtensionType.CanvasRendererSystem],name:"_plugin"},i.extensions.add(s),e.PluginSystem=s},64910:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648),n=r(40435);class s{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new n.Matrix,this.transform=null}update(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)}calculateProjection(t,e,r,i){const n=this.projectionMatrix,s=i?-1:1;n.identity(),n.a=1/e.width*2,n.d=s*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-s-e.y*n.d}setTransform(t){}destroy(){this.renderer=null}}s.extension={type:i.ExtensionType.RendererSystem,name:"projection"},i.extensions.add(s),e.ProjectionSystem=s},54353:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648);class n{constructor(t){this.renderer=t}render(t,e){const r=this.renderer;let i,n,s,o;if(e&&(i=e.renderTexture,n=e.clear,s=e.transform,o=e.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=s,!r.context.isLost){if(i||(this.lastObjectRendered=t),!o){const e=t.enableTempParent();t.updateTransform(),t.disableTempParent(e)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(n??r.background.clearBeforeRender)&&r.renderTexture.clear(),t.render(r),r.batch.currentRenderer.flush(),i&&(e.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}n.extension={type:i.ExtensionType.RendererSystem,name:"objectRenderer"},i.extensions.add(n),e.ObjectRendererSystem=n},8399:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1122),n=r(57616),s=r(96268),o=r(43396);class a extends o.BaseTexture{constructor(t={}){if("number"==typeof t){t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}}t.width=t.width||100,t.height=t.height||100,t.multisample??(t.multisample=n.MSAA_QUALITY.NONE),super(null,t),this.mipmap=n.MIPMAP_MODES.OFF,this.valid=!0,this._clear=new i.Color([0,0,0,0]),this.framebuffer=new s.Framebuffer(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}e.BaseRenderTexture=a},34914:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648),n=r(40435),s=r(41020);const o=new n.Transform;class a{constructor(t){this.renderer=t,this._tempMatrix=new n.Matrix}generateTexture(t,e){const{region:r,...i}=e||{},n=r||t.getLocalBounds(null,!0);0===n.width&&(n.width=1),0===n.height&&(n.height=1);const a=s.RenderTexture.create({width:n.width,height:n.height,...i});this._tempMatrix.tx=-n.x,this._tempMatrix.ty=-n.y;const u=t.transform;return t.transform=o,this.renderer.render(t,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=u,a}destroy(){}}a.extension={type:[i.ExtensionType.RendererSystem,i.ExtensionType.CanvasRendererSystem],name:"textureGenerator"},i.extensions.add(a),e.GenerateTextureSystem=a},41020:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(65453),n=r(8399);class s extends i.Texture{constructor(t,e){super(t,e),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e,r=!0){const i=this.baseTexture.resolution,n=Math.round(t*i)/i,s=Math.round(e*i)/i;this.valid=n>0&&s>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=s,r&&this.baseTexture.resize(n,s),this.updateUvs()}setResolution(t){const{baseTexture:e}=this;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))}static create(t){return new s(new n.BaseRenderTexture(t))}}e.RenderTexture=s},26516:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(12191),s=r(8399),o=r(41020);class a{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,e,r=i.MSAA_QUALITY.NONE){const n=new s.BaseRenderTexture(Object.assign({width:t,height:e,resolution:1,multisample:r},this.textureOptions));return new o.RenderTexture(n)}getOptimalTexture(t,e,r=1,s=i.MSAA_QUALITY.NONE){let o;t=Math.ceil(t*r-1e-6),e=Math.ceil(e*r-1e-6),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=s>1?-s:-1:(o=((65535&(t=n.nextPow2(t)))<<16|65535&(e=n.nextPow2(e)))>>>0,s>1&&(o+=4294967296*s)),this.texturePool[o]||(this.texturePool[o]=[]);let a=this.texturePool[o].pop();return a||(a=this.createTexture(t,e,s)),a.filterPoolKey=o,a.setResolution(r),a}getFilterTexture(t,e,r){const n=this.getOptimalTexture(t.width,t.height,e||t.resolution,r||i.MSAA_QUALITY.NONE);return n.filterFrame=t.filterFrame,n}returnTexture(t){const e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=!1!==t)for(const t in this.texturePool){const e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0)}this.texturePool={}}setScreenSize(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){this.enableFullScreen=t.width>0&&t.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}a.SCREEN_KEY=-1,e.RenderTexturePool=a},62109:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1122),n=r(71648),s=r(40435);const o=new s.Rectangle,a=new s.Rectangle;class u{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.viewportFrame=new s.Rectangle}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,e,r){const i=this.renderer;let n,s,u;this.current=t,t?(n=t.baseTexture,u=n.resolution,e||(o.width=t.frame.width,o.height=t.frame.height,e=o),r||(a.x=t.frame.x,a.y=t.frame.y,a.width=e.width,a.height=e.height,r=a),s=n.framebuffer):(u=i.resolution,e||(o.width=i._view.screen.width,o.height=i._view.screen.height,e=o),r||((r=o).width=e.width,r.height=e.height));const l=this.viewportFrame;l.x=r.x*u,l.y=r.y*u,l.width=r.width*u,l.height=r.height*u,t||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(r,e,u,!s),t?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)}clear(t,e){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=i.Color.shared.setValue(t||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:t,y:e,width:r,height:i}=this.viewportFrame;t=Math.round(t),e=Math.round(e),r=Math.round(r),i=Math.round(i),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(t,e,r,i)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,e),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}u.extension={type:n.ExtensionType.RendererSystem,name:"renderTexture"},n.extensions.add(u),e.RenderTextureSystem=u},31970:(t,e,r)=>{"use strict";var i=r(57616),n=r(82101),s=r(12191),o=r(68615),a=r(21316),u=r(89906);r(69774);var l=r(43396),c=r(21673),h=r(31110),d=r(45711),p=r(3382),f=r(21811);n.settings.PREFER_ENV=i.ENV.WEBGL2,n.settings.STRICT_TEXTURE_CACHE=!1,n.settings.RENDER_OPTIONS={...c.ContextSystem.defaultOptions,...h.BackgroundSystem.defaultOptions,...d.ViewSystem.defaultOptions,...p.StartupSystem.defaultOptions},Object.defineProperties(n.settings,{WRAP_MODE:{get:()=>l.BaseTexture.defaultOptions.wrapMode,set(t){s.deprecation("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),l.BaseTexture.defaultOptions.wrapMode=t}},SCALE_MODE:{get:()=>l.BaseTexture.defaultOptions.scaleMode,set(t){s.deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),l.BaseTexture.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get:()=>l.BaseTexture.defaultOptions.mipmap,set(t){s.deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),l.BaseTexture.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get:()=>l.BaseTexture.defaultOptions.anisotropicLevel,set(t){s.deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),l.BaseTexture.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get:()=>(s.deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),a.Filter.defaultResolution),set(t){a.Filter.defaultResolution=t}},FILTER_MULTISAMPLE:{get:()=>(s.deprecation("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),a.Filter.defaultMultisample),set(t){a.Filter.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get:()=>o.BatchRenderer.defaultMaxTextures,set(t){s.deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),o.BatchRenderer.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get:()=>o.BatchRenderer.defaultBatchSize,set(t){s.deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),o.BatchRenderer.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get:()=>o.BatchRenderer.canUploadSameBuffer,set(t){s.deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),o.BatchRenderer.canUploadSameBuffer=t}},GC_MODE:{get:()=>f.TextureGCSystem.defaultMode,set(t){s.deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),f.TextureGCSystem.defaultMode=t}},GC_MAX_IDLE:{get:()=>f.TextureGCSystem.defaultMaxIdle,set(t){s.deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),f.TextureGCSystem.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get:()=>f.TextureGCSystem.defaultCheckCountMax,set(t){s.deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),f.TextureGCSystem.defaultCheckCountMax=t}},PRECISION_VERTEX:{get:()=>u.Program.defaultVertexPrecision,set(t){s.deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),u.Program.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get:()=>u.Program.defaultFragmentPrecision,set(t){s.deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),u.Program.defaultFragmentPrecision=t}}})},73784:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GLProgram=class{constructor(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}},e.IGLUniformData=class{}},89906:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(12191),s=r(85928),o=r(75705);r(54956);var a=r(54400),u=r(91565);let l=0;const c={},h=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=l++,this.vertexSrc=t||h.defaultVertexSrc,this.fragmentSrc=e||h.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),c[r]?(c[r]++,r+=`-${c[r]}`):c[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}\n${this.fragmentSrc}`,this.vertexSrc=a.setPrecision(this.vertexSrc,h.defaultVertexPrecision,i.PRECISION.HIGH),this.fragmentSrc=a.setPrecision(this.fragmentSrc,h.defaultFragmentPrecision,u.getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return o.default}static get defaultFragmentSrc(){return s.default}static from(t,e,r){const i=t+e;let s=n.ProgramCache[i];return s||(n.ProgramCache[i]=s=new h(t,e,r)),s}};let d=h;d.defaultVertexPrecision=i.PRECISION.HIGH,d.defaultFragmentPrecision=n.isMobile.apple.device?i.PRECISION.HIGH:i.PRECISION.MEDIUM,e.Program=d},87398:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82156),n=r(89906),s=r(44240);class o{constructor(t,e){this.uniformBindCount=0,this.program=t,e?e instanceof s.UniformGroup?this.uniformGroup=e:this.uniformGroup=new s.UniformGroup(e):this.uniformGroup=new s.UniformGroup({}),this.disposeRunner=new i.Runner("disposeShader")}checkUniformExists(t,e){if(e.uniforms[t])return!0;for(const r in e.uniforms){const i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,e,r){const i=n.Program.from(t,e);return new o(i,r)}}e.Shader=o},49535:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648);r(54956);var n=r(91366),s=r(9124),o=r(94652),a=r(53738);let u=0;const l={textureCount:0,uboCount:0};class c{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=u++}systemCheck(){if(!o.unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(l.textureCount=0,l.uboCount=0,this.syncUniformGroup(t.uniformGroup,l)),i}setUniforms(t){const e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)}syncUniformGroup(t,e){const r=this.getGlProgram();t.static&&t.dirtyId===r.uniformDirtyGroups[t.id]||(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))}syncUniforms(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)}createSyncGroups(t){const e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=a.generateUniformsSync(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,e){const r=this.getGlProgram();if(!t.static||0!==t.dirtyId||!r.uniformGroups[t.id]){t.dirtyId=0;const i=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,e);t.buffer.update(),i(r.uniformData,t.uniforms,this.renderer,l,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[e])}createSyncBufferGroup(t,e,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(t.buffer);const n=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(e.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(t,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=s.generateUniformBufferSync(t,this.shader.program.uniformData)),t.autoManage){const e=new Float32Array(a.size/4);t.buffer.update(e)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]}getSignature(t,e,r){const i=t.uniforms,n=[`${r}-`];for(const t in i)n.push(t),e[t]&&n.push(e[t].type);return n.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const e=this.gl,r=t.program,i=n.generateProgram(e,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}c.extension={type:i.ExtensionType.RendererSystem,name:"shader"},i.extensions.add(c),e.ShaderSystem=c},44240:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(44518);let s=0;class o{constructor(t,e,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=s++,this.static=!!e,this.ubo=!!r,t instanceof n.Buffer?(this.buffer=t,this.buffer.type=i.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new n.Buffer(new Float32Array(1)),this.buffer.type=i.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,e,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new o(e,r)}static from(t,e,r){return new o(t,e,r)}static uboFrom(t,e){return new o(t,e??!0,!0)}}e.UniformGroup=o},85928:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},75705:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},27863:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function i(t){let e="";for(let r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}e.checkMaxIfStatementsInShader=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const s=r.replace(/%forloop%/gi,i(t));if(e.shaderSource(n,s),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return t}},72896:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compileShader=function(t,e,r){const i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}},58663:(t,e)=>{"use strict";function r(t){const e=new Array(t);for(let t=0;t<e.length;t++)e[t]=!1;return e}Object.defineProperty(e,"__esModule",{value:!0}),e.defaultValue=function(t,e){switch(t){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}},91366:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(73784),n=r(72896),s=r(58663),o=r(88884),a=r(7153),u=r(91652);e.generateProgram=function(t,e){const r=n.compileShader(t,t.VERTEX_SHADER,e.vertexSrc),l=n.compileShader(t,t.FRAGMENT_SHADER,e.fragmentSrc),c=t.createProgram();t.attachShader(c,r),t.attachShader(c,l);const h=e.extra?.transformFeedbackVaryings;if(h&&("function"!=typeof t.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(c,h.names,"separate"===h.bufferMode?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(c),t.getProgramParameter(c,t.LINK_STATUS)||u.logProgramError(t,c,r,l),e.attributeData=o.getAttributeData(c,t),e.uniformData=a.getUniformData(c,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const r=Object.keys(e.attributeData);r.sort(((t,e)=>t>e?1:-1));for(let i=0;i<r.length;i++)e.attributeData[r[i]].location=i,t.bindAttribLocation(c,i,r[i]);t.linkProgram(c)}t.deleteShader(r),t.deleteShader(l);const d={};for(const r in e.uniformData){const i=e.uniformData[r];d[r]={location:t.getUniformLocation(c,r),value:s.defaultValue(i.type,i.size)}}return new i.GLProgram(c,d)}},9124:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(54956);var i=r(49145),n=r(74442);function s(t,e,r,i,n){r.buffer.update(n)}const o={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},a={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function u(t){const e=t.map((t=>({data:t,offset:0,dataLen:0,dirty:0})));let r=0,i=0,n=0;for(let t=0;t<e.length;t++){const s=e[t];if(r=a[s.data.type],s.data.size>1&&(r=Math.max(r,16)*s.data.size),s.dataLen=r,i%r!=0&&i<16){const t=i%r%16;i+=t,n+=t}i+r>16?(n=16*Math.ceil(n/16),s.offset=n,n+=r,i=r):(s.offset=n,i+=r,n+=r)}return n=16*Math.ceil(n/16),{uboElements:e,size:n}}function l(t,e){const r=[];for(const i in t)e[i]&&r.push(e[i]);return r.sort(((t,e)=>t.index-e.index)),r}e.createUBOElements=u,e.generateUniformBufferSync=function(t,e){if(!t.autoManage)return{size:0,syncFunc:s};const r=l(t.uniforms,e),{uboElements:c,size:h}=u(r),d=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let e=0;e<c.length;e++){const r=c[e],s=t.uniforms[r.data.name],u=r.data.name;let l=!1;for(let t=0;t<i.uniformParsers.length;t++){const e=i.uniformParsers[t];if(e.codeUbo&&e.test(r.data,s)){d.push(`offset = ${r.offset/4};`,i.uniformParsers[t].codeUbo(r.data.name,s)),l=!0;break}}if(!l)if(r.data.size>1){const t=n.mapSize(r.data.type),e=Math.max(a[r.data.type]/16,1),i=t/e,s=(4-i%4)%4;d.push(`\n                cv = ud.${u}.value;\n                v = uv.${u};\n                offset = ${r.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${r.data.size*e}; i++)\n                {\n                    for(var j = 0; j < ${i}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${s};\n                }\n\n                `)}else{const t=o[r.data.type];d.push(`\n                cv = ud.${u}.value;\n                v = uv.${u};\n                offset = ${r.offset/4};\n                ${t};\n                `)}}return d.push("\n       renderer.buffer.update(buffer);\n    "),{size:h,syncFunc:new Function("ud","uv","renderer","syncData","buffer",d.join("\n"))}},e.getUBOData=l},53738:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(49145);const n={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},s={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};e.generateUniformsSync=function(t,e){const r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const o in t.uniforms){const a=e[o];if(!a){t.uniforms[o]?.group&&(t.uniforms[o].ubo?r.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.${o}, '${o}');\n                    `):r.push(`\n                        renderer.shader.syncUniformGroup(uv.${o}, syncData);\n                    `));continue}const u=t.uniforms[o];let l=!1;for(let t=0;t<i.uniformParsers.length;t++)if(i.uniformParsers[t].test(a,u)){r.push(i.uniformParsers[t].code(o,u)),l=!0;break}if(!l){const t=(1!==a.size||a.isArray?s:n)[a.type].replace("location",`ud["${o}"].location`);r.push(`\n            cu = ud["${o}"];\n            cv = cu.value;\n            v = uv["${o}"];\n            ${t};`)}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}},88884:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(74442),n=r(10190);e.getAttributeData=function(t,e){const r={},s=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const s=e.getActiveAttrib(t,o);if(s.name.startsWith("gl_"))continue;const a=n.mapType(e,s.type),u={type:a,name:s.name,size:i.mapSize(a),location:e.getAttribLocation(t,s.name)};r[s.name]=u}return r}},91565:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(47465);let s;e.getMaxFragmentPrecision=function(){if(!s){s=i.PRECISION.MEDIUM;const t=n.getTestContext();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);s=e.precision?i.PRECISION.HIGH:i.PRECISION.MEDIUM}}return s}},47465:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(82101);const s={};let o=s;e.getTestContext=function(){if(o===s||o?.isContextLost()){const t=n.settings.ADAPTER.createCanvas();let e;n.settings.PREFER_ENV>=i.ENV.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),o=e}return o}},7153:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(58663),n=r(10190);e.getUniformData=function(t,e){const r={},s=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let o=0;o<s;o++){const s=e.getActiveUniform(t,o),a=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),l=n.mapType(e,s.type);r[a]={name:a,index:o,type:l,size:s.size,isArray:u,value:i.defaultValue(l,s.size)}}return r}},54956:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(27863),n=r(72896),s=r(58663),o=r(53738),a=r(91565),u=r(47465),l=r(91652),c=r(74442),h=r(10190),d=r(54400),p=r(49145),f=r(94652);e.checkMaxIfStatementsInShader=i.checkMaxIfStatementsInShader,e.compileShader=n.compileShader,e.defaultValue=s.defaultValue,e.generateUniformsSync=o.generateUniformsSync,e.getMaxFragmentPrecision=a.getMaxFragmentPrecision,e.getTestContext=u.getTestContext,e.logProgramError=l.logProgramError,e.mapSize=c.mapSize,e.mapType=h.mapType,e.setPrecision=d.setPrecision,e.uniformParsers=p.uniformParsers,e.unsafeEvalSupported=f.unsafeEvalSupported},91652:(t,e)=>{"use strict";function r(t,e){const r=t.getShaderSource(e).split("\n").map(((t,e)=>`${e}: ${t}`)),i=t.getShaderInfoLog(e),n=i.split("\n"),s={},o=n.map((t=>parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1")))).filter((t=>!(!t||s[t])&&(s[t]=!0,!0))),a=[""];o.forEach((t=>{r[t-1]=`%c${r[t-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));const u=r.join("\n");a[0]=u,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}Object.defineProperty(e,"__esModule",{value:!0}),e.logProgramError=function(t,e,i,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(i,t.COMPILE_STATUS)||r(t,i),t.getShaderParameter(n,t.COMPILE_STATUS)||r(t,n),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}},74442:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.mapSize=function(t){return r[t]}},10190:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});let r=null;const i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};e.mapType=function(t,e){if(!r){const e=Object.keys(i);r={};for(let n=0;n<e.length;++n){const s=e[n];r[t[s]]=i[s]}}return r[e]}},54400:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616);e.setPrecision=function(t,e,r){if("precision"!==t.substring(0,9)){let n=e;return e===i.PRECISION.HIGH&&r!==i.PRECISION.HIGH&&(n=i.PRECISION.MEDIUM),`precision ${n} float;\n${t}`}return r!==i.PRECISION.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}},49145:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.uniformParsers=[{test:t=>"float"===t.type&&1===t.size&&!t.isArray,code:t=>`\n            if(uv["${t}"] !== ud["${t}"].value)\n            {\n                ud["${t}"].value = uv["${t}"]\n                gl.uniform1f(ud["${t}"].location, uv["${t}"])\n            }\n            `},{test:(t,e)=>!("sampler2D"!==t.type&&"samplerCube"!==t.type&&"sampler2DArray"!==t.type||1!==t.size||t.isArray||null!=e&&void 0===e.castToBaseTexture),code:t=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${t}"], t);\n\n            if(ud["${t}"].value !== t)\n            {\n                ud["${t}"].value = t;\n                gl.uniform1i(ud["${t}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(t,e)=>"mat3"===t.type&&1===t.size&&!t.isArray&&void 0!==e.a,code:t=>`\n            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));\n            `,codeUbo:t=>`\n                var ${t}_matrix = uv.${t}.toArray(true);\n\n                data[offset] = ${t}_matrix[0];\n                data[offset+1] = ${t}_matrix[1];\n                data[offset+2] = ${t}_matrix[2];\n        \n                data[offset + 4] = ${t}_matrix[3];\n                data[offset + 5] = ${t}_matrix[4];\n                data[offset + 6] = ${t}_matrix[5];\n        \n                data[offset + 8] = ${t}_matrix[6];\n                data[offset + 9] = ${t}_matrix[7];\n                data[offset + 10] = ${t}_matrix[8];\n            `},{test:(t,e)=>"vec2"===t.type&&1===t.size&&!t.isArray&&void 0!==e.x,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${t}"].location, v.x, v.y);\n                }`,codeUbo:t=>`\n                v = uv.${t};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:t=>"vec2"===t.type&&1===t.size&&!t.isArray,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);\n                }\n            `},{test:(t,e)=>"vec4"===t.type&&1===t.size&&!t.isArray&&void 0!==e.width,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:t=>`\n                    v = uv.${t};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:(t,e)=>"vec4"===t.type&&1===t.size&&!t.isArray&&void 0!==e.red,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)\n                }`,codeUbo:t=>`\n                    v = uv.${t};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `},{test:(t,e)=>"vec3"===t.type&&1===t.size&&!t.isArray&&void 0!==e.red,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)\n                }`,codeUbo:t=>`\n                    v = uv.${t};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `},{test:t=>"vec4"===t.type&&1===t.size&&!t.isArray,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])\n                }`}]},94652:(t,e)=>{"use strict";let r;Object.defineProperty(e,"__esModule",{value:!0}),e.unsafeEvalSupported=function(){if("boolean"==typeof r)return r;try{const t=new Function("param1","param2","param3","return param1[param2] === param3;");r=!0===t({a:"b"},"a","b")}catch(t){r=!1}return r}},3382:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648);class n{constructor(t){this.renderer=t}run(t){const{renderer:e}=this;e.runners.init.emit(e.options),t.hello&&console.log(`PixiJS 7.2.4 - ${e.rendererLogId} - https://pixijs.com`),e.resize(e.screen.width,e.screen.height)}destroy(){}}n.defaultOptions={hello:!1},n.extension={type:[i.ExtensionType.RendererSystem,i.ExtensionType.CanvasRendererSystem],name:"startup"},i.extensions.add(n),e.StartupSystem=n},37387:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616);class n{constructor(){this.data=0,this.blendMode=i.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(t){!!(1&this.data)!==t&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(t){!!(2&this.data)!==t&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(t){!!(4&this.data)!==t&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(t){!!(8&this.data)!==t&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(t){!!(32&this.data)!==t&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(t){!!(16&this.data)!==t&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==i.BLEND_MODES.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new n;return t.depthTest=!1,t.blend=!0,t}}e.State=n},8389:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(71648),s=r(37387),o=r(38568);const a=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=i.BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new s.State,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=o.mapWebGLBlendModesToPixi(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(a.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(a.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let u=a;u.extension={type:n.ExtensionType.RendererSystem,name:"state"},n.extensions.add(u),e.StateSystem=u},38568:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616);e.mapWebGLBlendModesToPixi=function(t,e=[]){return e[i.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[i.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.NONE]=[0,0],e[i.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[i.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[i.BLEND_MODES.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[i.BLEND_MODES.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[i.BLEND_MODES.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[i.BLEND_MODES.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[i.BLEND_MODES.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}},64807:()=>{},8065:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82156),n=r(12191);class s extends n.EventEmitter{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const e=(t.priority??[]).filter((e=>t.systems[e])),r=[...e,...Object.keys(t.systems).filter((t=>!e.includes(t)))];for(const e of r)this.addSystem(t.systems[e],e)}addRunners(...t){t.forEach((t=>{this.runners[t]=new i.Runner(t)}))}addSystem(t,e){const r=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=r,this._systemsHash[e]=r;for(const t in this.runners)this.runners[t].add(r);return this}emitWithCustomOptions(t,e){const r=Object.keys(this._systemsHash);t.items.forEach((i=>{const n=r.find((t=>this._systemsHash[t]===i));i[t.name](e[n])}))}destroy(){Object.values(this.runners).forEach((t=>{t.destroy()})),this._systemsHash={}}}e.SystemManager=s},69774:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(31110),n=r(95309),s=r(21673),o=r(28994),a=r(66548),u=r(98911),l=r(73839),c=r(9832),h=r(25782),d=r(34800),p=r(64910),f=r(34914),_=r(62109),y=r(49535),m=r(3382),g=r(8389),v=r(8065),b=r(21811),x=r(1546),T=r(58228),E=r(45711);e.BackgroundSystem=i.BackgroundSystem,e.BatchSystem=n.BatchSystem,e.ContextSystem=s.ContextSystem,e.FilterSystem=o.FilterSystem,e.FramebufferSystem=a.FramebufferSystem,e.GeometrySystem=u.GeometrySystem,e.MaskSystem=l.MaskSystem,e.ScissorSystem=c.ScissorSystem,e.StencilSystem=h.StencilSystem,e.PluginSystem=d.PluginSystem,e.ProjectionSystem=p.ProjectionSystem,e.GenerateTextureSystem=f.GenerateTextureSystem,e.RenderTextureSystem=_.RenderTextureSystem,e.ShaderSystem=y.ShaderSystem,e.StartupSystem=m.StartupSystem,e.StateSystem=g.StateSystem,e.SystemManager=v.SystemManager,e.TextureGCSystem=b.TextureGCSystem,e.TextureSystem=x.TextureSystem,e.TransformFeedbackSystem=T.TransformFeedbackSystem,e.ViewSystem=E.ViewSystem},43396:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(82101),s=r(12191),o=r(11105),a=r(95737),u=r(79421);const l={scaleMode:i.SCALE_MODES.NEAREST,format:i.FORMATS.RGBA,alphaMode:i.ALPHA_MODES.NPM},c=class extends s.EventEmitter{constructor(t=null,e=null){super(),e=Object.assign({},c.defaultOptions,e);const{alphaMode:r,mipmap:i,anisotropicLevel:a,scaleMode:l,width:h,height:d,wrapMode:p,format:f,type:_,target:y,resolution:m,resourceOptions:g}=e;!t||t instanceof u.Resource||((t=o.autoDetectResource(t,g)).internal=!0),this.resolution=m||n.settings.RESOLUTION,this.width=Math.round((h||0)*this.resolution)/this.resolution,this.height=Math.round((d||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=a,this._wrapMode=p,this._scaleMode=l,this.format=f,this.type=_,this.target=y,this.alphaMode=r,this.uid=s.uid(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=h>0&&d>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=s.isPow2(this.realWidth)&&s.isPow2(this.realHeight)}setResolution(t){const e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete s.BaseTextureCache[this.cacheId],delete s.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),c.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=n.settings.STRICT_TEXTURE_CACHE){const i="string"==typeof t;let o=null;if(i)o=t;else{if(!t._pixiId){const r=e?.pixiIdPrefix||"pixiid";t._pixiId=`${r}_${s.uid()}`}o=t._pixiId}let a=s.BaseTextureCache[o];if(i&&r&&!a)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return a||(a=new c(t,e),a.cacheId=o,c.addToCache(a,o)),a}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const s=new a.BufferResource(t,{width:e,height:r}),o=t instanceof Float32Array?i.TYPES.FLOAT:i.TYPES.UNSIGNED_BYTE;return new c(s,Object.assign({},l,{type:o},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),s.BaseTextureCache[e]&&s.BaseTextureCache[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),s.BaseTextureCache[e]=t)}static removeFromCache(t){if("string"==typeof t){const e=s.BaseTextureCache[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete s.BaseTextureCache[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete s.BaseTextureCache[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let h=c;h.defaultOptions={mipmap:i.MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:i.SCALE_MODES.LINEAR,wrapMode:i.WRAP_MODES.CLAMP,alphaMode:i.ALPHA_MODES.UNPACK,target:i.TARGETS.TEXTURE_2D,format:i.FORMATS.RGBA,type:i.TYPES.UNSIGNED_BYTE},h._globalBatch=0,e.BaseTexture=h},50701:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616);e.GLTexture=class{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=i.TYPES.UNSIGNED_BYTE,this.internalFormat=i.FORMATS.RGBA,this.samplerType=0}}},65453:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(40435),n=r(82101),s=r(12191),o=r(43396),a=r(79137),u=r(46487);const l=new u.TextureUvs;function c(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class h extends s.EventEmitter{constructor(t,e,r,n,s,o,a){if(super(),this.noFrame=!1,e||(this.noFrame=!0,e=new i.Rectangle(0,0,1,1)),t instanceof h&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=n,this.valid=!1,this._uvs=l,this.uvMatrix=null,this.orig=r||e,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new i.Point(o.x,o.y):new i.Point(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=e:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:t}=this.baseTexture;t?.url&&s.TextureCache[t.url]&&h.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,h.removeFromCache(this),this.textureCacheIds=null}clone(){const t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),r=new h(this.baseTexture,!this.noFrame&&t,e,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=t),r}updateUvs(){this._uvs===l&&(this._uvs=new u.TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,e={},r=n.settings.STRICT_TEXTURE_CACHE){const i="string"==typeof t;let a=null;if(i)a=t;else if(t instanceof o.BaseTexture){if(!t.cacheId){const r=e?.pixiIdPrefix||"pixiid";t.cacheId=`${r}-${s.uid()}`,o.BaseTexture.addToCache(t,t.cacheId)}a=t.cacheId}else{if(!t._pixiId){const r=e?.pixiIdPrefix||"pixiid";t._pixiId=`${r}_${s.uid()}`}a=t._pixiId}let u=s.TextureCache[a];if(i&&r&&!u)throw new Error(`The cacheId "${a}" does not exist in TextureCache.`);return u||t instanceof o.BaseTexture?!u&&t instanceof o.BaseTexture&&(u=new h(t),h.addToCache(u,a)):(e.resolution||(e.resolution=s.getResolutionOfUrl(t)),u=new h(new o.BaseTexture(t,e)),u.baseTexture.cacheId=a,o.BaseTexture.addToCache(u.baseTexture,a),h.addToCache(u,a)),u}static fromURL(t,e){const r=Object.assign({autoLoad:!1},e?.resourceOptions),i=h.from(t,Object.assign({resourceOptions:r},e),!1),n=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):n.load().then((()=>Promise.resolve(i)))}static fromBuffer(t,e,r,i){return new h(o.BaseTexture.fromBuffer(t,e,r,i))}static fromLoader(t,e,r,i){const n=new o.BaseTexture(t,Object.assign({scaleMode:o.BaseTexture.defaultOptions.scaleMode,resolution:s.getResolutionOfUrl(e)},i)),{resource:u}=n;u instanceof a.ImageResource&&(u.url=e);const l=new h(n);return r||(r=e),o.BaseTexture.addToCache(l.baseTexture,r),h.addToCache(l,r),r!==e&&(o.BaseTexture.addToCache(l.baseTexture,e),h.addToCache(l,e)),l.baseTexture.valid?Promise.resolve(l):new Promise((t=>{l.baseTexture.once("loaded",(()=>t(l)))}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),s.TextureCache[e]&&s.TextureCache[e]!==t&&console.warn(`Texture added to the cache with an id [${e}] that already had an entry`),s.TextureCache[e]=t)}static removeFromCache(t){if("string"==typeof t){const e=s.TextureCache[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete s.TextureCache[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)s.TextureCache[t.textureCacheIds[e]]===t&&delete s.TextureCache[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:e,y:r,width:i,height:n}=t,s=e+i>this.baseTexture.width,o=r+n>this.baseTexture.height;if(s||o){const t=s&&o?"and":"or",a=`X: ${e} + ${i} = ${e+i} > ${this.baseTexture.width}`,u=`Y: ${r} + ${n} = ${r+n} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${a} ${t} ${u}`)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return h._EMPTY||(h._EMPTY=new h(new o.BaseTexture),c(h._EMPTY),c(h._EMPTY.baseTexture)),h._EMPTY}static get WHITE(){if(!h._WHITE){const t=n.settings.ADAPTER.createCanvas(16,16),e=t.getContext("2d");t.width=16,t.height=16,e.fillStyle="white",e.fillRect(0,0,16,16),h._WHITE=new h(o.BaseTexture.from(t)),c(h._WHITE),c(h._WHITE.baseTexture)}return h._WHITE}}e.Texture=h},21811:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(71648);const s=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=s.defaultMaxIdle,this.checkCountMax=s.defaultCheckCountMax,this.mode=s.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let i=0;i<e.length;i++){const n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){let t=0;for(let r=0;r<e.length;r++)null!==e[r]&&(e[t++]=e[r]);e.length=t}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let e=t.children.length-1;e>=0;e--)this.unload(t.children[e])}destroy(){this.renderer=null}};let o=s;o.defaultMode=i.GC_MODES.AUTO,o.defaultMaxIdle=3600,o.defaultCheckCountMax=600,o.extension={type:n.ExtensionType.RendererSystem,name:"textureGC"},n.extensions.add(o),e.TextureGCSystem=o},67772:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(40435);const n=new i.Matrix;e.TextureMatrix=class{constructor(t,e){this._texture=t,this.mapCoord=new i.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,e){void 0===e&&(e=t);const r=this.mapCoord;for(let i=0;i<t.length;i+=2){const n=t[i],s=t[i+1];e[i]=n*r.a+s*r.c+r.tx,e[i+1]=n*r.b+s*r.d+r.ty}return e}update(t){const e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;const r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=e.orig,s=e.trim;s&&(n.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(n));const o=e.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(e._frame.x+u+l)/o.width,a[1]=(e._frame.y+u+l)/o.height,a[2]=(e._frame.x+e._frame.width-u+l)/o.width,a[3]=(e._frame.y+e._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0}}},1546:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(71648),s=r(12191),o=r(43396),a=r(50701),u=r(59476);class l{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new o.BaseTexture,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=u.mapTypeAndFormatToInternalFormat(t);const e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(let t=0;t<e;t++)this.boundTextures[t]=null;this.emptyTextures={};const r=new a.GLTexture(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new a.GLTexture(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let e=0;e<6;e++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let t=0;t<this.boundTextures.length;t++)this.bind(null,t)}bind(t,e=0){const{gl:r}=this;if(t=t?.castToBaseTexture(),t?.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)):i.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:e,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let t=0;t<r.length;t++)r[t]===this.unknownTexture&&this.bind(null,t)}for(let i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[i]=null)}ensureSamplerType(t){const{boundTextures:e,hasIntegerTextures:r,CONTEXT_UID:n}=this;if(r)for(let r=t-1;r>=0;--r){const t=e[r];if(t){t._glTextures[n].samplerType!==i.SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(t)}}}initTexture(t){const e=new a.GLTexture(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e}initTextureType(t,e){e.internalFormat=this.internalFormats[t.type]?.[t.format]??t.format,2===this.webGLVersion&&t.type===i.TYPES.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type}updateTexture(t){const e=t._glTextures[this.CONTEXT_UID];if(!e)return;const r=this.renderer;if(this.initTextureType(t,e),t.resource?.upload(r,t,e))e.samplerType!==i.SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{const i=t.realWidth,n=t.realHeight,s=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,s.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}destroyTexture(t,e){const{gl:r}=this;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){const e=this.managedTextures.indexOf(t);-1!==e&&s.removeItems(this.managedTextures,e,1)}}updateTextureStyle(t){const e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==i.MIPMAP_MODES.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=i.WRAP_MODES.CLAMP,t.resource?.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)}setStyle(t,e){const r=this.gl;if(e.mipmap&&t.mipmap!==i.MIPMAP_MODES.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===i.SCALE_MODES.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const e=this.renderer.context.extensions.anisotropicFiltering;if(e&&t.anisotropicLevel>0&&t.scaleMode===i.SCALE_MODES.LINEAR){const i=Math.min(t.anisotropicLevel,r.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,e.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===i.SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===i.SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}l.extension={type:n.ExtensionType.RendererSystem,name:"texture"},n.extensions.add(l),e.TextureSystem=l},46487:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(40435);e.TextureUvs=class{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,e,r){const n=e.width,s=e.height;if(r){const e=t.width/2/n,o=t.height/2/s,a=t.x/n+e,u=t.y/s+o;r=i.groupD8.add(r,i.groupD8.NW),this.x0=a+e*i.groupD8.uX(r),this.y0=u+o*i.groupD8.uY(r),r=i.groupD8.add(r,2),this.x1=a+e*i.groupD8.uX(r),this.y1=u+o*i.groupD8.uY(r),r=i.groupD8.add(r,2),this.x2=a+e*i.groupD8.uX(r),this.y2=u+o*i.groupD8.uY(r),r=i.groupD8.add(r,2),this.x3=a+e*i.groupD8.uX(r),this.y3=u+o*i.groupD8.uY(r)}else this.x0=t.x/n,this.y0=t.y/s,this.x1=(t.x+t.width)/n,this.y1=t.y/s,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/s,this.x3=t.x/n,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}},34627:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(43396),n=r(11105),s=r(79421);class o extends s.Resource{constructor(t,e){const{width:r,height:n}=e||{};super(r,n),this.items=[],this.itemDirtyIds=[];for(let e=0;e<t;e++){const t=new i.BaseTexture;this.items.push(t),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,e){for(let r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof s.Resource?this.addResourceAt(t[r],r):this.addResourceAt(n.autoDetectResource(t[r],e),r))}dispose(){for(let t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,e){if(!this.items[e])throw new Error(`Index ${e} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this}bind(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)}unbind(t){super.unbind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map((t=>t.resource)).filter((t=>t)).map((t=>t.load()));return this._load=Promise.all(t).then((()=>{const{realWidth:t,realHeight:e}=this.items[0];return this.resize(t,e),Promise.resolve(this)})),this._load}}e.AbstractMultiResource=o},82696:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(34627);class s extends n.AbstractMultiResource{constructor(t,e){const{width:r,height:i}=e||{};let n,s;Array.isArray(t)?(n=t,s=t.length):s=t,super(s,{width:r,height:i}),n&&this.initFromArray(n,e)}addBaseTextureAt(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this}bind(t){super.bind(t),t.target=i.TARGETS.TEXTURE_2D_ARRAY}upload(t,e,r){const{length:i,itemDirtyIds:n,items:s}=this,{gl:o}=t;r.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,e.format,r.type,null);for(let t=0;t<i;t++){const i=s[t];n[t]<i.dirtyId&&(n[t]=i.dirtyId,i.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,t,i.resource.width,i.resource.height,1,e.format,r.type,i.resource.source))}return!0}}e.ArrayResource=s},93748:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(12191),s=r(79421);class o extends s.Resource{constructor(t){const e=t;super(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),this.source=t,this.noSubImage=!1}static crossOrigin(t,e,r){void 0!==r||e.startsWith("data:")?!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous"):t.crossOrigin=n.determineCrossOrigin(e)}upload(t,e,r,n){const s=t.gl,o=e.realWidth,a=e.realHeight;if(n=n||this.source,"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement){if(!n.complete||0===n.naturalWidth)return!1}else if("undefined"!=typeof HTMLVideoElement&&n instanceof HTMLVideoElement&&n.readyState<=1&&0===n.buffered.length)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.ALPHA_MODES.UNPACK),this.noSubImage||e.target!==s.TEXTURE_2D||r.width!==o||r.height!==a?(r.width=o,r.height=a,s.texImage2D(e.target,0,r.internalFormat,e.format,r.type,n)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,e.format,r.type,n),!0}update(){if(this.destroyed)return;const t=this.source,e=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;this.resize(e,r),super.update()}dispose(){this.source=null}}e.BaseImageResource=o},95737:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(79421);class s extends n.Resource{constructor(t,e){const{width:r,height:i}=e||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=t}upload(t,e,r){const n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.ALPHA_MODES.UNPACK);const s=e.realWidth,o=e.realHeight;return r.width===s&&r.height===o?n.texSubImage2D(e.target,0,0,0,s,o,e.format,r.type,this.data):(r.width=s,r.height=o,n.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,this.data)),!0}dispose(){this.data=null}static test(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array}}e.BufferResource=s},30544:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(93748);class n extends i.BaseImageResource{constructor(t){super(t)}static test(t){const{OffscreenCanvas:e}=globalThis;return!!(e&&t instanceof e)||globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}e.CanvasResource=n},40073:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(34627);const s=class extends n.AbstractMultiResource{constructor(t,e){const{width:r,height:n,autoLoad:o,linkBaseTexture:a}=e||{};if(t&&t.length!==s.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let t=0;t<s.SIDES;t++)this.items[t].target=i.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t;this.linkBaseTexture=!1!==a,t&&this.initFromArray(t,e),!1!==o&&this.load()}bind(t){super.bind(t),t.target=i.TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=i.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const i=this.itemDirtyIds;for(let n=0;n<s.SIDES;n++){const s=this.items[n];(i[n]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),i[n]=s.dirtyId):i[n]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),i[n]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===s.SIDES}};let o=s;o.SIDES=6,e.CubeResource=o},50911:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(95737);class s extends n.BufferResource{upload(t,e,r){const n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.ALPHA_MODES.UNPACK);const s=e.realWidth,o=e.realHeight;return r.width===s&&r.height===o?n.texSubImage2D(e.target,0,0,0,s,o,e.format,r.type,this.data):(r.width=s,r.height=o,n.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,this.data)),!0}}e.DepthResource=s},11638:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(82101),s=r(93748);class o extends s.BaseImageResource{constructor(t,e){let r,i;e=e||{},"string"==typeof t?(r=o.EMPTY,i=t):(r=t,i=null),super(r),this.url=i,this.crossOrigin=e.crossOrigin??!0,this.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,this._load=null,!1!==e.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((async(t,e)=>{if(null!==this.url)try{const e=await n.settings.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const r=await e.blob();if(this.destroyed)return;const s=await createImageBitmap(r,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===i.ALPHA_MODES.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),t(this)}catch(t){if(this.destroyed)return;e(t),this.onError.emit(t)}else t(this)}))),this._load}upload(t,e,r){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),super.upload(t,e,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&"undefined"!=typeof ImageBitmap&&("string"==typeof t||t instanceof ImageBitmap)}static get EMPTY(){return o._EMPTY=o._EMPTY??n.settings.ADAPTER.createCanvas(0,0),o._EMPTY}}e.ImageBitmapResource=o},79137:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616),n=r(82101),s=r(93748);class o extends s.BaseImageResource{constructor(t,e){if(e=e||{},"string"==typeof t){const r=new Image;s.BaseImageResource.crossOrigin(r,t,e.crossorigin),r.src=t,t=r}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(e.createBitmap??n.settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,this.bitmap=null,this._load=null,!1!==e.autoLoad&&this.load()}load(t){return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(((t,e)=>{const r=this.source;this.url=r.src;const i=()=>{this.destroyed||(r.onload=null,r.onerror=null,this.resize(r.width,r.height),this._load=null,this.createBitmap?t(this.process()):t(this))};r.complete&&r.src?i():(r.onload=i,r.onerror=t=>{e(t),this.onError.emit(t)})}))),this._load}process(){const t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const e=globalThis.createImageBitmap,r=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then((t=>t.blob())).then((r=>e(r,0,0,t.width,t.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===i.ALPHA_MODES.UNPACK?"premultiply":"none"}))).then((t=>this.destroyed?Promise.reject():(this.bitmap=t,this.update(),this._process=null,Promise.resolve(this)))),this._process}upload(t,e,r){if("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,e,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,e,r,this.bitmap),!this.preserveBitmap){let t=!0;const i=e._glTextures;for(const n in i){const s=i[n];if(s!==r&&s.dirtyId!==e.dirtyId){t=!1;break}}t&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return"undefined"!=typeof HTMLImageElement&&("string"==typeof t||t instanceof HTMLImageElement)}}e.ImageResource=o},79421:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82156);e.Resource=class{constructor(t=0,e=0){this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new i.Runner("setRealSize"),this.onUpdate=new i.Runner("update"),this.onError=new i.Runner("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,e,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,e){return!1}}},23868:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82101),n=r(12191),s=r(93748);const o=class extends s.BaseImageResource{constructor(t,e){e=e||{},super(i.settings.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,!1!==e.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},o.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}))),this._load}_loadSvg(){const t=new Image;s.BaseImageResource.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=e*this.scale,s=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/r*e,s=this._overrideHeight||this._overrideWidth/e*r),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${n.uid()}`,o.getContext("2d").drawImage(t,0,0,e,r,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(t){const e=o.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return"svg"===e||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&o.SVG_XML.test(t)}};let a=o;a.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,a.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SVGResource=a},41540:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(36082),n=r(93748);const s=class extends n.BaseImageResource{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),"string"==typeof t&&(t=[t]);const i=t[0].src||t[0];n.BaseImageResource.crossOrigin(r,i,e.crossorigin);for(let e=0;e<t.length;++e){const i=document.createElement("source");let{src:n,mime:o}=t[e];n=n||t[e];const a=n.split("?").shift().toLowerCase(),u=a.slice(a.lastIndexOf(".")+1);o=o||s.MIME_TYPES[u]||`video/${u}`,i.src=n,i.type=o,r.appendChild(i)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==e.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==e.autoLoad&&this.load()}update(t=0){if(!this.destroyed){const t=i.Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((e=>{this.valid?e(this):(this._resolve=e,t.load())})),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(i.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(i.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(i.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(i.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(i.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||s.TYPES.includes(e)}};let o=s;o.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],o.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e.VideoResource=o},11105:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=[];e.INSTALLED=r,e.autoDetectResource=function(t,e){if(!t)return null;let i="";if("string"==typeof t){const e=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);e&&(i=e[1].toLowerCase())}for(let n=r.length-1;n>=0;--n){const s=r[n];if(s.test&&s.test(t,i))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}},64535:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82696),n=r(11105),s=r(95737),o=r(30544),a=r(40073),u=r(11638),l=r(79137),c=r(23868),h=r(41540),d=r(93748),p=r(79421),f=r(34627);n.INSTALLED.push(u.ImageBitmapResource,l.ImageResource,o.CanvasResource,h.VideoResource,c.SVGResource,s.BufferResource,a.CubeResource,i.ArrayResource),e.ArrayResource=i.ArrayResource,e.INSTALLED=n.INSTALLED,e.autoDetectResource=n.autoDetectResource,e.BufferResource=s.BufferResource,e.CanvasResource=o.CanvasResource,e.CubeResource=a.CubeResource,e.ImageBitmapResource=u.ImageBitmapResource,e.ImageResource=l.ImageResource,e.SVGResource=c.SVGResource,e.VideoResource=h.VideoResource,e.BaseImageResource=d.BaseImageResource,e.Resource=p.Resource,e.AbstractMultiResource=f.AbstractMultiResource},59476:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(57616);e.mapTypeAndFormatToInternalFormat=function(t){let e;return e="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?{[i.TYPES.UNSIGNED_BYTE]:{[i.FORMATS.RGBA]:t.RGBA8,[i.FORMATS.RGB]:t.RGB8,[i.FORMATS.RG]:t.RG8,[i.FORMATS.RED]:t.R8,[i.FORMATS.RGBA_INTEGER]:t.RGBA8UI,[i.FORMATS.RGB_INTEGER]:t.RGB8UI,[i.FORMATS.RG_INTEGER]:t.RG8UI,[i.FORMATS.RED_INTEGER]:t.R8UI,[i.FORMATS.ALPHA]:t.ALPHA,[i.FORMATS.LUMINANCE]:t.LUMINANCE,[i.FORMATS.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[i.TYPES.BYTE]:{[i.FORMATS.RGBA]:t.RGBA8_SNORM,[i.FORMATS.RGB]:t.RGB8_SNORM,[i.FORMATS.RG]:t.RG8_SNORM,[i.FORMATS.RED]:t.R8_SNORM,[i.FORMATS.RGBA_INTEGER]:t.RGBA8I,[i.FORMATS.RGB_INTEGER]:t.RGB8I,[i.FORMATS.RG_INTEGER]:t.RG8I,[i.FORMATS.RED_INTEGER]:t.R8I},[i.TYPES.UNSIGNED_SHORT]:{[i.FORMATS.RGBA_INTEGER]:t.RGBA16UI,[i.FORMATS.RGB_INTEGER]:t.RGB16UI,[i.FORMATS.RG_INTEGER]:t.RG16UI,[i.FORMATS.RED_INTEGER]:t.R16UI,[i.FORMATS.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[i.TYPES.SHORT]:{[i.FORMATS.RGBA_INTEGER]:t.RGBA16I,[i.FORMATS.RGB_INTEGER]:t.RGB16I,[i.FORMATS.RG_INTEGER]:t.RG16I,[i.FORMATS.RED_INTEGER]:t.R16I},[i.TYPES.UNSIGNED_INT]:{[i.FORMATS.RGBA_INTEGER]:t.RGBA32UI,[i.FORMATS.RGB_INTEGER]:t.RGB32UI,[i.FORMATS.RG_INTEGER]:t.RG32UI,[i.FORMATS.RED_INTEGER]:t.R32UI,[i.FORMATS.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[i.TYPES.INT]:{[i.FORMATS.RGBA_INTEGER]:t.RGBA32I,[i.FORMATS.RGB_INTEGER]:t.RGB32I,[i.FORMATS.RG_INTEGER]:t.RG32I,[i.FORMATS.RED_INTEGER]:t.R32I},[i.TYPES.FLOAT]:{[i.FORMATS.RGBA]:t.RGBA32F,[i.FORMATS.RGB]:t.RGB32F,[i.FORMATS.RG]:t.RG32F,[i.FORMATS.RED]:t.R32F,[i.FORMATS.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[i.TYPES.HALF_FLOAT]:{[i.FORMATS.RGBA]:t.RGBA16F,[i.FORMATS.RGB]:t.RGB16F,[i.FORMATS.RG]:t.RG16F,[i.FORMATS.RED]:t.R16F},[i.TYPES.UNSIGNED_SHORT_5_6_5]:{[i.FORMATS.RGB]:t.RGB565},[i.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[i.FORMATS.RGBA]:t.RGBA4},[i.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[i.FORMATS.RGBA]:t.RGB5_A1},[i.TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[i.FORMATS.RGBA]:t.RGB10_A2,[i.FORMATS.RGBA_INTEGER]:t.RGB10_A2UI},[i.TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[i.FORMATS.RGB]:t.R11F_G11F_B10F},[i.TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[i.FORMATS.RGB]:t.RGB9_E5},[i.TYPES.UNSIGNED_INT_24_8]:{[i.FORMATS.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[i.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[i.FORMATS.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:{[i.TYPES.UNSIGNED_BYTE]:{[i.FORMATS.RGBA]:t.RGBA,[i.FORMATS.RGB]:t.RGB,[i.FORMATS.ALPHA]:t.ALPHA,[i.FORMATS.LUMINANCE]:t.LUMINANCE,[i.FORMATS.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[i.TYPES.UNSIGNED_SHORT_5_6_5]:{[i.FORMATS.RGB]:t.RGB},[i.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[i.FORMATS.RGBA]:t.RGBA},[i.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[i.FORMATS.RGBA]:t.RGBA}},e}},23574:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82156);e.TransformFeedback=class{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new i.Runner("disposeTransformFeedback")}bindBuffer(t,e){this.buffers[t]=e}destroy(){this.disposeRunner.emit(this,!1)}}},58228:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648);class n{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:r}=this,i=t._glTransformFeedbacks[r]||this.createGLTransformFeedback(t);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,e){const{gl:r,renderer:i}=this;e&&i.shader.bind(e),r.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:e,renderer:r,CONTEXT_UID:i}=this,n=e.createTransformFeedback();t._glTransformFeedbacks[i]=n,e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n);for(let n=0;n<t.buffers.length;n++){const s=t.buffers[n];s&&(r.buffer.update(s),s._glBuffers[i].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,n,s._glBuffers[i].buffer||null))}return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),n}disposeTransformFeedback(t,e){const r=t._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this);const n=this.renderer.buffer;if(n)for(let r=0;r<t.buffers.length;r++){const i=t.buffers[r];if(!i)continue;const s=i._glBuffers[this.CONTEXT_UID];s&&(s.refCount--,0!==s.refCount||e||n.dispose(i,e))}r&&(e||i.deleteTransformFeedback(r),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}n.extension={type:i.ExtensionType.RendererSystem,name:"transformFeedback"},i.extensions.add(n),e.TransformFeedbackSystem=n},342:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82736);class n extends i.Geometry{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}e.Quad=n},72953:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(44518),n=r(82736);class s extends n.Geometry{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new i.Buffer(this.vertices),this.uvBuffer=new i.Buffer(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,e){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}e.QuadUv=s},45711:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648),n=r(40435),s=r(82101);class o{constructor(t){this.renderer=t}init(t){this.screen=new n.Rectangle(0,0,t.width,t.height),this.element=t.view||s.settings.ADAPTER.createCanvas(),this.resolution=t.resolution||s.settings.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,e){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(e*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){t&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}o.defaultOptions={width:800,height:600,resolution:s.settings.RESOLUTION,autoDensity:!1},o.extension={type:[i.ExtensionType.RendererSystem,i.ExtensionType.CanvasRendererSystem],name:"_view"},i.extensions.add(o),e.ViewSystem=o},57966:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);e.Bounds=class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:((t=t||new i.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,e){const{a:r,b:i,c:n,d:s,tx:o,ty:a}=t,u=r*e.x+n*e.y+o,l=i*e.x+s*e.y+a;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)}addQuad(t){let e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,s=t[0],o=t[1];e=s<e?s:e,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,s=t[2],o=t[3],e=s<e?s:e,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,s=t[4],o=t[5],e=s<e?s:e,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,s=t[6],o=t[7],e=s<e?s:e,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n}addFrame(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)}addFrameMatrix(t,e,r,i,n){const s=t.a,o=t.b,a=t.c,u=t.d,l=t.tx,c=t.ty;let h=this.minX,d=this.minY,p=this.maxX,f=this.maxY,_=s*e+a*r+l,y=o*e+u*r+c;h=_<h?_:h,d=y<d?y:d,p=_>p?_:p,f=y>f?y:f,_=s*i+a*r+l,y=o*i+u*r+c,h=_<h?_:h,d=y<d?y:d,p=_>p?_:p,f=y>f?y:f,_=s*e+a*n+l,y=o*e+u*n+c,h=_<h?_:h,d=y<d?y:d,p=_>p?_:p,f=y>f?y:f,_=s*i+a*n+l,y=o*i+u*n+c,h=_<h?_:h,d=y<d?y:d,p=_>p?_:p,f=y>f?y:f,this.minX=h,this.minY=d,this.maxX=p,this.maxY=f}addVertexData(t,e,r){let i=this.minX,n=this.minY,s=this.maxX,o=this.maxY;for(let a=e;a<r;a+=2){const e=t[a],r=t[a+1];i=e<i?e:i,n=r<n?r:n,s=e>s?e:s,o=r>o?r:o}this.minX=i,this.minY=n,this.maxX=s,this.maxY=o}addVertices(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)}addVerticesMatrix(t,e,r,i,n=0,s=n){const o=t.a,a=t.b,u=t.c,l=t.d,c=t.tx,h=t.ty;let d=this.minX,p=this.minY,f=this.maxX,_=this.maxY;for(let t=r;t<i;t+=2){const r=e[t],i=e[t+1],y=o*r+u*i+c,m=l*i+a*r+h;d=Math.min(d,y-n),f=Math.max(f,y+n),p=Math.min(p,m-s),_=Math.max(_,m+s)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=_}addBounds(t){const e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n}addBoundsMask(t,e){const r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=s){const t=this.minX,e=this.minY,o=this.maxX,a=this.maxY;this.minX=r<t?r:t,this.minY=i<e?i:e,this.maxX=n>o?n:o,this.maxY=s>a?s:a}}addBoundsMatrix(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,e){const r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=s){const t=this.minX,e=this.minY,o=this.maxX,a=this.maxY;this.minX=r<t?r:t,this.minY=i<e?i:e,this.maxX=n>o?n:o,this.maxY=s>a?s:a}}pad(t=0,e=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)}addFramePad(t,e,r,i,n,s){t-=n,e-=s,r+=n,i+=s,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i}}},7155:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(70263);const s=new i.Matrix;function o(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const a=class extends n.DisplayObject{constructor(){super(),this.children=[],this.sortableChildren=a.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}getChildIndex(t){const e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);i.utils.removeItems(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(-1===r)return null;e.parent=null,e.transform._parentID=-1,i.utils.removeItems(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,i.utils.removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,i=e-r;let n;if(i>0&&i<=e){n=this.children.splice(r,i);for(let t=0;t<n.length;++t)n[t].parent=null,n[t].transform&&(n[t].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let t=0;t<n.length;++t)n[t].emit("removed",this),this.emit("childRemoved",n[t],this,t);return n}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(o),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const e=this.children[t];e.visible&&e.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){const t=e._mask.isMaskData?e._mask.maskObject:e._mask;t?(t.calculateBounds(),this._bounds.addBoundsMask(e._bounds,t._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let t=0,e=this.children.length;t<e;++t){const e=this.children[t];e.visible&&e.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,i;this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==a.prototype._render&&(r=this.getBounds(!0));const n=t.projection.transform;if(n&&(i?(i=s.copyFrom(i),i.prepend(n)):i=n),r&&e.intersects(r,i))this._render(t);else if(this.cullArea)return;for(let e=0,r=this.children.length;e<r;++e){const r=this.children[e],i=r.cullable;r.cullable=i||!this.cullArea,r.render(t),r.cullable=i}}render(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters?.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}}renderAdvanced(t){const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let t=0;t<e.length;t++)e[t].enabled&&this._enabledFilters.push(e[t])}const n=e&&this._enabledFilters?.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==i.MASK_TYPES.NONE));if(n&&t.batch.flush(),e&&this._enabledFilters?.length&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters?.length&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e="boolean"==typeof t?t:t?.children,r=this.removeChildren(0,this.children.length);if(e)for(let e=0;e<r.length;++e)r[e].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}};let u=a;u.defaultSortableChildren=!1,u.prototype.containerUpdateTransform=u.prototype.updateTransform,e.Container=u},70263:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(57966);class s extends i.utils.EventEmitter{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new i.Transform,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new n.Bounds,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const e=Object.keys(t);for(let r=0;r<e.length;++r){const i=e[r];Object.defineProperty(s.prototype,i,Object.getOwnPropertyDescriptor(t,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new i.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),t=this._localBoundsRect),this._localBounds||(this._localBounds=new n.Bounds);const e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a}toGlobal(t,e,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}toLocal(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){this.parent?.removeChild(this)}setTransform(t=0,e=0,r=1,i=1,n=0,s=0,o=0,a=0,u=0){return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=u,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new o),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*i.RAD_TO_DEG}set angle(t){this.transform.rotation=t*i.DEG_TO_RAD}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1))}if(this._mask=t,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(0===t._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class o extends s{constructor(){super(...arguments),this.sortDirty=null}}s.prototype.displayObjectUpdateTransform=s.prototype.updateTransform,e.DisplayObject=s,e.TemporaryDisplayObject=o},27191:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(63428);var i=r(57966),n=r(7155),s=r(70263);e.Bounds=i.Bounds,e.Container=n.Container,e.DisplayObject=s.DisplayObject,e.TemporaryDisplayObject=s.TemporaryDisplayObject},63428:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(7155);Object.defineProperties(i.settings,{SORTABLE_CHILDREN:{get:()=>n.Container.defaultSortableChildren,set(t){i.utils.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),n.Container.defaultSortableChildren=t}}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return i.settings}})},49099:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(28582),s=r(39564),o=r(67058),a=r(23009);const u=new i.Point,l=new i.Point;e.EventBoundary=class{constructor(t){this.dispatch=new i.utils.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort(((t,e)=>t.priority-e.priority))}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let r=0,i=e.length;r<i;r++)e[r].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){n.EventsTicker.pauseUpdate=!0;const r=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,u.set(t,e),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(t,e){if(!t.target)return;const r=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let i=0,n=r.length-1;i<n;i++)if(t.currentTarget=r[i],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){t.eventPhase=t.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(t.currentTarget=r[i],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,r=this._allInteractiveElements){if(0===r.length)return;t.eventPhase=t.BUBBLING_PHASE;const i=Array.isArray(e)?e:[e];for(let e=r.length-1;e>=0;e--)i.forEach((i=>{t.currentTarget=r[e],this.notifyTarget(t,i)}))}propagationPath(t){const e=[t];for(let r=0;r<2048&&t!==this.rootTarget;r++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,r,i,s,o=!1){let a=!1;if(this._interactivePrune(t))return null;if("dynamic"!==t.eventMode&&"dynamic"!==e||(n.EventsTicker.pauseUpdate=!1),t.interactiveChildren&&t.children){const n=t.children;for(let u=n.length-1;u>=0;u--){const l=n[u],c=this.hitTestMoveRecursive(l,this._isInteractive(e)?e:l.eventMode,r,i,s,o||s(t,r));if(c){if(c.length>0&&!c[c.length-1].parent)continue;const e=t.isInteractive();(c.length>0||e)&&(e&&this._allInteractiveElements.push(t),c.push(t)),0===this._hitElements.length&&(this._hitElements=c),a=!0}}}const u=this._isInteractive(e),l=t.isInteractive();return l&&l&&this._allInteractiveElements.push(t),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(t,r)&&i(t,r)?l?[t]:[]:null}hitTestRecursive(t,e,r,i,s){if(this._interactivePrune(t)||s(t,r))return null;if("dynamic"!==t.eventMode&&"dynamic"!==e||(n.EventsTicker.pauseUpdate=!1),t.interactiveChildren&&t.children){const n=t.children;for(let o=n.length-1;o>=0;o--){const a=n[o],u=this.hitTestRecursive(a,this._isInteractive(e)?e:a.eventMode,r,i,s);if(u){if(u.length>0&&!u[u.length-1].parent)continue;const e=t.isInteractive();return(u.length>0||e)&&u.push(t),u}}}const o=this._isInteractive(e),a=t.isInteractive();return o&&i(t,r)?a?[t]:[]:null}_isInteractive(t){return"static"===t||"dynamic"===t}_interactivePrune(t){return!(t&&!t.isMask&&t.visible&&t.renderable)||("none"===t.eventMode||("passive"===t.eventMode&&!t.interactiveChildren||!!t.isMask))}hitPruneFn(t,e){if(t.hitArea&&(t.worldTransform.applyInverse(e,l),!t.hitArea.contains(l.x,l.y)))return!0;if(t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;if(r&&!r.containsPoint?.(e))return!0}return!1}hitTestFn(t,e){return"passive"!==t.eventMode&&(!!t.hitArea||!!t.containsPoint&&t.containsPoint(e))}notifyTarget(t,e){const r=`on${e=e??t.type}`;t.currentTarget[r]?.(t);const i=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,i),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof o.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),"touch"===e.pointerType)this.dispatchEvent(e,"touchstart");else if("mouse"===e.pointerType||"pen"===e.pointerType){const t=2===e.button;this.dispatchEvent(e,t?"rightdown":"mousedown")}this.trackingData(t.pointerId).pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){if(!(t instanceof o.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const r="mouse"===e.pointerType||"pen"===e.pointerType,i=this.trackingData(t.pointerId),n=this.findMountedTarget(i.overTargets);if(i.overTargets?.length>0&&n!==e.target){const i="mousemove"===t.type?"mouseout":"pointerout",s=this.createPointerEvent(t,i,n);if(this.dispatchEvent(s,"pointerout"),r&&this.dispatchEvent(s,"mouseout"),!e.composedPath().includes(n)){const i=this.createPointerEvent(t,"pointerleave",n);for(i.eventPhase=i.AT_TARGET;i.target&&!e.composedPath().includes(i.target);)i.currentTarget=i.target,this.notifyTarget(i),r&&this.notifyTarget(i,"mouseleave"),i.target=i.target.parent;this.freeEvent(i)}this.freeEvent(s)}if(n!==e.target){const i="mousemove"===t.type?"mouseover":"pointerover",s=this.clonePointerEvent(e,i);this.dispatchEvent(s,"pointerover"),r&&this.dispatchEvent(s,"mouseover");let o=n?.parent;for(;o&&o!==this.rootTarget.parent&&o!==e.target;)o=o.parent;if(!o||o===this.rootTarget.parent){const t=this.clonePointerEvent(e,"pointerenter");for(t.eventPhase=t.AT_TARGET;t.target&&t.target!==n&&t.target!==this.rootTarget.parent;)t.currentTarget=t.target,this.notifyTarget(t),r&&this.notifyTarget(t,"mouseenter"),t.target=t.target.parent;this.freeEvent(t)}this.freeEvent(s)}const s=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?s.push("pointermove"):this.dispatchEvent(e,"pointermove"),a&&s.push("globalpointermove"),"touch"===e.pointerType&&(this.moveOnAll?s.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),a&&s.push("globaltouchmove")),r&&(this.moveOnAll?s.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),a&&s.push("globalmousemove"),this.cursor=e.target?.cursor),s.length>0&&this.all(e,s),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){if(!(t instanceof o.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId),r=this.createPointerEvent(t),i="mouse"===r.pointerType||"pen"===r.pointerType;this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(this.cursor=r.target?.cursor);const n=this.clonePointerEvent(r,"pointerenter");for(n.eventPhase=n.AT_TARGET;n.target&&n.target!==this.rootTarget.parent;)n.currentTarget=n.target,this.notifyTarget(n),i&&this.notifyTarget(n,"mouseenter"),n.target=n.target.parent;e.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(n)}mapPointerOut(t){if(!(t instanceof o.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId);if(e.overTargets){const r="mouse"===t.pointerType||"pen"===t.pointerType,i=this.findMountedTarget(e.overTargets),n=this.createPointerEvent(t,"pointerout",i);this.dispatchEvent(n),r&&this.dispatchEvent(n,"mouseout");const s=this.createPointerEvent(t,"pointerleave",i);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),r&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;e.overTargets=null,this.freeEvent(n),this.freeEvent(s)}this.cursor=null}mapPointerUp(t){if(!(t instanceof o.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=performance.now(),r=this.createPointerEvent(t);if(this.dispatchEvent(r,"pointerup"),"touch"===r.pointerType)this.dispatchEvent(r,"touchend");else if("mouse"===r.pointerType||"pen"===r.pointerType){const t=2===r.button;this.dispatchEvent(r,t?"rightup":"mouseup")}const i=this.trackingData(t.pointerId),n=this.findMountedTarget(i.pressTargetsByButton[t.button]);let s=n;if(n&&!r.composedPath().includes(n)){let e=n;for(;e&&!r.composedPath().includes(e);){if(r.currentTarget=e,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType)this.notifyTarget(r,"touchendoutside");else if("mouse"===r.pointerType||"pen"===r.pointerType){const t=2===r.button;this.notifyTarget(r,t?"rightupoutside":"mouseupoutside")}e=e.parent}delete i.pressTargetsByButton[t.button],s=e}if(s){const n=this.clonePointerEvent(r,"click");n.target=s,n.path=null,i.clicksByButton[t.button]||(i.clicksByButton[t.button]={clickCount:0,target:n.target,timeStamp:e});const o=i.clicksByButton[t.button];if(o.target===n.target&&e-o.timeStamp<200?++o.clickCount:o.clickCount=1,o.target=n.target,o.timeStamp=e,n.detail=o.clickCount,"mouse"===n.pointerType){const t=2===n.button;this.dispatchEvent(n,t?"rightclick":"click")}else"touch"===n.pointerType&&this.dispatchEvent(n,"tap");this.dispatchEvent(n,"pointertap"),this.freeEvent(n)}this.freeEvent(r)}mapPointerUpOutside(t){if(!(t instanceof o.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId),r=this.findMountedTarget(e.pressTargetsByButton[t.button]),i=this.createPointerEvent(t);if(r){let n=r;for(;n;)i.currentTarget=n,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType?this.notifyTarget(i,"touchendoutside"):"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),n=n.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(i)}mapWheel(t){if(!(t instanceof a.FederatedWheelEvent))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let r=1;r<t.length&&t[r].parent===e;r++)e=t[r];return e}createPointerEvent(t,e,r){const i=this.allocateEvent(o.FederatedPointerEvent);return this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t,i.target=r??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],"string"==typeof e&&(i.type=e),i}createWheelEvent(t){const e=this.allocateEvent(a.FederatedWheelEvent);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const r=this.allocateEvent(o.FederatedPointerEvent);return r.nativeEvent=t.nativeEvent,r.originalEvent=t.originalEvent,this.copyPointerData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.target=t.target,r.path=t.composedPath().slice(),r.type=e??r.type,r}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof o.FederatedPointerEvent&&e instanceof o.FederatedPointerEvent&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof s.FederatedMouseEvent&&e instanceof s.FederatedMouseEvent&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}notifyListeners(t,e){const r=t.currentTarget._events[e];if(r&&t.currentTarget.isInteractive())if("fn"in r)r.once&&t.currentTarget.removeListener(e,r.fn,void 0,!0),r.fn.call(r.context,t);else for(let i=0,n=r.length;i<n&&!t.propagationImmediatelyStopped;i++)r[i].once&&t.currentTarget.removeListener(e,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,t)}}},38265:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(49099),s=r(28582),o=r(67058),a=r(23009);const u={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},l=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new n.EventBoundary(null),s.EventsTicker.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new o.FederatedPointerEvent(null),this.rootWheelEvent=new a.FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...l.defaultEventFeatures},{set:(t,e,r)=>("globalMove"===e&&(this.rootBoundary.enableGlobalMoveEvents=r),t[e]=r,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,l._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===t.pointerType)return;const e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized){(t.cancelable||!("cancelable"in t))&&t.preventDefault()}for(let t=0,r=e.length;t<r;t++){const r=e[t],i=this.bootstrapEvent(this.rootPointerEvent,r);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===t.pointerType)return;s.EventsTicker.pointerMoved();const e=this.normalizeToPointerData(t);for(let t=0,r=e.length;t<r;t++){const r=this.bootstrapEvent(this.rootPointerEvent,e[t]);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===t.pointerType)return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",i=this.normalizeToPointerData(t);for(let t=0,e=i.length;t<e;t++){const e=this.bootstrapEvent(this.rootPointerEvent,i[t]);e.type+=r,this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===t.pointerType)return;const e=this.normalizeToPointerData(t);for(let t=0,r=e.length;t<r;t++){const r=this.bootstrapEvent(this.rootPointerEvent,e[t]);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,s.EventsTicker.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;s.EventsTicker.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;s.EventsTicker.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let i;i=this.domElement.parentElement?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const n=1/this.resolution;t.x=(e-i.left)*(this.domElement.width/i.width)*n,t.y=(r-i.top)*(this.domElement.height/i.height)*n}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,i=t.changedTouches.length;r<i;r++){const i=t.changedTouches[r];void 0===i.button&&(i.button=0),void 0===i.buttons&&(i.buttons=1),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(globalThis.MouseEvent&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof globalThis.PointerEvent))e.push(t);else{const r=t;void 0===r.isPrimary&&(r.isPrimary=!0),void 0===r.width&&(r.width=1),void 0===r.height&&(r.height=1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="mouse"),void 0===r.pointerId&&(r.pointerId=1),void 0===r.pressure&&(r.pressure=.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=u[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let c=l;c.extension={name:"events",type:[i.ExtensionType.RendererSystem,i.ExtensionType.CanvasRendererSystem]},c.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},i.extensions.add(c),e.EventSystem=c},28582:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);const n=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){!this.tickerAdded&&this.domElement&&(i.Ticker.system.add(this.tickerUpdate,this,i.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(i.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===t.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}};e.EventsTicker=n},66419:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);class n{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=n.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new i.Point,this.page=new i.Point,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,r,i,n){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}e.FederatedEvent=n},2386:()=>{},48575:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191),s=r(38265),o=r(66419);function a(t){return"dynamic"===t||"static"===t}const u={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??a(s.EventSystem.defaultEventMode)},set interactive(t){i.utils.deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??s.EventSystem.defaultEventMode},set eventMode(t){this._internalInteractive=a(t),this._internalEventMode=t},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const i="function"==typeof e?void 0:e;t="boolean"==typeof r&&r||"object"==typeof r&&r.capture?`${t}capture`:t,e="function"==typeof e?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const i="function"==typeof e?void 0:e;t="boolean"==typeof r&&r||"object"==typeof r&&r.capture?`${t}capture`:t,e="function"==typeof e?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof o.FederatedEvent))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};n.DisplayObject.mixin(u),e.FederatedDisplayObject=u},39564:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(66419);class s extends n.FederatedEvent{constructor(){super(...arguments),this.client=new i.Point,this.movement=new i.Point,this.offset=new i.Point,this.global=new i.Point,this.screen=new i.Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,r,i,n,s,o,a,u,l,c,h,d,p,f){throw new Error("Method not implemented.")}}e.FederatedMouseEvent=s},67058:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(39564);class n extends i.FederatedMouseEvent{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}e.FederatedPointerEvent=n},23009:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(39564);class n extends i.FederatedMouseEvent{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}n.DOM_DELTA_PIXEL=0,n.DOM_DELTA_LINE=1,n.DOM_DELTA_PAGE=2,e.FederatedWheelEvent=n},79743:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(49099),n=r(38265),s=r(66419);r(2386);var o=r(48575),a=r(39564),u=r(67058),l=r(23009);e.EventBoundary=i.EventBoundary,e.EventSystem=n.EventSystem,e.FederatedEvent=s.FederatedEvent,e.FederatedDisplayObject=o.FederatedDisplayObject,e.FederatedMouseEvent=a.FederatedMouseEvent,e.FederatedPointerEvent=u.FederatedPointerEvent,e.FederatedWheelEvent=l.FederatedWheelEvent},71648:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(r||{});const i=t=>{if("function"==typeof t||"object"==typeof t&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={..."object"!=typeof t.extension?{type:t.extension}:t.extension,ref:t}}if("object"!=typeof t)throw new Error("Invalid extension type");return"string"==typeof(t={...t}).type&&(t.type=[t.type]),t},n=(t,e)=>i(t).priority??e,s={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(i).forEach((t=>{t.type.forEach((e=>this._removeHandlers[e]?.(t)))})),this},add(...t){return t.map(i).forEach((t=>{t.type.forEach((e=>{const r=this._addHandlers,i=this._queue;r[e]?r[e](t):(i[e]=i[e]||[],i[e].push(t))}))})),this},handle(t,e,r){const i=this._addHandlers,n=this._removeHandlers;if(i[t]||n[t])throw new Error(`Extension type ${t} already has a handler`);i[t]=e,n[t]=r;const s=this._queue;return s[t]&&(s[t].forEach((t=>e(t))),delete s[t]),this},handleByMap(t,e){return this.handle(t,(t=>{e[t.name]=t.ref}),(t=>{delete e[t.name]}))},handleByList(t,e,r=-1){return this.handle(t,(t=>{e.includes(t.ref)||(e.push(t.ref),e.sort(((t,e)=>n(e,r)-n(t,r))))}),(t=>{const r=e.indexOf(t.ref);-1!==r&&e.splice(r,1)}))}};e.ExtensionType=r,e.extensions=s},27743:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);const n=new i.Rectangle,s=class{constructor(t){this.renderer=t}async image(t,e,r){const i=new Image;return i.src=await this.base64(t,e,r),i}async base64(t,e,r){const i=this.canvas(t);if(void 0!==i.toBlob)return new Promise(((t,n)=>{i.toBlob((e=>{if(!e)return void n(new Error("ICanvas.toBlob failed!"));const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),e,r)}));if(void 0!==i.toDataURL)return i.toDataURL(e,r);if(void 0!==i.convertToBlob){const t=await i.convertToBlob({type:e,quality:r});return new Promise(((e,r)=>{const i=new FileReader;i.onload=()=>e(i.result),i.onerror=r,i.readAsDataURL(t)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:o,flipY:a}=this._rawPixels(t,e);a&&s._flipY(r,n,o),s._unpremultiplyAlpha(r);const u=new i.utils.CanvasRenderTarget(n,o,1),l=new ImageData(new Uint8ClampedArray(r.buffer),n,o);return u.context.putImageData(l,0,0),u.canvas}pixels(t,e){const{pixels:r,width:i,height:n,flipY:o}=this._rawPixels(t,e);return o&&s._flipY(r,i,n),s._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let s,o,a=!1,u=!1;if(t&&(t instanceof i.RenderTexture?o=t:(o=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),u=!0)),o){if(s=o.baseTexture.resolution,e=e??o.frame,a=!1,!u){r.renderTexture.bind(o);const t=o.framebuffer.glFramebuffers[r.CONTEXT_UID];t.blitFramebuffer&&r.framebuffer.bind(t.blitFramebuffer)}}else s=r.resolution,e||((e=n).width=r.width/s,e.height=r.height/s),a=!0,r.renderTexture.bind();const l=Math.round(e.width*s),c=Math.round(e.height*s),h=new Uint8Array(4*l*c),d=r.gl;return d.readPixels(Math.round(e.x*s),Math.round(e.y*s),l,c,d.RGBA,d.UNSIGNED_BYTE,h),u&&o?.destroy(!0),{pixels:h,width:l,height:c,flipY:a}}destroy(){this.renderer=null}static _flipY(t,e,r){const i=e<<2,n=r>>1,s=new Uint8Array(i);for(let e=0;e<n;e++){const n=e*i,o=(r-e-1)*i;s.set(t.subarray(n,n+i)),t.copyWithin(n,o,o+i),t.set(s,o)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const e=t[r+3];if(0!==e){const i=255.001/e;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let o=s;o.extension={name:"extract",type:i.ExtensionType.RendererSystem},i.extensions.add(o),e.Extract=o},46899:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(27743);e.Extract=i.Extract},22778:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(29469);class s extends i.Filter{constructor(t=1){super(i.defaultVertex,n.default,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}e.AlphaFilter=s},29469:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"},30370:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(22778);e.AlphaFilter=i.AlphaFilter},76536:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(25339);class s extends i.Filter{constructor(t=8,e=4,r=i.Filter.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new n.BlurFilterPass(!0,t,e,r,s),this.blurYFilter=new n.BlurFilterPass(!1,t,e,r,s),this.resolution=r,this.quality=e,this.blur=t,this.repeatEdgePixels=!1}apply(t,e,r,n){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,i.CLEAR_MODES.CLEAR),this.blurYFilter.apply(t,s,r,n),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,n):this.blurXFilter.apply(t,e,r,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}e.BlurFilter=s},25339:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(91786),s=r(90399);class o extends i.Filter{constructor(t,e=8,r=4,o=i.Filter.defaultResolution,a=5){super(s.generateBlurVertSource(a,t),n.generateBlurFragSource(a)),this.horizontal=t,this.resolution=o,this._quality=0,this.quality=r,this.blur=e}apply(t,e,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{const s=t.getFilterTexture(),o=t.renderer;let a=e,u=s;this.state.blend=!1,t.applyFilter(this,a,u,i.CLEAR_MODES.CLEAR);for(let e=1;e<this.passes-1;e++){t.bindAndClear(a,i.CLEAR_MODES.BLIT),this.uniforms.uSampler=u;const e=u;u=a,a=e,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,u,r,n),t.returnFilterTexture(s)}}get blur(){return this.strength}set blur(t){this.padding=1+2*Math.abs(t),this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}e.BlurFilterPass=o},91786:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");e.generateBlurFragSource=function(t){const e=r[t],n=e.length;let s,o=i,a="";for(let r=0;r<t;r++){let i="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",r.toString());s=r,r>=n&&(s=t-r-1),i=i.replace("%value%",e[s].toString()),a+=i,a+="\n"}return o=o.replace("%blur%",a),o=o.replace("%size%",t.toString()),o}},90399:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.generateBlurVertSource=function(t,e){const r=Math.ceil(t/2);let i,n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",s="";i=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let e=0;e<t;e++){let t=i.replace("%index%",e.toString());t=t.replace("%sampleIndex%",e-(r-1)+".0"),s+=t,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}},23410:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(76536),n=r(25339);e.BlurFilter=i.BlurFilter,e.BlurFilterPass=n.BlurFilterPass},64578:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(83419);class s extends i.Filter{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(i.defaultFilterVertex,n.default,t),this.alpha=1}_loadMatrix(t,e=!1){let r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t}_colorMatrix(t){const e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){const r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}tint(t,e){const[r,n,s]=i.Color.shared.setValue(t).toArray(),o=[r,0,0,0,0,0,n,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,e)}greyscale(t,e){const r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}blackAndWhite(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)}hue(t,e){t=(t||0)/180*Math.PI;const r=Math.cos(t),i=Math.sin(t),n=1/3,s=(0,Math.sqrt)(n),o=[r+(1-r)*n,n*(1-r)-s*i,n*(1-r)+s*i,0,0,n*(1-r)+s*i,r+n*(1-r),n*(1-r)-s*i,0,0,n*(1-r)-s*i,n*(1-r)+s*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(o,e)}contrast(t,e){const r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)}saturate(t=0,e){const r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)}desaturate(){this.saturate(-1)}negative(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)}sepia(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)}technicolor(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)}polaroid(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)}toBGR(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)}kodachrome(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)}browni(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)}vintage(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)}colorTone(t,e,r,n,s){t=t||.2,e=e||.15,r=r||16770432,n=n||3375104;const o=i.Color.shared,[a,u,l]=o.setValue(r).toArray(),[c,h,d]=o.setValue(n).toArray(),p=[.3,.59,.11,0,0,a,u,l,t,0,c,h,d,e,0,a-c,u-h,l-d,0,0];this._loadMatrix(p,s)}night(t,e){const r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}predator(t,e){const r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)}lsd(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}s.prototype.grayscale=s.prototype.greyscale,e.ColorMatrixFilter=s},83419:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"},4920:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(64578);e.ColorMatrixFilter=i.ColorMatrixFilter},51538:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(16175),s=r(28962);class o extends i.Filter{constructor(t,e){const r=new i.Matrix;t.renderable=!1,super(s.default,n.default,{mapSampler:t._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=r,null==e&&(e=20),this.scale=new i.Point(e,e)}apply(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const n=this.maskSprite.worldTransform,s=Math.sqrt(n.a*n.a+n.b*n.b),o=Math.sqrt(n.c*n.c+n.d*n.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=n.a/s,this.uniforms.rotation[1]=n.b/s,this.uniforms.rotation[2]=n.c/o,this.uniforms.rotation[3]=n.d/o),t.applyFilter(this,e,r,i)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}e.DisplacementFilter=o},16175:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n"},28962:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n"},31203:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(51538);e.DisplacementFilter=i.DisplacementFilter},86517:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(9860),s=r(97607);class o extends i.Filter{constructor(){super(s.default,n.default)}}e.FXAAFilter=o},9860:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'},97607:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n"},86194:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(86517);e.FXAAFilter=i.FXAAFilter},70463:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(55239);class s extends i.Filter{constructor(t=.5,e=Math.random()){super(i.defaultFilterVertex,n.default,{uNoise:0,uSeed:0}),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}e.NoiseFilter=s},38116:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(70463);e.NoiseFilter=i.NoiseFilter},55239:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"},16028:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191),s=r(96335),o=r(62268),a=r(24624),u=r(90681);r(36125);var l=r(28746),c=r(33910),h=r(30672);const d={},p=class extends n.Container{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new a.FillStyle,this._lineStyle=new u.LineStyle,this._matrix=null,this._holeMode=!1,this.state=i.State.for2d(),this._geometry=t||new o.GraphicsGeometry,this._geometry.refCount++,this._transformID=-1,this._tintColor=new i.Color(16777215),this.blendMode=i.BLEND_MODES.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new p(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,i=.5,n=!1){return"number"==typeof t&&(t={width:t,color:e,alpha:r,alignment:i,native:n}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:i.Texture.WHITE,color:t?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:s.LINE_CAP.BUTT,join:s.LINE_JOIN.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new i.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new i.Polygon,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,i){this._initCurve();const n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),l.QuadraticUtils.curveTo(t,e,r,i,n),this}bezierCurveTo(t,e,r,i,n,s){return this._initCurve(),c.BezierUtils.curveTo(t,e,r,i,n,s,this.currentPath.points),this}arcTo(t,e,r,i,n){this._initCurve(t,e);const s=this.currentPath.points,o=h.ArcUtils.curveTo(t,e,r,i,n,s);if(o){const{cx:t,cy:e,radius:r,startAngle:i,endAngle:n,anticlockwise:s}=o;this.arc(t,e,r,i,n,s)}return this}arc(t,e,r,n,s,o=!1){if(n===s)return this;!o&&s<=n?s+=i.PI_2:o&&n<=s&&(n+=i.PI_2);if(0===s-n)return this;const a=t+Math.cos(n)*r,u=e+Math.sin(n)*r,l=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const t=Math.abs(c[c.length-2]-a),e=Math.abs(c[c.length-1]-u);t<l&&e<l||c.push(a,u)}else this.moveTo(a,u),c=this.currentPath.points;return h.ArcUtils.arc(a,u,t,e,r,n,s,o,c),this}beginFill(t=0,e){return this.beginTextureFill({texture:i.Texture.WHITE,color:t,alpha:e})}normalizeColor(t){const e=i.Color.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:i.Texture.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new i.Rectangle(t,e,r,n))}drawRoundedRect(t,e,r,n,s){return this.drawShape(new i.RoundedRectangle(t,e,r,n,s))}drawCircle(t,e,r){return this.drawShape(new i.Circle(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new i.Ellipse(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):e=Array.isArray(t[0])?t[0]:t;const s=new i.Polygon(e);return s.closeStroke=r,this.drawShape(s),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==i.SHAPES.RECT||t[0].matrix||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const r=t.batches[n],s=r.style.color,o=new Float32Array(this.vertexData.buffer,4*r.attribStart*2,2*r.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*r.attribStart*2,2*r.attribSize),u={vertexData:o,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*r.start,r.size),uvs:a,_batchRGB:i.Color.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[n]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,s=e.uniforms,o=r.drawCalls;s.translationMatrix=this.transform.worldTransform,i.Color.shared.setValue(this._tintColor).premultiply(n).toArray(s.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let e=0,i=o.length;e<i;e++)this._renderDrawCallDirect(t,r.drawCalls[e])}_renderDrawCallDirect(t,e){const{texArray:r,type:i,size:n,start:s}=e,o=r.count;for(let e=0;e<o;e++)t.texture.bind(r.elements[e],e);t.geometry.draw(i,n,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!d[r]){const{maxTextures:e}=t.plugins[r],n=new Int32Array(e);for(let t=0;t<e;t++)n[t]=t;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new i.Matrix,default:i.UniformGroup.from({uSamplers:n},!0)},o=t.plugins[r]._shader.program;d[r]=new i.Shader(o,s)}e=d[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:i,maxY:n}=t.bounds;this._bounds.addFrame(this.transform,e,r,i,n)}containsPoint(t){return this.worldTransform.applyInverse(t,p._TEMP_POINT),this._geometry.containsPoint(p._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=i.Color.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,u=this._geometry.points,l=this.vertexData;let c=0;for(let t=0;t<u.length;t+=2){const e=u[t],h=u[t+1];l[c++]=r*e+n*h+o,l[c++]=s*h+i*e+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let f=p;f.curves=s.curves,f._TEMP_POINT=new i.Point,e.Graphics=f},69189:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e=null,r=null,i=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type}clone(){return new r(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}e.GraphicsData=r},62268:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191),s=r(69189),o=r(36125),a=r(60881),u=r(89938),l=r(35615);const c=new i.Point,h=class extends i.BatchGeometry{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new n.Bounds,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),o.DRAW_CALL_POOL.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),o.BATCH_POOL.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,i=null){const n=new s.GraphicsData(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new s.GraphicsData(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const i=e[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,c):c.copyFrom(t),i.shape.contains(c.x,c.y)))){let t=!1;if(i.holes)for(let e=0;e<i.holes.length;e++){if(i.holes[e].shape.contains(c.x,c.y)){t=!0;break}}if(!t)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let s=this.shapeIndex;s<e.length;s++){this.shapeIndex++;const u=e[s],l=u.fillStyle,c=u.lineStyle;o.FILL_COMMANDS[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(l.visible||c.visible)&&this.processHoles(u.holes);for(let e=0;e<2;e++){const s=0===e?l:c;if(!s.visible)continue;const h=s.texture.baseTexture,d=this.indices.length,p=this.points.length/2;h.wrapMode=i.WRAP_MODES.REPEAT,0===e?this.processFill(u):this.processLine(u);const f=this.points.length/2-p;0!==f&&(r&&!this._compareStyles(n,s)&&(r.end(d,p),r=null),r||(r=o.BATCH_POOL.pop()||new a.BatchPart,r.begin(s,d,p),this.batches.push(r),n=s),this.addUvs(this.points,t,s.texture,p,f,s.matrix))}}const s=this.indices.length,u=this.points.length/2;if(r&&r.end(s,u),0===this.batches.length)return void(this.batchable=!0);const l=u>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const e=this.graphicsData[t],r=e.fillStyle,i=e.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const r=t[e];for(let t=0;t<r.size;t++){const e=r.start+t;this.indicesUint16[e]=this.indicesUint16[e]-r.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*h.BATCHABLE_SIZE}buildDrawCalls(){let t=++i.BaseTexture._globalBatch;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),o.DRAW_CALL_POOL.push(this.drawCalls[t]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=o.DRAW_CALL_POOL.pop();n||(n=new i.BatchDrawCall,n.texArray=new i.BatchTextureArray),n.texArray.count=0,n.start=0,n.size=0,n.type=i.DRAW_MODES.TRIANGLES;let s=0,a=null,u=0,l=!1,c=i.DRAW_MODES.TRIANGLES,h=0;this.drawCalls.push(n);for(let d=0;d<this.batches.length;d++){const p=this.batches[d],f=8,_=p.style,y=_.texture.baseTexture;l!==!!_.native&&(l=!!_.native,c=l?i.DRAW_MODES.LINES:i.DRAW_MODES.TRIANGLES,a=null,s=f,t++),a!==y&&(a=y,y._batchEnabled!==t&&(s===f&&(t++,s=0,n.size>0&&(n=o.DRAW_CALL_POOL.pop(),n||(n=new i.BatchDrawCall,n.texArray=new i.BatchTextureArray),this.drawCalls.push(n)),n.start=h,n.size=0,n.texArray.count=0,n.type=c),y.touched=1,y._batchEnabled=t,y._batchLocation=s,y.wrapMode=i.WRAP_MODES.REPEAT,n.texArray.elements[n.texArray.count++]=y,s++)),n.size+=p.size,h+=p.size,u=y._batchLocation,this.addColors(e,_.color,_.alpha,p.attribSize,p.attribStart),this.addTextureIds(r,u,p.attribSize,p.attribStart)}i.BaseTexture._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),s=new Float32Array(n),o=new Uint32Array(n);let a=0;for(let n=0;n<t.length/2;n++)s[a++]=t[2*n],s[a++]=t[2*n+1],s[a++]=e[2*n],s[a++]=e[2*n+1],o[a++]=r[n],s[a++]=i[n];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)}processFill(t){if(t.holes.length)u.buildPoly.triangulate(t,this);else{o.FILL_COMMANDS[t.type].triangulate(t,this)}}processLine(t){l.buildLine(t,this);for(let e=0;e<t.holes.length;e++)l.buildLine(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];o.FILL_COMMANDS[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}}addColors(t,e,r,n,s=0){const o=i.Color.shared.setValue(e).toLittleEndianNumber(),a=i.Color.shared.setValue(o).toPremultiplied(r);t.length=Math.max(t.length,s+n);for(let e=0;e<n;e++)t[s+e]=a}addTextureIds(t,e,r,i=0){t.length=Math.max(t.length,i+r);for(let n=0;n<r;n++)t[i+n]=e}addUvs(t,e,r,i,n,s=null){let o=0;const a=e.length,u=r.frame;for(;o<n;){let r=t[2*(i+o)],n=t[2*(i+o)+1];if(s){const t=s.a*r+s.c*n+s.tx;n=s.b*r+s.d*n+s.ty,r=t}o++,e.push(r/u.width,n/u.height)}const l=r.baseTexture;(u.width<l.width||u.height<l.height)&&this.adjustUvs(e,r,a,n)}adjustUvs(t,e,r,i){const n=e.baseTexture,s=1e-6,o=r+2*i,a=e.frame,u=a.width/n.width,l=a.height/n.height;let c=a.x/a.width,h=a.y/a.height,d=Math.floor(t[r]+s),p=Math.floor(t[r+1]+s);for(let e=r+2;e<o;e+=2)d=Math.min(d,Math.floor(t[e]+s)),p=Math.min(p,Math.floor(t[e+1]+s));c-=d,h-=p;for(let e=r;e<o;e+=2)t[e]=(t[e]+c)*u,t[e+1]=(t[e+1]+h)*l}};let d=h;d.BATCHABLE_SIZE=100,e.GraphicsGeometry=d},96335:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(r||{}),i=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(i||{});const n={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},s=n;e.GRAPHICS_CURVES=s,e.LINE_CAP=i,e.LINE_JOIN=r,e.curves=n},59296:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(36125),n=r(96335),s=r(16028),o=r(69189),a=r(62268),u=r(24624),l=r(90681),c=r(89938),h=r(60703),d=r(12285),p=r(93447),f=r(35615),_=r(30672),y=r(33910),m=r(28746),g=r(60881);const v={buildPoly:c.buildPoly,buildCircle:h.buildCircle,buildRectangle:d.buildRectangle,buildRoundedRectangle:p.buildRoundedRectangle,buildLine:f.buildLine,ArcUtils:_.ArcUtils,BezierUtils:y.BezierUtils,QuadraticUtils:m.QuadraticUtils,BatchPart:g.BatchPart,FILL_COMMANDS:i.FILL_COMMANDS,BATCH_POOL:i.BATCH_POOL,DRAW_CALL_POOL:i.DRAW_CALL_POOL};e.GRAPHICS_CURVES=n.GRAPHICS_CURVES,e.LINE_CAP=n.LINE_CAP,e.LINE_JOIN=n.LINE_JOIN,e.curves=n.curves,e.Graphics=s.Graphics,e.GraphicsData=o.GraphicsData,e.GraphicsGeometry=a.GraphicsGeometry,e.FillStyle=u.FillStyle,e.LineStyle=l.LineStyle,e.graphicsUtils=v},24624:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);class n{constructor(){this.color=16777215,this.alpha=1,this.texture=i.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=i.Texture.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}e.FillStyle=n},90681:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(96335),n=r(24624);class s extends n.FillStyle{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=i.LINE_CAP.BUTT,this.join=i.LINE_JOIN.MITER,this.miterLimit=10}clone(){const t=new s;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}e.LineStyle=s},30672:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(96335);e.ArcUtils=class{static curveTo(t,e,r,i,n,s){const o=s[s.length-2],a=s[s.length-1]-e,u=o-t,l=i-e,c=r-t,h=Math.abs(a*c-u*l);if(h<1e-8||0===n)return s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e),null;const d=a*a+u*u,p=l*l+c*c,f=a*l+u*c,_=n*Math.sqrt(d)/h,y=n*Math.sqrt(p)/h,m=_*f/d,g=y*f/p,v=_*c+y*u,b=_*l+y*a,x=u*(y+m),T=a*(y+m),E=c*(_+g),S=l*(_+g);return{cx:v+t,cy:b+e,radius:n,startAngle:Math.atan2(T-b,x-v),endAngle:Math.atan2(S-b,E-v),anticlockwise:u*l>c*a}}static arc(t,e,r,s,o,a,u,l,c){const h=u-a,d=n.curves._segmentsCount(Math.abs(h)*o,40*Math.ceil(Math.abs(h)/i.PI_2)),p=h/(2*d),f=2*p,_=Math.cos(p),y=Math.sin(p),m=d-1,g=m%1/m;for(let t=0;t<=m;++t){const e=p+a+f*(t+g*t),i=Math.cos(e),n=-Math.sin(e);c.push((_*i+y*n)*o+r,(_*-n+y*i)*o+s)}}}},60881:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BatchPart=class{constructor(){this.reset()}begin(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r}end(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}},33910:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(96335);class n{static curveLength(t,e,r,i,n,s,o,a){let u=0,l=0,c=0,h=0,d=0,p=0,f=0,_=0,y=0,m=0,g=0,v=t,b=e;for(let x=1;x<=10;++x)l=x/10,c=l*l,h=c*l,d=1-l,p=d*d,f=p*d,_=f*t+3*p*l*r+3*d*c*n+h*o,y=f*e+3*p*l*i+3*d*c*s+h*a,m=v-_,g=b-y,v=_,b=y,u+=Math.sqrt(m*m+g*g);return u}static curveTo(t,e,r,s,o,a,u){const l=u[u.length-2],c=u[u.length-1];u.length-=2;const h=i.curves._segmentsCount(n.curveLength(l,c,t,e,r,s,o,a));let d=0,p=0,f=0,_=0,y=0;u.push(l,c);for(let i=1,n=0;i<=h;++i)n=i/h,d=1-n,p=d*d,f=p*d,_=n*n,y=_*n,u.push(f*l+3*p*n*t+3*d*_*r+y*o,f*c+3*p*n*e+3*d*_*s+y*a)}}e.BezierUtils=n},28746:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(96335);class n{static curveLength(t,e,r,i,n,s){const o=t-2*r+n,a=e-2*i+s,u=2*r-2*t,l=2*i-2*e,c=4*(o*o+a*a),h=4*(o*u+a*l),d=u*u+l*l,p=2*Math.sqrt(c+h+d),f=Math.sqrt(c),_=2*c*f,y=2*Math.sqrt(d),m=h/f;return(_*p+f*h*(p-y)+(4*d*c-h*h)*Math.log((2*f+m+p)/(m+y)))/(4*_)}static curveTo(t,e,r,s,o){const a=o[o.length-2],u=o[o.length-1],l=i.curves._segmentsCount(n.curveLength(a,u,t,e,r,s));let c=0,h=0;for(let i=1;i<=l;++i){const n=i/l;c=a+(t-a)*n,h=u+(e-u)*n,o.push(c+(t+(r-t)*n-c)*n,h+(e+(s-e)*n-h)*n)}}}e.QuadraticUtils=n},60703:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);const n={build(t){const e=t.points;let r,n,s,o,a,u;if(t.type===i.SHAPES.CIRC){const e=t.shape;r=e.x,n=e.y,a=u=e.radius,s=o=0}else if(t.type===i.SHAPES.ELIP){const e=t.shape;r=e.x,n=e.y,a=e.width,u=e.height,s=o=0}else{const e=t.shape,i=e.width/2,l=e.height/2;r=e.x+i,n=e.y+l,a=u=Math.max(0,Math.min(e.radius,Math.min(i,l))),s=i-a,o=l-u}if(!(a>=0&&u>=0&&s>=0&&o>=0))return void(e.length=0);const l=Math.ceil(2.3*Math.sqrt(a+u)),c=8*l+(s?4:0)+(o?4:0);if(e.length=c,0===c)return;if(0===l)return e.length=8,e[0]=e[6]=r+s,e[1]=e[3]=n+o,e[2]=e[4]=r-s,void(e[5]=e[7]=n-o);let h=0,d=4*l+(s?2:0)+2,p=d,f=c;{const t=s+a,i=o,u=r+t,l=r-t,c=n+i;if(e[h++]=u,e[h++]=c,e[--d]=c,e[--d]=l,o){const t=n-i;e[p++]=l,e[p++]=t,e[--f]=t,e[--f]=u}}for(let t=1;t<l;t++){const i=Math.PI/2*(t/l),c=s+Math.cos(i)*a,_=o+Math.sin(i)*u,y=r+c,m=r-c,g=n+_,v=n-_;e[h++]=y,e[h++]=g,e[--d]=g,e[--d]=m,e[p++]=m,e[p++]=v,e[--f]=v,e[--f]=y}{const t=o+u,i=r+s,a=r-s,l=n+t,c=n-t;e[h++]=i,e[h++]=l,e[--f]=c,e[--f]=i,s&&(e[h++]=a,e[h++]=l,e[--f]=c,e[--f]=a)}},triangulate(t,e){const r=t.points,n=e.points,s=e.indices;if(0===r.length)return;let o=n.length/2;const a=o;let u,l;if(t.type!==i.SHAPES.RREC){const e=t.shape;u=e.x,l=e.y}else{const e=t.shape;u=e.x+e.width/2,l=e.y+e.height/2}const c=t.matrix;n.push(t.matrix?c.a*u+c.c*l+c.tx:u,t.matrix?c.b*u+c.d*l+c.ty:l),o++,n.push(r[0],r[1]);for(let t=2;t<r.length;t+=2)n.push(r[t],r[t+1]),s.push(o++,a,o);s.push(a+1,a,o)}};e.buildCircle=n},35615:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(96335);function s(t,e,r,i,n,s,o,a){let u,l;o?(u=i,l=-r):(u=-i,l=r);const c=t-r*n+u,h=e-i*n+l,d=t+r*s+u,p=e+i*s+l;return a.push(c,h,d,p),2}function o(t,e,r,i,n,s,o,a){const u=r-t,l=i-e;let c=Math.atan2(u,l),h=Math.atan2(n-t,s-e);a&&c<h?c+=2*Math.PI:!a&&c>h&&(h+=2*Math.PI);let d=c;const p=h-c,f=Math.abs(p),_=Math.sqrt(u*u+l*l),y=1+(15*f*Math.sqrt(_)/Math.PI>>0),m=p/y;if(d+=m,a){o.push(t,e,r,i);for(let r=1,i=d;r<y;r++,i+=m)o.push(t,e,t+Math.sin(i)*_,e+Math.cos(i)*_);o.push(t,e,n,s)}else{o.push(r,i,t,e);for(let r=1,i=d;r<y;r++,i+=m)o.push(t+Math.sin(i)*_,e+Math.cos(i)*_,t,e);o.push(n,s,t,e)}return 2*y}e.buildLine=function(t,e){t.lineStyle.native?function(t,e){let r=0;const n=t.shape,s=t.points||n.points,o=n.type!==i.SHAPES.POLY||n.closeStroke;if(0===s.length)return;const a=e.points,u=e.indices,l=s.length/2,c=a.length/2;let h=c;for(a.push(s[0],s[1]),r=1;r<l;r++)a.push(s[2*r],s[2*r+1]),u.push(h,h+1),h++;o&&u.push(h,c)}(t,e):function(t,e){const r=t.shape;let a=t.points||r.points.slice();const u=e.closePointEps;if(0===a.length)return;const l=t.lineStyle,c=new i.Point(a[0],a[1]),h=new i.Point(a[a.length-2],a[a.length-1]),d=r.type!==i.SHAPES.POLY||r.closeStroke,p=Math.abs(c.x-h.x)<u&&Math.abs(c.y-h.y)<u;if(d){a=a.slice(),p&&(a.pop(),a.pop(),h.set(a[a.length-2],a[a.length-1]));const t=.5*(c.x+h.x),e=.5*(h.y+c.y);a.unshift(t,e),a.push(t,e)}const f=e.points,_=a.length/2;let y=a.length;const m=f.length/2,g=l.width/2,v=g*g,b=l.miterLimit*l.miterLimit;let x=a[0],T=a[1],E=a[2],S=a[3],A=0,w=0,P=-(T-S),O=x-E,M=0,I=0,C=Math.sqrt(P*P+O*O);P/=C,O/=C,P*=g,O*=g;const R=l.alignment,D=2*(1-R),B=2*R;d||(l.cap===n.LINE_CAP.ROUND?y+=o(x-P*(D-B)*.5,T-O*(D-B)*.5,x-P*D,T-O*D,x+P*B,T+O*B,f,!0)+2:l.cap===n.LINE_CAP.SQUARE&&(y+=s(x,T,P,O,D,B,!0,f))),f.push(x-P*D,T-O*D,x+P*B,T+O*B);for(let t=1;t<_-1;++t){x=a[2*(t-1)],T=a[2*(t-1)+1],E=a[2*t],S=a[2*t+1],A=a[2*(t+1)],w=a[2*(t+1)+1],P=-(T-S),O=x-E,C=Math.sqrt(P*P+O*O),P/=C,O/=C,P*=g,O*=g,M=-(S-w),I=E-A,C=Math.sqrt(M*M+I*I),M/=C,I/=C,M*=g,I*=g;const e=E-x,r=T-S,i=E-A,s=w-S,u=e*i+r*s,c=r*i-s*e,h=c<0;if(Math.abs(c)<.001*Math.abs(u)){f.push(E-P*D,S-O*D,E+P*B,S+O*B),u>=0&&(l.join===n.LINE_JOIN.ROUND?y+=o(E,S,E-P*D,S-O*D,E-M*D,S-I*D,f,!1)+4:y+=2,f.push(E-M*B,S-I*B,E+M*D,S+I*D));continue}const d=(-P+x)*(-O+S)-(-P+E)*(-O+T),p=(-M+A)*(-I+S)-(-M+E)*(-I+w),_=(e*p-i*d)/c,m=(s*d-r*p)/c,R=(_-E)*(_-E)+(m-S)*(m-S),L=E+(_-E)*D,F=S+(m-S)*D,k=E-(_-E)*B,N=S-(m-S)*B,j=h?D:B,U=R<=Math.min(e*e+r*r,i*i+s*s)+j*j*v;let G=l.join;if(G===n.LINE_JOIN.MITER&&R/v>b&&(G=n.LINE_JOIN.BEVEL),U)switch(G){case n.LINE_JOIN.MITER:f.push(L,F,k,N);break;case n.LINE_JOIN.BEVEL:h?f.push(L,F,E+P*B,S+O*B,L,F,E+M*B,S+I*B):f.push(E-P*D,S-O*D,k,N,E-M*D,S-I*D,k,N),y+=2;break;case n.LINE_JOIN.ROUND:h?(f.push(L,F,E+P*B,S+O*B),y+=o(E,S,E+P*B,S+O*B,E+M*B,S+I*B,f,!0)+4,f.push(L,F,E+M*B,S+I*B)):(f.push(E-P*D,S-O*D,k,N),y+=o(E,S,E-P*D,S-O*D,E-M*D,S-I*D,f,!1)+4,f.push(E-M*D,S-I*D,k,N))}else{switch(f.push(E-P*D,S-O*D,E+P*B,S+O*B),G){case n.LINE_JOIN.MITER:h?f.push(k,N,k,N):f.push(L,F,L,F),y+=2;break;case n.LINE_JOIN.ROUND:y+=h?o(E,S,E+P*B,S+O*B,E+M*B,S+I*B,f,!0)+2:o(E,S,E-P*D,S-O*D,E-M*D,S-I*D,f,!1)+2}f.push(E-M*D,S-I*D,E+M*B,S+I*B),y+=2}}x=a[2*(_-2)],T=a[2*(_-2)+1],E=a[2*(_-1)],S=a[2*(_-1)+1],P=-(T-S),O=x-E,C=Math.sqrt(P*P+O*O),P/=C,O/=C,P*=g,O*=g,f.push(E-P*D,S-O*D,E+P*B,S+O*B),d||(l.cap===n.LINE_CAP.ROUND?y+=o(E-P*(D-B)*.5,S-O*(D-B)*.5,E-P*D,S-O*D,E+P*B,S+O*B,f,!1)+2:l.cap===n.LINE_CAP.SQUARE&&(y+=s(E,S,P,O,D,B,!1,f)));const L=e.indices,F=n.curves.epsilon*n.curves.epsilon;for(let t=m;t<y+m-2;++t)x=f[2*t],T=f[2*t+1],E=f[2*(t+1)],S=f[2*(t+1)+1],A=f[2*(t+2)],w=f[2*(t+2)+1],Math.abs(x*(S-w)+E*(w-T)+A*(T-S))<F||L.push(t,t+1,t+2)}(t,e)}},89938:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);function n(t,e=!1){const r=t.length;if(r<6)return;let i=0;for(let e=0,n=t[r-2],s=t[r-1];e<r;e+=2){const r=t[e],o=t[e+1];i+=(r-n)*(o+s),n=r,s=o}if(!e&&i>0||e&&i<=0){const e=r/2;for(let i=e+e%2;i<r;i+=2){const e=r-i-2,n=r-i-1,s=i,o=i+1;[t[e],t[s]]=[t[s],t[e]],[t[n],t[o]]=[t[o],t[n]]}}}const s={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const s=t.holes,o=e.points,a=e.indices;if(r.length>=6){n(r,!1);const t=[];for(let e=0;e<s.length;e++){const i=s[e];n(i.points,!0),t.push(r.length/2),r=r.concat(i.points)}const e=i.utils.earcut(r,t,2);if(!e)return;const u=o.length/2;for(let t=0;t<e.length;t+=3)a.push(e[t]+u),a.push(e[t+1]+u),a.push(e[t+2]+u);for(let t=0;t<r.length;t++)o.push(r[t])}}};e.buildPoly=s},12285:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r={build(t){const e=t.shape,r=e.x,i=e.y,n=e.width,s=e.height,o=t.points;o.length=0,n>=0&&s>=0&&o.push(r,i,r+n,i,r+n,i+s,r,i+s)},triangulate(t,e){const r=t.points,i=e.points;if(0===r.length)return;const n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};e.buildRectangle=r},93447:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(60703);const n={build(t){i.buildCircle.build(t)},triangulate(t,e){i.buildCircle.triangulate(t,e)}};e.buildRoundedRectangle=n},36125:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(60703),s=r(89938),o=r(12285),a=r(93447),u=r(30672),l=r(60881),c=r(33910),h=r(35615),d=r(28746);const p={[i.SHAPES.POLY]:s.buildPoly,[i.SHAPES.CIRC]:n.buildCircle,[i.SHAPES.ELIP]:n.buildCircle,[i.SHAPES.RECT]:o.buildRectangle,[i.SHAPES.RREC]:a.buildRoundedRectangle};e.buildCircle=n.buildCircle,e.buildPoly=s.buildPoly,e.buildRectangle=o.buildRectangle,e.buildRoundedRectangle=a.buildRoundedRectangle,e.ArcUtils=u.ArcUtils,e.BatchPart=l.BatchPart,e.BezierUtils=c.BezierUtils,e.buildLine=h.buildLine,e.QuadraticUtils=d.QuadraticUtils,e.BATCH_POOL=[],e.DRAW_CALL_POOL=[],e.FILL_COMMANDS=p},1759:()=>{},93187:()=>{},89663:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71965),n=r(18884);class s{constructor(t=1,e=0,r=0,i=1,n=0,s=0){this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=s}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,r,i,n,s){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=s,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,e){e=e||new n.Point;const r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e}applyInverse(t,e){e=e||new n.Point;const r=1/(this.a*this.d+this.c*-this.b),i=t.x,s=t.y;return e.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,s=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=s*e-this.ty*r,this.ty=s*r+this.ty*e,this}append(t){const e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this}setTransform(t,e,r,i,n,s,o,a,u){return this.a=Math.cos(o+u)*n,this.b=Math.sin(o+u)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this}prepend(t){const e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){const e=this.a,r=this.c;this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,r=this.b,n=this.c,s=this.d,o=t.pivot,a=-Math.atan2(-n,s),u=Math.atan2(r,e),l=Math.abs(a+u);return l<1e-5||Math.abs(i.PI_2-l)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=u),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+s*s),t.position.x=this.tx+(o.x*e+o.y*n),t.position.y=this.ty+(o.x*r+o.y*s),t}invert(){const t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,s=t*i-e*r;return this.a=i/s,this.b=-e/s,this.c=-r/s,this.d=t/s,this.tx=(r*this.ty-i*n)/s,this.ty=-(t*this.ty-e*n)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new s;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new s}static get TEMP_MATRIX(){return new s}}e.Matrix=s},86388:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e,r=0,i=0){this._x=r,this._y=i,this.cb=t,this.scope=e}clone(t=this.cb,e=this.scope){return new r(t,e,this._x,this._y)}set(t=0,e=t){return this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this}copyFrom(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}e.ObservablePoint=r},18884:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new r(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}e.Point=r},50969:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(89663),n=r(86388);const s=class{constructor(){this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this.position=new n.ObservablePoint(this.onChange,this,0,0),this.scale=new n.ObservablePoint(this.onChange,this,1,1),this.pivot=new n.ObservablePoint(this.onChange,this,0,0),this.skew=new n.ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let o=s;o.IDENTITY=new s,e.Transform=o},71965:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=2*Math.PI,i=180/Math.PI,n=Math.PI/180;var s=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(s||{});e.DEG_TO_RAD=n,e.PI_2=r,e.RAD_TO_DEG=i,e.SHAPES=s},45154:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(89663);const n=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],o=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],a=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],u=[],l=[],c=Math.sign;!function(){for(let t=0;t<16;t++){const e=[];u.push(e);for(let r=0;r<16;r++){const i=c(n[t]*n[r]+o[t]*s[r]),u=c(s[t]*n[r]+a[t]*s[r]),l=c(n[t]*o[r]+o[t]*a[r]),h=c(s[t]*o[r]+a[t]*a[r]);for(let t=0;t<16;t++)if(n[t]===i&&s[t]===u&&o[t]===l&&a[t]===h){e.push(t);break}}}for(let t=0;t<16;t++){const e=new i.Matrix;e.set(n[t],s[t],o[t],a[t],0,0),l.push(e)}}();const h={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>n[t],uY:t=>s[t],vX:t=>o[t],vY:t=>a[t],inv:t=>8&t?15&t:7&-t,add:(t,e)=>u[t][e],sub:(t,e)=>u[t][h.inv(e)],rotate180:t=>4^t,isVertical:t=>2==(3&t),byDirection:(t,e)=>2*Math.abs(t)<=Math.abs(e)?e>=0?h.S:h.N:2*Math.abs(e)<=Math.abs(t)?t>0?h.E:h.W:e>0?t>0?h.SE:h.SW:t>0?h.NE:h.NW,matrixAppendRotationInv:(t,e,r=0,i=0)=>{const n=l[h.inv(e)];n.tx=r,n.ty=i,t.append(n)}};e.groupD8=h},40435:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(47944),n=r(32006),s=r(5272),o=r(9617),a=r(10499),u=r(45154);r(1759),r(93187);var l=r(89663),c=r(86388),h=r(18884),d=r(50969),p=r(71965);e.Circle=i.Circle,e.Ellipse=n.Ellipse,e.Polygon=s.Polygon,e.Rectangle=o.Rectangle,e.RoundedRectangle=a.RoundedRectangle,e.groupD8=u.groupD8,e.Matrix=l.Matrix,e.ObservablePoint=c.ObservablePoint,e.Point=h.Point,e.Transform=d.Transform,e.DEG_TO_RAD=p.DEG_TO_RAD,e.PI_2=p.PI_2,e.RAD_TO_DEG=p.RAD_TO_DEG,e.SHAPES=p.SHAPES},47944:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71965),n=r(9617);class s{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.radius=r,this.type=i.SHAPES.CIRC}clone(){return new s(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-t,n=this.y-e;return i*=i,n*=n,i+n<=r}getBounds(){return new n.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}e.Circle=s},32006:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71965),n=r(9617);class s{constructor(t=0,e=0,r=0,n=0){this.x=t,this.y=e,this.width=r,this.height=n,this.type=i.SHAPES.ELIP}clone(){return new s(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;let r=(t-this.x)/this.width,i=(e-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new n.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}e.Ellipse=s},5272:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71965);class n{constructor(...t){let e=Array.isArray(t[0])?t[0]:t;if("number"!=typeof e[0]){const t=[];for(let r=0,i=e.length;r<i;r++)t.push(e[r].x,e[r].y);e=t}this.points=e,this.type=i.SHAPES.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),e=new n(t);return e.closeStroke=this.closeStroke,e}contains(t,e){let r=!1;const i=this.points.length/2;for(let n=0,s=i-1;n<i;s=n++){const i=this.points[2*n],o=this.points[2*n+1],a=this.points[2*s],u=this.points[2*s+1];o>e!=u>e&&t<(e-o)/(u-o)*(a-i)+i&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce(((t,e)=>`${t}, ${e}`),"")}]`}}e.Polygon=n},9617:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71965),n=r(18884);const s=[new n.Point,new n.Point,new n.Point,new n.Point];class o{constructor(t=0,e=0,r=0,n=0){this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(n),this.type=i.SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new o(0,0,0,0)}clone(){return new o(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)}intersects(t,e){if(!e){const e=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=e)return!1;const r=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>r}const r=this.left,i=this.right,n=this.top,o=this.bottom;if(i<=r||o<=n)return!1;const a=s[0].set(t.left,t.top),u=s[1].set(t.left,t.bottom),l=s[2].set(t.right,t.top),c=s[3].set(t.right,t.bottom);if(l.x<=a.x||u.y<=a.y)return!1;const h=Math.sign(e.a*e.d-e.b*e.c);if(0===h)return!1;if(e.apply(a,a),e.apply(u,u),e.apply(l,l),e.apply(c,c),Math.max(a.x,u.x,l.x,c.x)<=r||Math.min(a.x,u.x,l.x,c.x)>=i||Math.max(a.y,u.y,l.y,c.y)<=n||Math.min(a.y,u.y,l.y,c.y)>=o)return!1;const d=h*(u.y-a.y),p=h*(a.x-u.x),f=d*r+p*n,_=d*i+p*n,y=d*r+p*o,m=d*i+p*o;if(Math.max(f,_,y,m)<=d*a.x+p*a.y||Math.min(f,_,y,m)>=d*c.x+p*c.y)return!1;const g=h*(a.y-l.y),v=h*(l.x-a.x),b=g*r+v*n,x=g*i+v*n,T=g*r+v*o,E=g*i+v*o;return!(Math.max(b,x,T,E)<=g*a.x+v*a.y||Math.min(b,x,T,E)>=g*c.x+v*c.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this}fit(t){const e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this}ceil(t=1,e=.001){const r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}e.Rectangle=o},10499:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71965);class n{constructor(t=0,e=0,r=0,n=0,s=20){this.x=t,this.y=e,this.width=r,this.height=n,this.radius=s,this.type=i.SHAPES.RREC}clone(){return new n(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+r&&e<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let i=t-(this.x+r),n=e-(this.y+r);const s=r*r;if(i*i+n*n<=s)return!0;if(i=t-(this.x+this.width-r),i*i+n*n<=s)return!0;if(n=e-(this.y+this.height-r),i*i+n*n<=s)return!0;if(i=t-(this.x+r),i*i+n*n<=s)return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}e.RoundedRectangle=n},33024:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(21162);class s extends n.SimplePlane{constructor(t,e,r,n,s){super(i.Texture.WHITE,4,4),this._origWidth=t.orig.width,this._origHeight=t.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=e??t.defaultBorders?.left??10,this._rightWidth=n??t.defaultBorders?.right??10,this._topHeight=r??t.defaultBorders?.top??10,this._bottomHeight=s??t.defaultBorders?.bottom??10,this.texture=t}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}updateHorizontalVertices(){const t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height}updateVerticalVertices(){const t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width}_getMinScale(){const t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(e,i)}get width(){return this._width}set width(t){this._width=t,this._refresh()}get height(){return this._height}set height(t){this._height=t,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(t){this._leftWidth=t,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(t){this._rightWidth=t,this._refresh()}get topHeight(){return this._topHeight}set topHeight(t){this._topHeight=t,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(t){this._bottomHeight=t,this._refresh()}_refresh(){const t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;const r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}e.NineSlicePlane=s},40197:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(21770);class s extends n.Mesh{constructor(t=i.Texture.EMPTY,e,r,s,o){const a=new n.MeshGeometry(e,r,s);a.getBuffer("aVertexPosition").static=!1;super(a,new n.MeshMaterial(t),null,o),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}_render(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(t)}}e.SimpleMesh=s},21162:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(21770),s=r(72183);class o extends n.Mesh{constructor(t,e,r){super(new s.PlaneGeometry(t.width,t.height,e,r),new n.MeshMaterial(i.Texture.WHITE)),this.texture=t,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const t=this.geometry,{width:e,height:r}=this.shader.texture;!this.autoResize||t.width===e&&t.height===r||(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())}set texture(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(t)}destroy(t){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(t)}}e.SimplePlane=o},72126:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(21770),s=r(13903);class o extends n.Mesh{constructor(t,e,r=0){const o=new s.RopeGeometry(t.height,e,r),a=new n.MeshMaterial(t);r>0&&(t.baseTexture.wrapMode=i.WRAP_MODES.REPEAT),super(o,a),this.autoUpdate=!0}_render(t){const e=this.geometry;(this.autoUpdate||e._width!==this.shader.texture.height)&&(e._width=this.shader.texture.height,e.update()),super._render(t)}}e.SimpleRope=o},72183:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(21770);class n extends i.MeshGeometry{constructor(t=100,e=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=t,this.height=e,this.build()}build(){const t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,s=this.segHeight-1,o=this.width/n,a=this.height/s;for(let i=0;i<t;i++){const t=i%this.segWidth,u=i/this.segWidth|0;e.push(t*o,u*a),r.push(t/n,u/s)}const u=n*s;for(let t=0;t<u;t++){const e=t%n,r=t/n|0,s=r*this.segWidth+e,o=r*this.segWidth+e+1,a=(r+1)*this.segWidth+e,u=(r+1)*this.segWidth+e+1;i.push(s,o,a,o,u,a)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}e.PlaneGeometry=n},13903:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(21770);class n extends i.MeshGeometry{constructor(t=200,e,r=0){super(new Float32Array(4*e.length),new Float32Array(4*e.length),new Uint16Array(6*(e.length-1))),this.points=e,this._width=t,this.textureScale=r,this.build()}get width(){return this._width}build(){const t=this.points;if(!t)return;const e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(t.length<1)return;e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));const n=r.data,s=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;let o=0,a=t[0];const u=this._width*this.textureScale,l=t.length;for(let e=0;e<l;e++){const r=4*e;if(this.textureScale>0){const r=a.x-t[e].x,i=a.y-t[e].y,n=Math.sqrt(r*r+i*i);a=t[e],o+=n/u}else o=e/(l-1);n[r]=o,n[r+1]=0,n[r+2]=o,n[r+3]=1}let c=0;for(let t=0;t<l-1;t++){const e=2*t;s[c++]=e,s[c++]=e+1,s[c++]=e+2,s[c++]=e+2,s[c++]=e+1,s[c++]=e+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const t=this.points;if(t.length<1)return;let e,r=t[0],i=0,n=0;const s=this.buffers[0].data,o=t.length,a=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let u=0;u<o;u++){const l=t[u],c=4*u;e=u<t.length-1?t[u+1]:l,n=-(e.x-r.x),i=e.y-r.y;let h=10*(1-u/(o-1));h>1&&(h=1);const d=Math.sqrt(i*i+n*n);d<1e-6?(i=0,n=0):(i/=d,n/=d,i*=a,n*=a),s[c]=l.x+i,s[c+1]=l.y+n,s[c+2]=l.x-i,s[c+3]=l.y-n,r=l}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}e.RopeGeometry=n},80261:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(72183),n=r(13903),s=r(33024),o=r(40197),a=r(21162),u=r(72126);e.PlaneGeometry=i.PlaneGeometry,e.RopeGeometry=n.RopeGeometry,e.NineSlicePlane=s.NineSlicePlane,e.SimpleMesh=o.SimpleMesh,e.SimplePlane=a.SimplePlane,e.SimpleRope=u.SimpleRope},19056:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191),s=r(4018);const o=new i.Point,a=new i.Polygon,u=class extends n.Container{constructor(t,e,r,n=i.DRAW_MODES.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||i.State.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=i.settings.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===i.DRAW_MODES.TRIANGLES&&e.length<2*u.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,u=n.d,l=n.tx,c=n.ty,h=this.vertexData;for(let t=0;t<h.length/2;t++){const r=e[2*t],i=e[2*t+1];h[2*t]=s*r+a*i+l,h[2*t+1]=o*r+u*i+c}if(this._roundPixels){const t=i.settings.RESOLUTION;for(let e=0;e<h.length;++e)h[e]=Math.round(h[e]*t)/t}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new s.MeshBatchUvs(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,o);const e=this.geometry.getBuffer("aVertexPosition").data,r=a.points,i=this.geometry.getIndex().data,n=i.length,s=4===this.drawMode?3:1;for(let t=0;t+2<n;t+=s){const n=2*i[t],s=2*i[t+1],u=2*i[t+2];if(r[0]=e[n],r[1]=e[n+1],r[2]=e[s],r[3]=e[s+1],r[4]=e[u],r[5]=e[u+1],a.contains(o.x,o.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let l=u;l.BATCHABLE_SIZE=100,e.Mesh=l},4018:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.MeshBatchUvs=class{constructor(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}}},44528:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);class n extends i.Geometry{constructor(t,e,r){super();const n=new i.Buffer(t),s=new i.Buffer(e,!0),o=new i.Buffer(r,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,i.TYPES.FLOAT).addAttribute("aTextureCoord",s,2,!1,i.TYPES.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}e.MeshGeometry=n},11705:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(61678),s=r(28549);class o extends i.Shader{constructor(t,e){const r={uSampler:t,alpha:1,uTextureMatrix:i.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};(e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e)).uniforms&&Object.assign(r,e.uniforms),super(e.program||i.Program.from(s.default,n.default),r),this._colorDirty=!1,this.uvMatrix=new i.TextureMatrix(t),this.batchable=void 0===e.program,this.pluginName=e.pluginName,this._tintColor=new i.Color(e.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=e.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;i.Color.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}e.MeshMaterial=o},21770:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(19056),n=r(4018),s=r(44528),o=r(11705);e.Mesh=i.Mesh,e.MeshBatchUvs=n.MeshBatchUvs,e.MeshGeometry=s.MeshGeometry,e.MeshMaterial=o.MeshMaterial},61678:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"},28549:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n"},88096:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191),s=r(6903);const o=new i.Matrix;n.DisplayObject.prototype._cacheAsBitmap=!1,n.DisplayObject.prototype._cacheData=null,n.DisplayObject.prototype._cacheAsBitmapResolution=null,n.DisplayObject.prototype._cacheAsBitmapMultisample=null;class a{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(n.DisplayObject.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;let e;this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new a),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}),n.DisplayObject.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},n.DisplayObject.prototype._initCachedDisplayObject=function(t){if(this._cacheData?.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(null,!0).clone();if(this.filters?.length){const t=this.filters[0].padding;r.pad(t)}r.ceil(i.settings.RESOLUTION);const n=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),u=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,c=i.RenderTexture.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:this.cacheAsBitmapMultisample??t.multisample}),h=`cacheAsBitmap_${i.utils.uid()}`;this._cacheData.textureCacheId=h,i.BaseTexture.addToCache(c.baseTexture,h),i.Texture.addToCache(c,h);const d=this.transform.localTransform.copyTo(o).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:d,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(n,a,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const p=new s.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)},n.DisplayObject.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},n.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(t){if(this._cacheData?.sprite)return;const e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,a=t._projTransform;e.ceil(i.settings.RESOLUTION);const u=i.RenderTexture.create({width:e.width,height:e.height}),l=`cacheAsBitmap_${i.utils.uid()}`;this._cacheData.textureCacheId=l,i.BaseTexture.addToCache(u.baseTexture,l),i.Texture.addToCache(u,l);const c=o;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:u,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const h=new s.Sprite(u);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)},n.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},n.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},n.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,i.BaseTexture.removeFromCache(this._cacheData.textureCacheId),i.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},n.DisplayObject.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},e.CacheData=a},81939:(t,e,r)=>{"use strict";var i=r(27191);i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t,e){for(let e=0,r=this.children.length;e<r;e++)if(this.children[e].name===t)return this.children[e];if(e)for(let e=0,r=this.children.length;e<r;e++){const r=this.children[e];if(!r.getChildByName)continue;const i=r.getChildByName(t,!0);if(i)return i}return null}},25713:(t,e,r)=>{"use strict";var i=r(48742);r(27191).DisplayObject.prototype.getGlobalPosition=function(t=new i.Point,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},65858:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);e.ParticleBuffer=class{constructor(t,e,r){this.geometry=new i.Geometry,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let r=0;r<t.length;++r){let n=t[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||i.TYPES.FLOAT,offset:n.offset},e[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let e=0;this.indexBuffer=new i.Buffer(i.utils.createIndicesForQuads(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let t=0;t<this.dynamicProperties.length;++t){const r=this.dynamicProperties[t];r.offset=e,e+=r.size,this.dynamicStride+=r.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new i.Buffer(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let t=0;t<this.staticProperties.length;++t){const e=this.staticProperties[t];e.offset=n,n+=e.size,this.staticStride+=e.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new i.Buffer(this.staticData,!0,!1);for(let e=0;e<this.dynamicProperties.length;++e){const r=this.dynamicProperties[e];t.addAttribute(r.attributeName,this.dynamicBuffer,0,r.type===i.TYPES.UNSIGNED_BYTE,r.type,4*this.dynamicStride,4*r.offset)}for(let e=0;e<this.staticProperties.length;++e){const r=this.staticProperties[e];t.addAttribute(r.attributeName,this.staticBuffer,0,r.type===i.TYPES.UNSIGNED_BYTE,r.type,4*this.staticStride,4*r.offset)}}uploadDynamic(t,e,r){for(let n=0;n<this.dynamicProperties.length;n++){const s=this.dynamicProperties[n];s.uploadFunction(t,e,r,s.type===i.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,e,r){for(let n=0;n<this.staticProperties.length;n++){const s=this.staticProperties[n];s.uploadFunction(t,e,r,s.type===i.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}},39281:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191);class s extends n.Container{constructor(t=1500,e,r=16384,n=!1){super();r>16384&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=i.BLEND_MODES.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(e),this._tintColor=new i.Color(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintColor.toRgbArray(this.tintRgb)}render(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(()=>this.onChildrenChange(0)))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))}onChildrenChange(t){const e=Math.floor(t/this._batchSize);for(;this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID}dispose(){if(this._buffers){for(let t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}}destroy(t){super.destroy(t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}e.ParticleContainer=s},587:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(65858),s=r(77086),o=r(46972);class a extends i.ObjectRenderer{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new i.Matrix,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:i.TYPES.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=i.Shader.from(o.default,s.default,{}),this.state=i.State.for2d()}render(t){const e=t.children,r=t._maxSize,n=t._batchSize,s=this.renderer;let o=e.length;if(0===o)return;o>r&&!t.autoResize&&(o=r);let a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));const u=e[0]._texture.baseTexture,l=u.alphaMode>0;this.state.blendMode=i.utils.correctBlendMode(t.blendMode,l),s.state.set(this.state);const c=s.gl,h=t.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=i.Color.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let d=!1;for(let r=0,i=0;r<o;r+=n,i+=1){let u=o-r;u>n&&(u=n),i>=a.length&&a.push(this._generateOneMoreBuffer(t));const l=a[i];l.uploadDynamic(e,r,u);const h=t._bufferUpdateIDs[i]||0;d=d||l._updateID<h,d&&(l._updateID=t._updateID,l.uploadStatic(e,r,u)),s.geometry.bind(l.geometry),c.drawElements(c.TRIANGLES,6*u,c.UNSIGNED_SHORT,0)}}generateBuffers(t){const e=[],r=t._maxSize,i=t._batchSize,s=t._properties;for(let t=0;t<r;t+=i)e.push(new n.ParticleBuffer(this.properties,s,i));return e}_generateOneMoreBuffer(t){const e=t._batchSize,r=t._properties;return new n.ParticleBuffer(this.properties,r,e)}uploadVertices(t,e,r,i,n,s){let o=0,a=0,u=0,l=0;for(let c=0;c<r;++c){const r=t[e+c],h=r._texture,d=r.scale.x,p=r.scale.y,f=h.trim,_=h.orig;f?(a=f.x-r.anchor.x*_.width,o=a+f.width,l=f.y-r.anchor.y*_.height,u=l+f.height):(o=_.width*(1-r.anchor.x),a=_.width*-r.anchor.x,u=_.height*(1-r.anchor.y),l=_.height*-r.anchor.y),i[s]=a*d,i[s+1]=l*p,i[s+n]=o*d,i[s+n+1]=l*p,i[s+2*n]=o*d,i[s+2*n+1]=u*p,i[s+3*n]=a*d,i[s+3*n+1]=u*p,s+=4*n}}uploadPosition(t,e,r,i,n,s){for(let o=0;o<r;o++){const r=t[e+o].position;i[s]=r.x,i[s+1]=r.y,i[s+n]=r.x,i[s+n+1]=r.y,i[s+2*n]=r.x,i[s+2*n+1]=r.y,i[s+3*n]=r.x,i[s+3*n+1]=r.y,s+=4*n}}uploadRotation(t,e,r,i,n,s){for(let o=0;o<r;o++){const r=t[e+o].rotation;i[s]=r,i[s+n]=r,i[s+2*n]=r,i[s+3*n]=r,s+=4*n}}uploadUvs(t,e,r,i,n,s){for(let o=0;o<r;++o){const r=t[e+o]._texture._uvs;r?(i[s]=r.x0,i[s+1]=r.y0,i[s+n]=r.x1,i[s+n+1]=r.y1,i[s+2*n]=r.x2,i[s+2*n+1]=r.y2,i[s+3*n]=r.x3,i[s+3*n+1]=r.y3,s+=4*n):(i[s]=0,i[s+1]=0,i[s+n]=0,i[s+n+1]=0,i[s+2*n]=0,i[s+2*n+1]=0,i[s+3*n]=0,i[s+3*n+1]=0,s+=4*n)}}uploadTint(t,e,r,n,s,o){for(let a=0;a<r;++a){const r=t[e+a],u=i.Color.shared.setValue(r._tintRGB).toPremultiplied(r.alpha,r.texture.baseTexture.alphaMode>0);n[o]=u,n[o+s]=u,n[o+2*s]=u,n[o+3*s]=u,o+=4*s}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}a.extension={name:"particle",type:i.ExtensionType.RendererPlugin},i.extensions.add(a),e.ParticleRenderer=a},76661:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(39281),n=r(587);e.ParticleContainer=i.ParticleContainer,e.ParticleRenderer=n.ParticleRenderer},77086:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}"},46972:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n"},10550:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191),s=r(66338),o=r(84797);function a(t,e){let r=!1;if(t?._textures?.length)for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof i.Texture){const i=t._textures[n].baseTexture;e.includes(i)||(e.push(i),r=!0)}return r}function u(t,e){if(t.baseTexture instanceof i.BaseTexture){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function l(t,e){if(t._texture&&t._texture instanceof i.Texture){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function c(t,e){return e instanceof s.Text&&(e.updateText(!0),!0)}function h(t,e){if(e instanceof s.TextStyle){const t=e.toFontString();return s.TextMetrics.measureFont(t),!0}return!1}function d(t,e){if(t instanceof s.Text){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function p(t,e){return t instanceof s.TextStyle&&(e.includes(t)||e.push(t),!0)}const f=class{constructor(t){this.limiter=new o.CountLimiter(f.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(d),this.registerFindHook(p),this.registerFindHook(a),this.registerFindHook(u),this.registerFindHook(l),this.registerUploadHook(c),this.registerUploadHook(h)}upload(t){return new Promise((e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,i.Ticker.system.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e()}))}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed)for(let r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)i.Ticker.system.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof n.Container)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&i.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let _=f;_.uploadsPerFrame=4,e.BasePrepare=_},84797:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CountLimiter=class{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}},5169:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(59296),s=r(10550);function o(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function a(t,e){if(!(e instanceof n.Graphics))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:i}=r;for(let e=0;e<i.length;e++){const{texture:r}=i[e].style;r&&o(t,r.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function u(t,e){return t instanceof n.Graphics&&(e.push(t),!0)}class l extends s.BasePrepare{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(u),this.registerUploadHook(o),this.registerUploadHook(a)}}l.extension={name:"prepare",type:i.ExtensionType.RendererSystem},i.extensions.add(l),e.Prepare=l},70827:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TimeLimiter=class{constructor(t){this.maxMilliseconds=t,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}},62785:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(51932);var i=r(10550),n=r(84797),s=r(5169),o=r(70827);e.BasePrepare=i.BasePrepare,e.CountLimiter=n.CountLimiter,e.Prepare=s.Prepare,e.TimeLimiter=o.TimeLimiter},51932:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(10550);Object.defineProperties(i.settings,{UPLOADS_PER_FRAME:{get:()=>n.BasePrepare.uploadsPerFrame,set(t){i.utils.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),n.BasePrepare.uploadsPerFrame=t}}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return i.settings}})},78791:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,e,r,i,n,s,o,a){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:l}=this;this._aliasCount++;for(let c=0,h=l.length;c<h;c++)l[c][u](t,e,r,i,n,s,o,a);return l===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(r.prototype,{dispatch:{value:r.prototype.emit},run:{value:r.prototype.emit}}),e.Runner=r},82156:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(78791);e.Runner=i.Runner},7916:()=>{},8538:()=>{},18718:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>(new DOMParser).parseFromString(t,"text/xml")};e.BrowserAdapter=r},82101:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(18718);r(7916),r(8538);var n=r(7878),s=r(4658);e.BrowserAdapter=i.BrowserAdapter,e.settings=n.settings,e.isMobile=s.isMobile},7878:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i={ADAPTER:r(18718).BrowserAdapter,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};e.settings=i},4658:(t,e,r)=>{"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(90891));const s=(n.default.default??n.default)(globalThis.navigator);e.isMobile=s},49255:(t,e)=>{"use strict";e.Filterable=class{constructor(t,e){this._output=e,this._input=t}get destination(){return this._input}get filters(){return this._filters}set filters(t){if(this._filters&&(this._filters.forEach((t=>{t&&t.disconnect()})),this._filters=null,this._input.connect(this._output)),t&&t.length){this._filters=t.slice(0),this._input.disconnect();let e=null;t.forEach((t=>{null===e?this._input.connect(t.destination):e.connect(t.destination),e=t})),e.connect(this._output)}}destroy(){this.filters=null,this._input=null,this._output=null}}},33027:(t,e,r)=>{"use strict";var i=r(48742),n=r(62013),s=r(65740),o=r(48996),a=r(64872),u=r(88894);const l=class{static from(t){let e={};"string"==typeof t?e.url=t:t instanceof ArrayBuffer||t instanceof AudioBuffer||t instanceof HTMLAudioElement?e.source=t:Array.isArray(t)?e.url=t:e=t,e={autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1,...e},Object.freeze(e);const r=s.getInstance().useLegacy?new n.HTMLAudioMedia:new u.WebAudioMedia;return new l(r,e)}constructor(t,e){this.media=t,this.options=e,this._instances=[],this._sprites={},this.media.init(this);const r=e.complete;this._autoPlayOptions=r?{complete:r}:null,this.isLoaded=!1,this._preloadQueue=null,this.isPlaying=!1,this.autoPlay=e.autoPlay,this.singleInstance=e.singleInstance,this.preload=e.preload||this.autoPlay,this.url=Array.isArray(e.url)?this.preferUrl(e.url):e.url,this.speed=e.speed,this.volume=e.volume,this.loop=e.loop,e.sprites&&this.addSprites(e.sprites),this.preload&&this._preload(e.loaded)}preferUrl(t){const[{url:e}]=t.map((t=>({url:t,ext:i.utils.path.extname(t).slice(1)}))).sort(((t,e)=>a.extensions.indexOf(t.ext)-a.extensions.indexOf(e.ext)));return e}get context(){return s.getInstance().context}pause(){return this.isPlaying=!1,this.paused=!0,this}resume(){return this.isPlaying=this._instances.length>0,this.paused=!1,this}get paused(){return this._paused}set paused(t){this._paused=t,this.refreshPaused()}get speed(){return this._speed}set speed(t){this._speed=t,this.refresh()}get filters(){return this.media.filters}set filters(t){this.media.filters=t}addSprites(t,e){if("object"==typeof t){const e={};for(const r in t)e[r]=this.addSprites(r,t[r]);return e}console.assert(!this._sprites[t],`Alias ${t} is already taken`);const r=new o.SoundSprite(this,e);return this._sprites[t]=r,r}destroy(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null}removeSprites(t){if(t){const e=this._sprites[t];void 0!==e&&(e.destroy(),delete this._sprites[t])}else for(const t in this._sprites)this.removeSprites(t);return this}get isPlayable(){return this.isLoaded&&this.media&&this.media.isPlayable}stop(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(let t=this._instances.length-1;t>=0;t--)this._instances[t].stop();return this}play(t,e){let r;if("string"==typeof t){r={sprite:t,loop:this.loop,complete:e}}else"function"==typeof t?(r={},r.complete=t):r=t;if(r={complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1,...r||{}},r.sprite){const t=r.sprite;console.assert(!!this._sprites[t],`Alias ${t} is not available`);const e=this._sprites[t];r.start=e.start+(r.start||0),r.end=e.end,r.speed=e.speed||1,r.loop=e.loop||r.loop,delete r.sprite}if(r.offset&&(r.start=r.offset),!this.isLoaded)return this._preloadQueue?new Promise((t=>{this._preloadQueue.push((()=>{t(this.play(r))}))})):(this._preloadQueue=[],this.autoPlay=!0,this._autoPlayOptions=r,new Promise(((t,e)=>{this._preload(((i,n,s)=>{this._preloadQueue.forEach((t=>t())),this._preloadQueue=null,i?e(i):(r.loaded&&r.loaded(i,n,s),t(s))}))})));(this.singleInstance||r.singleInstance)&&this._removeInstances();const i=this._createInstance();return this._instances.push(i),this.isPlaying=!0,i.once("end",(()=>{r.complete&&r.complete(this),this._onComplete(i)})),i.once("stop",(()=>{this._onComplete(i)})),i.play(r),i}refresh(){const t=this._instances.length;for(let e=0;e<t;e++)this._instances[e].refresh()}refreshPaused(){const t=this._instances.length;for(let e=0;e<t;e++)this._instances[e].refreshPaused()}get volume(){return this._volume}set volume(t){this._volume=t,this.refresh()}get muted(){return this._muted}set muted(t){this._muted=t,this.refresh()}get loop(){return this._loop}set loop(t){this._loop=t,this.refresh()}_preload(t){this.media.load(t)}get instances(){return this._instances}get sprites(){return this._sprites}get duration(){return this.media.duration}autoPlayStart(){let t;return this.autoPlay&&(t=this.play(this._autoPlayOptions)),t}_removeInstances(){for(let t=this._instances.length-1;t>=0;t--)this._poolInstance(this._instances[t]);this._instances.length=0}_onComplete(t){if(this._instances){const e=this._instances.indexOf(t);e>-1&&this._instances.splice(e,1),this.isPlaying=this._instances.length>0}this._poolInstance(t)}_createInstance(){if(l._pool.length>0){const t=l._pool.pop();return t.init(this.media),t}return this.media.create()}_poolInstance(t){t.destroy(),l._pool.indexOf(t)<0&&l._pool.push(t)}};let c=l;c._pool=[],e.Sound=c},77805:(t,e,r)=>{"use strict";var i=r(33027),n=r(8849),s=r(72643);e.SoundLibrary=class{constructor(){this.init()}init(){return this.supported&&(this._webAudioContext=new s.WebAudioContext),this._htmlAudioContext=new n.HTMLAudioContext,this._sounds={},this.useLegacy=!this.supported,this}get context(){return this._context}get filtersAll(){return this.useLegacy?[]:this._context.filters}set filtersAll(t){this.useLegacy||(this._context.filters=t)}get supported(){return null!==s.WebAudioContext.AudioContext}add(t,e){if("object"==typeof t){const r={};for(const i in t){const n=this._getOptions(t[i],e);r[i]=this.add(i,n)}return r}if(console.assert(!this._sounds[t],`Sound with alias ${t} already exists.`),e instanceof i.Sound)return this._sounds[t]=e,e;const r=this._getOptions(e),n=i.Sound.from(r);return this._sounds[t]=n,n}_getOptions(t,e){let r;return r="string"==typeof t||Array.isArray(t)?{url:t}:t instanceof ArrayBuffer||t instanceof AudioBuffer||t instanceof HTMLAudioElement?{source:t}:t,r={...r,...e||{}},r}get useLegacy(){return this._useLegacy}set useLegacy(t){this._useLegacy=t,this._context=!t&&this.supported?this._webAudioContext:this._htmlAudioContext}get disableAutoPause(){return!this._webAudioContext.autoPause}set disableAutoPause(t){this._webAudioContext.autoPause=!t}remove(t){return this.exists(t,!0),this._sounds[t].destroy(),delete this._sounds[t],this}get volumeAll(){return this._context.volume}set volumeAll(t){this._context.volume=t,this._context.refresh()}get speedAll(){return this._context.speed}set speedAll(t){this._context.speed=t,this._context.refresh()}togglePauseAll(){return this._context.togglePause()}pauseAll(){return this._context.paused=!0,this._context.refreshPaused(),this}resumeAll(){return this._context.paused=!1,this._context.refreshPaused(),this}toggleMuteAll(){return this._context.toggleMute()}muteAll(){return this._context.muted=!0,this._context.refresh(),this}unmuteAll(){return this._context.muted=!1,this._context.refresh(),this}removeAll(){for(const t in this._sounds)this._sounds[t].destroy(),delete this._sounds[t];return this}stopAll(){for(const t in this._sounds)this._sounds[t].stop();return this}exists(t,e=!1){const r=!!this._sounds[t];return e&&console.assert(r,`No sound matching alias '${t}'.`),r}isPlaying(){for(const t in this._sounds)if(this._sounds[t].isPlaying)return!0;return!1}find(t){return this.exists(t,!0),this._sounds[t]}play(t,e){return this.find(t).play(e)}stop(t){return this.find(t).stop()}pause(t){return this.find(t).pause()}resume(t){return this.find(t).resume()}volume(t,e){const r=this.find(t);return void 0!==e&&(r.volume=e),r.volume}speed(t,e){const r=this.find(t);return void 0!==e&&(r.speed=e),r.speed}duration(t){return this.find(t).duration}close(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this}}},48996:(t,e)=>{"use strict";e.SoundSprite=class{constructor(t,e){this.parent=t,Object.assign(this,e),this.duration=this.end-this.start,console.assert(this.duration>0,"End time must be after start time")}play(t){return this.parent.play({complete:t,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})}destroy(){this.parent=null}}},33234:(t,e,r)=>{"use strict";var i=r(65740),n=r(27051);class s extends n.Filter{constructor(t=0){let e;if(!i.getInstance().useLegacy){const{audioContext:t}=i.getInstance().context;e=t.createWaveShaper()}super(e),this._distortion=e,this.amount=t}set amount(t){if(this._amount=t,i.getInstance().useLegacy)return;const e=1e3*t,r=44100,n=new Float32Array(r),s=Math.PI/180;let o,a=0;for(;a<r;++a)o=2*a/r-1,n[a]=(3+e)*o*20*s/(Math.PI+e*Math.abs(o));this._distortion.curve=n,this._distortion.oversample="4x"}get amount(){return this._amount}destroy(){this._distortion=null,super.destroy()}}e.DistortionFilter=s},29272:(t,e,r)=>{"use strict";var i=r(65740),n=r(21669),s=r(27051);const o=class extends s.Filter{constructor(t=0,e=0,r=0,s=0,a=0,u=0,l=0,c=0,h=0,d=0){let p=[];const f=[{f:o.F32,type:"lowshelf",gain:t},{f:o.F64,type:"peaking",gain:e},{f:o.F125,type:"peaking",gain:r},{f:o.F250,type:"peaking",gain:s},{f:o.F500,type:"peaking",gain:a},{f:o.F1K,type:"peaking",gain:u},{f:o.F2K,type:"peaking",gain:l},{f:o.F4K,type:"peaking",gain:c},{f:o.F8K,type:"peaking",gain:h},{f:o.F16K,type:"highshelf",gain:d}];i.getInstance().useLegacy||(p=f.map((t=>{const e=i.getInstance().context.audioContext.createBiquadFilter();return e.type=t.type,n.WebAudioUtils.setParamValue(e.Q,1),e.frequency.value=t.f,n.WebAudioUtils.setParamValue(e.gain,t.gain),e}))),super(p[0],p[p.length-1]),this.bands=p,this.bandsMap={};for(let t=0;t<this.bands.length;t++){const e=this.bands[t];t>0&&this.bands[t-1].connect(e),this.bandsMap[e.frequency.value]=e}}setGain(t,e=0){if(!this.bandsMap[t])throw new Error(`No band found for frequency ${t}`);n.WebAudioUtils.setParamValue(this.bandsMap[t].gain,e)}getGain(t){if(!this.bandsMap[t])throw new Error(`No band found for frequency ${t}`);return this.bandsMap[t].gain.value}set f32(t){this.setGain(o.F32,t)}get f32(){return this.getGain(o.F32)}set f64(t){this.setGain(o.F64,t)}get f64(){return this.getGain(o.F64)}set f125(t){this.setGain(o.F125,t)}get f125(){return this.getGain(o.F125)}set f250(t){this.setGain(o.F250,t)}get f250(){return this.getGain(o.F250)}set f500(t){this.setGain(o.F500,t)}get f500(){return this.getGain(o.F500)}set f1k(t){this.setGain(o.F1K,t)}get f1k(){return this.getGain(o.F1K)}set f2k(t){this.setGain(o.F2K,t)}get f2k(){return this.getGain(o.F2K)}set f4k(t){this.setGain(o.F4K,t)}get f4k(){return this.getGain(o.F4K)}set f8k(t){this.setGain(o.F8K,t)}get f8k(){return this.getGain(o.F8K)}set f16k(t){this.setGain(o.F16K,t)}get f16k(){return this.getGain(o.F16K)}reset(){this.bands.forEach((t=>{n.WebAudioUtils.setParamValue(t.gain,0)}))}destroy(){this.bands.forEach((t=>{t.disconnect()})),this.bands=null,this.bandsMap=null}};let a=o;a.F32=32,a.F64=64,a.F125=125,a.F250=250,a.F500=500,a.F1K=1e3,a.F2K=2e3,a.F4K=4e3,a.F8K=8e3,a.F16K=16e3,e.EqualizerFilter=a},27051:(t,e)=>{"use strict";e.Filter=class{constructor(t,e){this.init(t,e)}init(t,e){this.destination=t,this.source=e||t}connect(t){this.source?.connect(t)}disconnect(){this.source?.disconnect()}destroy(){this.disconnect(),this.destination=null,this.source=null}}},64970:(t,e,r)=>{"use strict";var i=r(65740),n=r(27051);class s extends n.Filter{constructor(){let t,e;if(!i.getInstance().useLegacy){const{audioContext:r}=i.getInstance().context;e=r.createChannelSplitter(),t=r.createChannelMerger(),t.connect(e)}super(t,e),this._merger=t}destroy(){this._merger?.disconnect(),this._merger=null,super.destroy()}}e.MonoFilter=s},58334:(t,e,r)=>{"use strict";var i=r(65740),n=r(27051);class s extends n.Filter{constructor(t=3,e=2,r=!1){super(null),this._seconds=this._clamp(t,1,50),this._decay=this._clamp(e,0,100),this._reverse=r,this._rebuild()}_clamp(t,e,r){return Math.min(r,Math.max(e,t))}get seconds(){return this._seconds}set seconds(t){this._seconds=this._clamp(t,1,50),this._rebuild()}get decay(){return this._decay}set decay(t){this._decay=this._clamp(t,0,100),this._rebuild()}get reverse(){return this._reverse}set reverse(t){this._reverse=t,this._rebuild()}_rebuild(){if(i.getInstance().useLegacy)return;const{audioContext:t}=i.getInstance().context,e=t.sampleRate,r=e*this._seconds,n=t.createBuffer(2,r,e),s=n.getChannelData(0),o=n.getChannelData(1);let a;for(let t=0;t<r;t++)a=this._reverse?r-t:t,s[t]=(2*Math.random()-1)*Math.pow(1-a/r,this._decay),o[t]=(2*Math.random()-1)*Math.pow(1-a/r,this._decay);const u=t.createConvolver();u.buffer=n,this.init(u)}}e.ReverbFilter=s},76860:(t,e,r)=>{"use strict";var i=r(65740),n=r(21669),s=r(27051);class o extends s.Filter{constructor(t=0){let e,r,n;if(!i.getInstance().useLegacy){const{audioContext:t}=i.getInstance().context;t.createStereoPanner?(e=t.createStereoPanner(),n=e):(r=t.createPanner(),r.panningModel="equalpower",n=r)}super(n),this._stereo=e,this._panner=r,this.pan=t}set pan(t){this._pan=t,this._stereo?n.WebAudioUtils.setParamValue(this._stereo.pan,t):this._panner&&this._panner.setPosition(t,0,1-Math.abs(t))}get pan(){return this._pan}destroy(){super.destroy(),this._stereo=null,this._panner=null}}e.StereoFilter=o},38220:(t,e,r)=>{"use strict";var i=r(65740),n=r(27051);class s extends n.Filter{constructor(){let t,e;if(!i.getInstance().useLegacy){const{audioContext:r}=i.getInstance().context;t=r.createMediaStreamDestination(),e=r.createMediaStreamSource(t.stream)}super(t,e),this._stream=t?.stream}get stream(){return this._stream}destroy(){this._stream=null,super.destroy()}}e.StreamFilter=s},10931:(t,e,r)=>{"use strict";var i=r(65740),n=r(21669),s=r(27051);class o extends s.Filter{constructor(){let t,e;if(!i.getInstance().useLegacy){const{audioContext:r}=i.getInstance().context,s=r.createBiquadFilter(),o=r.createBiquadFilter(),a=r.createBiquadFilter(),u=r.createBiquadFilter();s.type="lowpass",n.WebAudioUtils.setParamValue(s.frequency,2e3),o.type="lowpass",n.WebAudioUtils.setParamValue(o.frequency,2e3),a.type="highpass",n.WebAudioUtils.setParamValue(a.frequency,500),u.type="highpass",n.WebAudioUtils.setParamValue(u.frequency,500),s.connect(o),o.connect(a),a.connect(u),t=s,e=u}super(t,e)}}e.TelephoneFilter=o},63933:(t,e,r)=>{"use strict";var i=r(27051),n=r(29272),s=r(33234),o=r(76860),a=r(58334),u=r(64970),l=r(38220),c=r(10931);e.Filter=i.Filter,e.EqualizerFilter=n.EqualizerFilter,e.DistortionFilter=s.DistortionFilter,e.StereoFilter=o.StereoFilter,e.ReverbFilter=a.ReverbFilter,e.MonoFilter=u.MonoFilter,e.StreamFilter=l.StreamFilter,e.TelephoneFilter=c.TelephoneFilter},8849:(t,e,r)=>{"use strict";var i=r(48742);class n extends i.utils.EventEmitter{constructor(){super(...arguments),this.speed=1,this.muted=!1,this.volume=1,this.paused=!1}refresh(){this.emit("refresh")}refreshPaused(){this.emit("refreshPaused")}get filters(){return console.warn("HTML Audio does not support filters"),null}set filters(t){console.warn("HTML Audio does not support filters")}get audioContext(){return console.warn("HTML Audio does not support audioContext"),null}toggleMute(){return this.muted=!this.muted,this.refresh(),this.muted}togglePause(){return this.paused=!this.paused,this.refreshPaused(),this.paused}destroy(){this.removeAllListeners()}}e.HTMLAudioContext=n},84855:(t,e,r)=>{"use strict";var i=r(48742);let n=0;const s=class extends i.utils.EventEmitter{constructor(t){super(),this.id=n++,this.init(t)}set(t,e){if(void 0===this[t])throw new Error(`Property with name ${t} does not exist.`);switch(t){case"speed":this.speed=e;break;case"volume":this.volume=e;break;case"paused":this.paused=e;break;case"loop":this.loop=e;break;case"muted":this.muted=e}return this}get progress(){const{currentTime:t}=this._source;return t/this._duration}get paused(){return this._paused}set paused(t){this._paused=t,this.refreshPaused()}_onPlay(){this._playing=!0}_onPause(){this._playing=!1}init(t){this._playing=!1,this._duration=t.source.duration;const e=this._source=t.source.cloneNode(!1);e.src=t.parent.url,e.onplay=this._onPlay.bind(this),e.onpause=this._onPause.bind(this),t.context.on("refresh",this.refresh,this),t.context.on("refreshPaused",this.refreshPaused,this),this._media=t}_internalStop(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())}stop(){this._internalStop(),this._source&&this.emit("stop")}get speed(){return this._speed}set speed(t){this._speed=t,this.refresh()}get volume(){return this._volume}set volume(t){this._volume=t,this.refresh()}get loop(){return this._loop}set loop(t){this._loop=t,this.refresh()}get muted(){return this._muted}set muted(t){this._muted=t,this.refresh()}get filters(){return console.warn("HTML Audio does not support filters"),null}set filters(t){console.warn("HTML Audio does not support filters")}refresh(){const t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;const r=t.volume*(t.muted?0:1),i=e.volume*(e.muted?0:1),n=this._volume*(this._muted?0:1);this._source.volume=n*r*i,this._source.playbackRate=this._speed*t.speed*e.speed}refreshPaused(){const t=this._media.context,e=this._media.parent,r=this._paused||e.paused||t.paused;r!==this._pausedReal&&(this._pausedReal=r,r?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",r))}play(t){const{start:e,end:r,speed:n,loop:o,volume:a,muted:u}=t;r&&console.assert(r>e,"End time is before start time"),this._speed=n,this._volume=a,this._loop=!!o,this._muted=u,this.refresh(),this.loop&&null!==r&&(console.warn('Looping not support when specifying an "end" time'),this.loop=!1),this._start=e,this._end=r||this._duration,this._start=Math.max(0,this._start-s.PADDING),this._end=Math.min(this._end+s.PADDING,this._duration),this._source.onloadedmetadata=()=>{this._source&&(this._source.currentTime=e,this._source.onloadedmetadata=null,this.emit("progress",e,this._duration),i.Ticker.shared.add(this._onUpdate,this))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")}_onUpdate(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()}_onComplete(){i.Ticker.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)}destroy(){i.Ticker.shared.remove(this._onUpdate,this),this.removeAllListeners();const t=this._source;t&&(t.onended=null,t.onplay=null,t.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)}toString(){return`[HTMLAudioInstance id=${this.id}]`}};let o=s;o.PADDING=.1,e.HTMLAudioInstance=o},62013:(t,e,r)=>{"use strict";var i=r(48742),n=r(84855);class s extends i.utils.EventEmitter{init(t){this.parent=t,this._source=t.options.source||new Audio,t.url&&(this._source.src=t.url)}create(){return new n.HTMLAudioInstance(this)}get isPlayable(){return!!this._source&&4===this._source.readyState}get duration(){return this._source.duration}get context(){return this.parent.context}get filters(){return null}set filters(t){console.warn("HTML Audio does not support filters")}destroy(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)}get source(){return this._source}load(t){const e=this._source,r=this.parent;if(4===e.readyState){r.isLoaded=!0;const e=r.autoPlayStart();return void(t&&setTimeout((()=>{t(null,r,e)}),0))}if(!r.url)return void t(new Error("sound.url or sound.source must be set"));e.src=r.url;const i=()=>{o(),r.isLoaded=!0;const e=r.autoPlayStart();t&&t(null,r,e)},n=()=>{o(),t&&t(new Error("Sound loading has been aborted"))},s=()=>{o();const r=`Failed to load audio element (code: ${e.error.code})`;t?t(new Error(r)):console.error(r)},o=()=>{e.removeEventListener("canplaythrough",i),e.removeEventListener("load",i),e.removeEventListener("abort",n),e.removeEventListener("error",s)};e.addEventListener("canplaythrough",i,!1),e.addEventListener("load",i,!1),e.addEventListener("abort",n,!1),e.addEventListener("error",s,!1),e.load()}}e.HTMLAudioMedia=s},23259:(t,e,r)=>{"use strict";var i=r(62013),n=r(84855),s=r(8849);e.HTMLAudioMedia=i.HTMLAudioMedia,e.HTMLAudioInstance=n.HTMLAudioInstance,e.HTMLAudioContext=s.HTMLAudioContext},24250:(t,e,r)=>{"use strict";var i=r(65740),n=r(77805),s=r(23259),o=r(63933),a=r(72616),u=r(30485),l=r(33027),c=r(51782),h=r(49255),d=r(27051),p=r(48996);const f=i.setInstance(new n.SoundLibrary);e.SoundLibrary=n.SoundLibrary,e.htmlaudio=s,e.filters=o,e.webaudio=a,e.utils=u,e.Sound=l.Sound,e.soundAsset=c.soundAsset,e.Filterable=h.Filterable,e.Filter=d.Filter,e.SoundSprite=p.SoundSprite,e.sound=f},65740:(t,e)=>{"use strict";e.instance=void 0,e.getInstance=function(){return e.instance},e.setInstance=function(t){return e.instance=t,t}},51782:(t,e,r)=>{"use strict";var i=r(48742),n=r(8415),s=r(64872),o=r(33027),a=r(65740);const u=t=>{const e=t.src;return t?.alias?.[0]??i.utils.path.basename(e,i.utils.path.extname(e))},l={extension:i.ExtensionType.Asset,detection:{test:async()=>!0,add:async t=>[...t,...s.extensions.filter((t=>s.supported[t]))],remove:async t=>t.filter((e=>t.includes(e)))},loader:{extension:{type:[i.ExtensionType.LoadParser],priority:n.LoaderParserPriority.High},test(t){const e=i.utils.path.extname(t).slice(1);return!!s.supported[e]||s.mimes.some((e=>t.startsWith(`data:${e}`)))},async load(t,e){const r=await new Promise(((r,i)=>o.Sound.from({...e.data,url:t,preload:!0,loaded(t,n){t?i(t):r(n),e.data?.loaded?.(t,n)}})));return a.getInstance().add(u(e),r),r},async unload(t,e){a.getInstance().remove(u(e))}}};i.extensions.add(l),e.soundAsset=l},30485:(t,e,r)=>{"use strict";var i=r(58380),n=r(82926),s=r(7800),o=r(64872);Object.defineProperty(e,"PLAY_ID",{enumerable:!0,get:function(){return i.PLAY_ID}}),e.playOnce=i.playOnce,e.render=n.render,e.sineTone=s.sineTone,e.extensions=o.extensions,e.mimes=o.mimes,e.supported=o.supported,e.validateFormats=o.validateFormats},58380:(t,e,r)=>{"use strict";var i=r(65740);e.PLAY_ID=0,e.playOnce=function(t,r){const n="alias"+e.PLAY_ID++;return i.getInstance().add(n,{url:t,preload:!0,autoPlay:!0,loaded:t=>{t&&(console.error(t),i.getInstance().remove(n),r&&r(t))},complete:()=>{i.getInstance().remove(n),r&&r(null)}}),n}},82926:(t,e,r)=>{"use strict";var i=r(48742),n=r(88894);e.render=function(t,e){const r=document.createElement("canvas");e={width:512,height:128,fill:"black",...e||{}},r.width=e.width,r.height=e.height;const s=i.BaseTexture.from(r);if(!(t.media instanceof n.WebAudioMedia))return s;const o=t.media;console.assert(!!o.buffer,"No buffer found, load first");const a=r.getContext("2d");a.fillStyle=e.fill;const u=o.buffer.getChannelData(0),l=Math.ceil(u.length/e.width),c=e.height/2;for(let t=0;t<e.width;t++){let e=1,r=-1;for(let i=0;i<l;i++){const n=u[t*l+i];n<e&&(e=n),n>r&&(r=n)}a.fillRect(t,(1+e)*c,1,Math.max(1,(r-e)*c))}return s}},7800:(t,e,r)=>{"use strict";var i=r(33027),n=r(88894);e.sineTone=function(t=200,e=1){const r=i.Sound.from({singleInstance:!0});if(!(r.media instanceof n.WebAudioMedia))return r;const s=r.media,o=r.context.audioContext.createBuffer(1,48e3*e,48e3),a=o.getChannelData(0);for(let e=0;e<a.length;e++){const r=t*(e/o.sampleRate)*Math.PI;a[e]=2*Math.sin(r)}return s.buffer=o,r.isLoaded=!0,r}},64872:(t,e)=>{"use strict";const r=["ogg","oga","opus","m4a","mp3","mpeg","wav","aiff","wma","mid","caf"],i={};function n(t){const e={m4a:"audio/mp4",oga:"audio/ogg",opus:'audio/ogg; codecs="opus"',caf:'audio/x-caf; codecs="opus"',...t||{}},n=document.createElement("audio"),s={},o=/^no$/;r.forEach((t=>{const r=n.canPlayType(`audio/${t}`).replace(o,""),i=e[t]?n.canPlayType(e[t]).replace(o,""):"";s[t]=!!r||!!i})),Object.assign(i,s)}n(),e.extensions=r,e.mimes=["audio/mpeg","audio/ogg"],e.supported=i,e.validateFormats=n},72643:(t,e,r)=>{"use strict";var i=r(48742),n=r(49255);class s extends n.Filterable{constructor(){const t=window,e=new s.AudioContext,r=e.createDynamicsCompressor(),n=e.createAnalyser();n.connect(r),r.connect(e.destination),super(n,r),this.autoPause=!0,this._ctx=e,this._offlineCtx=new s.OfflineAudioContext(1,2,t.OfflineAudioContext?Math.max(8e3,Math.min(96e3,e.sampleRate)):44100),this.compressor=r,this.analyser=n,this.events=new i.utils.EventEmitter,this.volume=1,this.speed=1,this.muted=!1,this.paused=!1,this._locked="suspended"===e.state&&("ontouchstart"in globalThis||"onclick"in globalThis),this._locked&&(this._unlock(),this._unlock=this._unlock.bind(this),document.addEventListener("mousedown",this._unlock,!0),document.addEventListener("touchstart",this._unlock,!0),document.addEventListener("touchend",this._unlock,!0)),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),globalThis.addEventListener("focus",this.onFocus),globalThis.addEventListener("blur",this.onBlur)}onFocus(){const t=this._ctx.state;"suspended"!==t&&"interrupted"!==t&&this._locked||(this.paused=this._pausedOnBlur,this.refreshPaused())}onBlur(){!this._locked&&this.autoPause&&(this._pausedOnBlur=this._paused,this.paused=!0,this.refreshPaused())}_unlock(){this._locked&&(this.playEmptySound(),"running"===this._ctx.state&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._locked=!1))}playEmptySound(){const t=this._ctx.createBufferSource();t.buffer=this._ctx.createBuffer(1,1,22050),t.connect(this._ctx.destination),t.start(0,0,0),"suspended"===t.context.state&&t.context.resume()}static get AudioContext(){const t=window;return t.AudioContext||t.webkitAudioContext||null}static get OfflineAudioContext(){const t=window;return t.OfflineAudioContext||t.webkitOfflineAudioContext||null}destroy(){super.destroy();const t=this._ctx;void 0!==t.close&&t.close(),globalThis.removeEventListener("focus",this.onFocus),globalThis.removeEventListener("blur",this.onBlur),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null}get audioContext(){return this._ctx}get offlineContext(){return this._offlineCtx}set paused(t){t&&"running"===this._ctx.state?this._ctx.suspend():t||"suspended"!==this._ctx.state||this._ctx.resume(),this._paused=t}get paused(){return this._paused}refresh(){this.events.emit("refresh")}refreshPaused(){this.events.emit("refreshPaused")}toggleMute(){return this.muted=!this.muted,this.refresh(),this.muted}togglePause(){return this.paused=!this.paused,this.refreshPaused(),this._paused}decode(t,e){const r=t=>{e(new Error(t?.message||"Unable to decode file"))},i=this._offlineCtx.decodeAudioData(t,(t=>{e(null,t)}),r);i&&i.catch(r)}}e.WebAudioContext=s},75018:(t,e,r)=>{"use strict";var i=r(48742),n=r(21669);let s=0;class o extends i.utils.EventEmitter{constructor(t){super(),this.id=s++,this._media=null,this._paused=!1,this._muted=!1,this._elapsed=0,this.init(t)}set(t,e){if(void 0===this[t])throw new Error(`Property with name ${t} does not exist.`);switch(t){case"speed":this.speed=e;break;case"volume":this.volume=e;break;case"muted":this.muted=e;break;case"loop":this.loop=e;break;case"paused":this.paused=e}return this}stop(){this._source&&(this._internalStop(),this.emit("stop"))}get speed(){return this._speed}set speed(t){this._speed=t,this.refresh(),this._update(!0)}get volume(){return this._volume}set volume(t){this._volume=t,this.refresh()}get muted(){return this._muted}set muted(t){this._muted=t,this.refresh()}get loop(){return this._loop}set loop(t){this._loop=t,this.refresh()}get filters(){return this._filters}set filters(t){this._filters&&(this._filters?.filter((t=>t)).forEach((t=>t.disconnect())),this._filters=null,this._source.connect(this._gain)),this._filters=t?.length?t.slice(0):null,this.refresh()}refresh(){if(!this._source)return;const t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;const r=t.volume*(t.muted?0:1),i=e.volume*(e.muted?0:1),s=this._volume*(this._muted?0:1);n.WebAudioUtils.setParamValue(this._gain.gain,s*i*r),n.WebAudioUtils.setParamValue(this._source.playbackRate,this._speed*e.speed*t.speed),this.applyFilters()}applyFilters(){if(this._filters?.length){this._source.disconnect();let t=this._source;this._filters.forEach((e=>{t.connect(e.destination),t=e})),t.connect(this._gain)}}refreshPaused(){const t=this._media.context,e=this._media.parent,r=this._paused||e.paused||t.paused;r!==this._pausedReal&&(this._pausedReal=r,r?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",r))}play(t){const{start:e,end:r,speed:i,loop:n,volume:s,muted:o,filters:a}=t;r&&console.assert(r>e,"End time is before start time"),this._paused=!1;const{source:u,gain:l}=this._media.nodes.cloneBufferSource();this._source=u,this._gain=l,this._speed=i,this._volume=s,this._loop=!!n,this._muted=o,this._filters=a,this.refresh();const c=this._source.buffer.duration;this._duration=c,this._end=r,this._lastUpdate=this._now(),this._elapsed=e,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=r,this._source.loopStart=e,this._source.start(0,e)):r?this._source.start(0,e,r-e):this._source.start(0,e),this.emit("start"),this._update(!0),this.enableTicker(!0)}enableTicker(t){i.Ticker.shared.remove(this._updateListener,this),t&&i.Ticker.shared.add(this._updateListener,this)}get progress(){return this._progress}get paused(){return this._paused}set paused(t){this._paused=t,this.refreshPaused()}destroy(){this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),this._filters?.forEach((t=>t.disconnect())),this._filters=null,this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1}toString(){return`[WebAudioInstance id=${this.id}]`}_now(){return this._media.context.audioContext.currentTime}_updateListener(){this._update()}_update(t=!1){if(this._source){const e=this._now(),r=e-this._lastUpdate;if(r>0||t){const t=this._source.playbackRate.value;this._elapsed+=r*t,this._lastUpdate=e;const i=this._duration;let n;if(this._source.loopStart){const t=this._source.loopEnd-this._source.loopStart;n=(this._source.loopStart+this._elapsed%t)/i}else n=this._elapsed%i/i;this._progress=n,this.emit("progress",this._progress,i)}}}init(t){this._media=t,t.context.events.on("refresh",this.refresh,this),t.context.events.on("refreshPaused",this.refreshPaused,this)}_internalStop(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect();try{this._source.buffer=null}catch(t){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",t)}this._source=null}}_onComplete(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.disconnect();try{this._source.buffer=null}catch(t){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",t)}}this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)}}e.WebAudioInstance=o},88894:(t,e,r)=>{"use strict";var i=r(48742),n=r(75018),s=r(61178);e.WebAudioMedia=class{init(t){this.parent=t,this._nodes=new s.WebAudioNodes(this.context),this._source=this._nodes.bufferSource,this.source=t.options.source}destroy(){this.parent=null,this._nodes.destroy(),this._nodes=null;try{this._source.buffer=null}catch(t){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",t)}this._source=null,this.source=null}create(){return new n.WebAudioInstance(this)}get context(){return this.parent.context}get isPlayable(){return!!this._source&&!!this._source.buffer}get filters(){return this._nodes.filters}set filters(t){this._nodes.filters=t}get duration(){return console.assert(this.isPlayable,"Sound not yet playable, no duration"),this._source.buffer.duration}get buffer(){return this._source.buffer}set buffer(t){this._source.buffer=t}get nodes(){return this._nodes}load(t){this.source?this._decode(this.source,t):this.parent.url?this._loadUrl(t):t?t(new Error("sound.url or sound.source must be set")):console.error("sound.url or sound.source must be set")}async _loadUrl(t){const e=this.parent.url,r=await i.settings.ADAPTER.fetch(e);this._decode(await r.arrayBuffer(),t)}_decode(t,e){const r=(t,r)=>{if(t)e&&e(t);else{this.parent.isLoaded=!0,this.buffer=r;const t=this.parent.autoPlayStart();e&&e(null,this.parent,t)}};if(t instanceof AudioBuffer)r(null,t);else{this.parent.context.decode(t,r)}}}},61178:(t,e,r)=>{"use strict";var i=r(49255),n=r(21669);const s=class extends i.Filterable{constructor(t){const e=t.audioContext,r=e.createBufferSource(),i=e.createGain(),n=e.createAnalyser();r.connect(n),n.connect(i),i.connect(t.destination),super(n,i),this.context=t,this.bufferSource=r,this.gain=i,this.analyser=n}get script(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(s.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script}destroy(){super.destroy(),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null}cloneBufferSource(){const t=this.bufferSource,e=this.context.audioContext.createBufferSource();e.buffer=t.buffer,n.WebAudioUtils.setParamValue(e.playbackRate,t.playbackRate.value),e.loop=t.loop;const r=this.context.audioContext.createGain();return e.connect(r),r.connect(this.destination),{source:e,gain:r}}get bufferSize(){return this.script.bufferSize}};let o=s;o.BUFFER_SIZE=0,e.WebAudioNodes=o},21669:(t,e,r)=>{"use strict";var i=r(65740);e.WebAudioUtils=class{static setParamValue(t,e){if(t.setValueAtTime){const r=i.getInstance().context;t.setValueAtTime(e,r.audioContext.currentTime)}else t.value=e;return e}}},72616:(t,e,r)=>{"use strict";var i=r(88894),n=r(75018),s=r(61178),o=r(72643),a=r(21669);e.WebAudioMedia=i.WebAudioMedia,e.WebAudioInstance=n.WebAudioInstance,e.WebAudioNodes=s.WebAudioNodes,e.WebAudioContext=o.WebAudioContext,e.WebAudioUtils=a.WebAudioUtils},17596:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(6903);class s extends n.Sprite{constructor(t,e=!0){super(t[0]instanceof i.Texture?t[0]:t[0].texture),this._textures=null,this._durations=null,this._autoUpdate=e,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=t}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(i.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(i.Ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){let r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];const i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(t){this.stop(),super.destroy(t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const e=[];for(let r=0;r<t.length;++r)e.push(i.Texture.from(t[r]));return new s(e)}static fromImages(t){const e=[];for(let r=0;r<t.length;++r)e.push(i.Texture.from(t[r]));return new s(e)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(i.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(i.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}}e.AnimatedSprite=s},22693:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(17596);e.AnimatedSprite=i.AnimatedSprite},20568:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(6903);const s=new i.Point;class o extends n.Sprite{constructor(t,e=100,r=100){super(t),this.tileTransform=new i.Transform,this._width=e,this._height=r,this.uvMatrix=this.texture.uvMatrix||new i.TextureMatrix(t),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(t){this.tileTransform.scale.copyFrom(t)}get tilePosition(){return this.tileTransform.position}set tilePosition(t){this.tileTransform.position.copyFrom(t)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(t){const e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))}_calculateBounds(){const t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)}getLocalBounds(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,s);const e=this._width,r=this._height,i=-e*this.anchor._x;if(s.x>=i&&s.x<i+e){const t=-r*this.anchor._y;if(s.y>=t&&s.y<t+r)return!0}return!1}destroy(t){super.destroy(t),this.tileTransform=null,this.uvMatrix=null}static from(t,e){const r=t instanceof i.Texture?t:i.Texture.from(t,e);return new o(r,e.width,e.height)}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}}e.TilingSprite=o},72097:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(46642),s=r(55262),o=r(78063),a=r(62355),u=r(75985);const l=new i.Matrix;class c extends i.ObjectRenderer{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new i.QuadUv,this.state=i.State.for2d()}contextChange(){const t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=i.Shader.from(a.default,u.default,e),this.shader=t.context.webGLVersion>1?i.Shader.from(s.default,n.default,e):i.Shader.from(a.default,o.default,e)}render(t){const e=this.renderer,r=this.quad;let n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y);const s=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;n=r.uvs,n[0]=n[6]=-s,n[1]=n[3]=-o,n[2]=n[4]=1-s,n[5]=n[7]=1-o,r.invalidate();const a=t._texture,u=a.baseTexture,c=u.alphaMode>0,h=t.tileTransform.localTransform,d=t.uvMatrix;let p=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;p&&(u._glTextures[e.CONTEXT_UID]?p=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));const f=p?this.simpleShader:this.shader,_=a.width,y=a.height,m=t._width,g=t._height;l.set(h.a*_/m,h.b*_/g,h.c*y/m,h.d*y/g,h.tx/m,h.ty/g),l.invert(),p?l.prepend(d.mapCoord):(f.uniforms.uMapCoord=d.mapCoord.toArray(!0),f.uniforms.uClampFrame=d.uClampFrame,f.uniforms.uClampOffset=d.uClampOffset),f.uniforms.uTransform=l.toArray(!0),f.uniforms.uColor=i.Color.shared.setValue(t.tint).premultiply(t.worldAlpha,c).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,e.shader.bind(f),e.geometry.bind(r),this.state.blendMode=i.utils.correctBlendMode(t.blendMode,c),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}c.extension={name:"tilingSprite",type:i.ExtensionType.RendererPlugin},i.extensions.add(c),e.TilingSpriteRenderer=c},87465:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(20568),n=r(72097);e.TilingSprite=i.TilingSprite,e.TilingSpriteRenderer=n.TilingSpriteRenderer},78063:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n"},62355:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},75985:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n"},46642:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n"},55262:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},18268:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191);const s=new i.Point,o=new Uint16Array([0,1,2,0,2,3]);class a extends n.Container{constructor(t){super(),this._anchor=new i.ObservablePoint(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new i.Color(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=i.BLEND_MODES.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||i.Texture.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=o,this.pluginName="batch",this.isSprite=!0,this._roundPixels=i.settings.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=i.utils.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=i.utils.sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const e=this.transform.worldTransform,r=e.a,n=e.b,s=e.c,o=e.d,a=e.tx,u=e.ty,l=this.vertexData,c=t.trim,h=t.orig,d=this._anchor;let p=0,f=0,_=0,y=0;if(c?(f=c.x-d._x*h.width,p=f+c.width,y=c.y-d._y*h.height,_=y+c.height):(f=-d._x*h.width,p=f+h.width,y=-d._y*h.height,_=y+h.height),l[0]=r*f+s*y+a,l[1]=o*y+n*f+u,l[2]=r*p+s*y+a,l[3]=o*y+n*p+u,l[4]=r*p+s*_+a,l[5]=o*_+n*p+u,l[6]=r*f+s*_+a,l[7]=o*_+n*f+u,this._roundPixels){const t=i.settings.RESOLUTION;for(let e=0;e<l.length;++e)l[e]=Math.round(l[e]*t)/t}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,u=n.d,l=n.tx,c=n.ty,h=-i._x*r.width,d=h+r.width,p=-i._y*r.height,f=p+r.height;e[0]=s*h+a*p+l,e[1]=u*p+o*h+c,e[2]=s*d+a*p+l,e[3]=u*p+o*d+c,e[4]=s*d+a*f+l,e[5]=u*f+o*d+c,e[6]=s*h+a*f+l,e[7]=u*f+o*h+c}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return 0===this.children.length?(this._localBounds||(this._localBounds=new n.Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,s);const e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x;let n=0;return s.x>=i&&s.x<i+e&&(n=-r*this.anchor.y,s.y>=n&&s.y<n+r)}destroy(t){super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;if("boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.baseTexture;this._texture.destroy(!!e)}this._texture=null}static from(t,e){const r=t instanceof i.Texture?t:i.Texture.from(t,e);return new a(r)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const e=i.utils.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const e=i.utils.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||i.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}e.Sprite=a},6903:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(18268);e.Sprite=i.Sprite},95031:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);const n=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof i.Texture?t:null,this.baseTexture=t instanceof i.BaseTexture?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=i.utils.getResolutionOfUrl(t,null);return null===r&&(r=parseFloat(e??"1")),1!==r&&this.baseTexture.setResolution(r),r}parse(){return new Promise((t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}))}_processFrames(t){let e=t;const r=n.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const t=this._frameKeys[e],r=this._frames[t],n=r.frame;if(n){let e=null,s=null;const o=!1!==r.trimmed&&r.sourceSize?r.sourceSize:r.frame,a=new i.Rectangle(0,0,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution);e=r.rotated?new i.Rectangle(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.h)/this.resolution,Math.floor(n.w)/this.resolution):new i.Rectangle(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),!1!==r.trimmed&&r.spriteSourceSize&&(s=new i.Rectangle(Math.floor(r.spriteSourceSize.x)/this.resolution,Math.floor(r.spriteSourceSize.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution)),this.textures[t]=new i.Texture(this.baseTexture,e,a,s,r.rotated?2:0,r.anchor,r.borders),i.Texture.addToCache(this.textures[t],t)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const i=t[e][r];this.animations[e].push(this.textures[i])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*n.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(t=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let s=n;s.BATCH_SIZE=1e3,e.Spritesheet=s},39432:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(95031),n=r(32650);e.Spritesheet=i.Spritesheet,e.spritesheetAsset=n.spritesheetAsset},32650:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(8415),n=r(48742),s=r(95031);const o=["jpg","png","jpeg","avif","webp"];function a(t,e,r){const i={};if(t.forEach((t=>{i[t]=e})),Object.keys(e.textures).forEach((t=>{i[t]=e.textures[t]})),!r){const r=n.utils.path.dirname(t[0]);e.linkedSheets.forEach(((t,n)=>{const s=a([`${r}/${e.data.meta.related_multi_packs[n]}`],t,!0);Object.assign(i,s)}))}return i}const u={extension:n.ExtensionType.Asset,cache:{test:t=>t instanceof s.Spritesheet,getCacheableAssets:(t,e)=>a(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),i=e.pop();return"json"===r&&o.includes(i)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(n.settings.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:n.ExtensionType.LoadParser,priority:i.LoaderParserPriority.Normal},testParse:async(t,e)=>".json"===n.utils.path.extname(e.src).toLowerCase()&&!!t.frames,async parse(t,e,r){let o=n.utils.path.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a=o+t.meta.image;a=i.copySearchParams(a,e.src);const u=(await r.load([a]))[a],l=new s.Spritesheet(u.baseTexture,t,e.src);await l.parse();const c=t?.meta?.related_multi_packs;if(Array.isArray(c)){const t=[];for(const n of c){if("string"!=typeof n)continue;let s=o+n;e.data?.ignoreMultiPack||(s=i.copySearchParams(s,e.src),t.push(r.load({src:s,data:{ignoreMultiPack:!0}})))}const n=await Promise.all(t);l.linkedSheets=n,n.forEach((t=>{t.linkedSheets=[l].concat(l.linkedSheets.filter((e=>e!==t)))}))}return l},unload(t){t.destroy(!0)}}};n.extensions.add(u),e.spritesheetAsset=u},76362:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(66338),s=r(99238),o=r(4772);r(49307);var a=r(61717),u=r(95375),l=r(40171);const c=class{constructor(t,e,r){const[n]=t.info,[s]=t.common,[o]=t.page,[a]=t.distanceField,u=i.utils.getResolutionOfUrl(o.file),l={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=l;for(let r=0;r<t.page.length;r++){const{id:n,file:s}=t.page[r];l[n]=e instanceof Array?e[r]:e[s],a?.fieldType&&"none"!==a.fieldType&&(l[n].baseTexture.alphaMode=i.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,l[n].baseTexture.mipmap=i.MIPMAP_MODES.OFF)}for(let e=0;e<t.char.length;e++){const{id:r,page:n}=t.char[e];let{x:s,y:o,width:a,height:c,xoffset:h,yoffset:d,xadvance:p}=t.char[e];s/=u,o/=u,a/=u,c/=u,h/=u,d/=u,p/=u;const f=new i.Rectangle(s+l[n].frame.x/u,o+l[n].frame.y/u,a,c);this.chars[r]={xOffset:h,yOffset:d,xAdvance:p,kerning:{},texture:new i.Texture(l[n].baseTexture,f),page:n}}for(let e=0;e<t.kerning.length;e++){let{first:r,second:i,amount:n}=t.kerning[e];r/=u,i/=u,n/=u,this.chars[i]&&(this.chars[i].kerning[r]=n)}this.distanceFieldRange=a?.distanceRange,this.distanceFieldType=a?.fieldType?.toLowerCase()??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof s.BitmapFontData)n=t;else{const e=o.autoDetectFormat(t);if(!e)throw new Error("Unrecognized data format for font.");n=e.parse(t)}e instanceof i.Texture&&(e=[e]);const a=new c(n,e,r);return c.available[a.font]=a,a}static uninstall(t){const e=c.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete c.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:o,padding:h,resolution:d,textureWidth:p,textureHeight:f,..._}=Object.assign({},c.defaultOptions,r),y=a.resolveCharacters(o),m=e instanceof n.TextStyle?e:new n.TextStyle(e),g=p,v=new s.BitmapFontData;v.info[0]={face:m.fontFamily,size:m.fontSize},v.common[0]={lineHeight:m.fontSize};let b,x,T,E=0,S=0,A=0;const w=[],P=[];for(let t=0;t<y.length;t++){b||(b=i.settings.ADAPTER.createCanvas(),b.width=p,b.height=f,x=b.getContext("2d"),T=new i.BaseTexture(b,{resolution:d,..._}),w.push(T),P.push(new i.Texture(T)),v.page.push({id:P.length-1,file:""}));const e=y[t],r=n.TextMetrics.measureText(e,m,!1,b),s=r.width,o=Math.ceil(r.height),a=Math.ceil(("italic"===m.fontStyle?2:1)*s);if(S>=f-o*d){if(0===S)throw new Error(`[BitmapFont] textureHeight ${f}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${e}')`);--t,b=null,x=null,T=null,S=0,E=0,A=0;continue}if(A=Math.max(o+r.fontProperties.descent,A),a*d+E>=g){if(0===E)throw new Error(`[BitmapFont] textureWidth ${p}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${e}')`);--t,S+=A*d,S=Math.ceil(S),E=0,A=0;continue}u.drawGlyph(b,x,r,E,S,d,m);const c=l.extractCharCode(r.text);v.char.push({id:c,page:P.length-1,x:E/d,y:S/d,width:a,height:o,xoffset:0,yoffset:0,xadvance:s-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0)}),E+=(a+2*h)*d,E=Math.ceil(E)}for(let t=0,e=y.length;t<e;t++){const r=y[t];for(let t=0;t<e;t++){const e=y[t],i=x.measureText(r).width,n=x.measureText(e).width,s=x.measureText(r+e).width-(i+n);s&&v.kerning.push({first:l.extractCharCode(r),second:l.extractCharCode(e),amount:s})}}const O=new c(v,P,!0);return void 0!==c.available[t]&&c.uninstall(t),c.available[t]=O,O}};let h=c;h.ALPHA=[["a","z"],["A","Z"]," "],h.NUMERIC=[["0","9"]],h.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],h.ASCII=[[" ","~"]],h.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:c.ALPHANUMERIC},h.available={},e.BitmapFont=h},99238:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BitmapFontData=class{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}},88236:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(27191),s=r(21770),o=r(76362),a=r(27088),u=r(56670);r(49307);var l=r(4937),c=r(40171);const h=[],d=[],p=[],f=class extends n.Container{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:s,letterSpacing:a,fontName:u,fontSize:l}=Object.assign({},f.styleDefaults,e);if(!o.BitmapFont.available[u])throw new Error(`Missing BitmapFont "${u}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new i.Color(n),this._font=void 0,this._fontName=u,this._fontSize=l,this.text=t,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new i.ObservablePoint((()=>{this.dirty=!0}),this,0,0),this._roundPixels=i.settings.ROUND_PIXELS,this.dirty=!0,this._resolution=i.settings.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const t=o.BitmapFont.available[this._fontName],e=this.fontSize,r=e/t.size,n=new i.Point,f=[],_=[],y=[],m=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",g=l.splitTextToCharacters(m),v=this._maxWidth*t.size/e,b="none"===t.distanceFieldType?h:d;let x=null,T=0,E=0,S=0,A=-1,w=0,P=0,O=0,M=0;for(let e=0;e<g.length;e++){const r=g[e],s=c.extractCharCode(r);if(/(?:\s)/.test(r)&&(A=e,w=T,M++),"\r"===r||"\n"===r){_.push(T),y.push(-1),E=Math.max(E,T),++S,++P,n.x=0,n.y+=t.lineHeight,x=null,M=0;continue}const o=t.chars[s];if(!o)continue;x&&o.kerning[x]&&(n.x+=o.kerning[x]);const a=p.pop()||{texture:i.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new i.Point};a.texture=o.texture,a.line=S,a.charCode=s,a.position.x=Math.round(n.x+o.xOffset+this._letterSpacing/2),a.position.y=Math.round(n.y+o.yOffset),a.prevSpaces=M,f.push(a),T=a.position.x+Math.max(o.xAdvance-o.xOffset,o.texture.orig.width),n.x+=o.xAdvance+this._letterSpacing,O=Math.max(O,o.yOffset+o.texture.height),x=s,-1!==A&&v>0&&n.x>v&&(++P,i.utils.removeItems(f,1+A-P,1+e-A),e=A,A=-1,_.push(w),y.push(f.length>0?f[f.length-1].prevSpaces:0),E=Math.max(E,w),S++,n.x=0,n.y+=t.lineHeight,x=null,M=0)}const I=g[g.length-1];"\r"!==I&&"\n"!==I&&(/(?:\s)/.test(I)&&(T=w),_.push(T),E=Math.max(E,T),y.push(-1));const C=[];for(let t=0;t<=S;t++){let e=0;"right"===this._align?e=E-_[t]:"center"===this._align?e=(E-_[t])/2:"justify"===this._align&&(e=y[t]<0?0:(E-_[t])/y[t]),C.push(e)}const R=f.length,D={},B=[],L=this._activePagesMeshData;b.push(...L);for(let e=0;e<R;e++){const r=f[e].texture,n=r.baseTexture.uid;if(!D[n]){let e=b.pop();if(!e){const r=new s.MeshGeometry;let n,o;"none"===t.distanceFieldType?(n=new s.MeshMaterial(i.Texture.EMPTY),o=i.BLEND_MODES.NORMAL):(n=new s.MeshMaterial(i.Texture.EMPTY,{program:i.Program.from(u.default,a.default),uniforms:{uFWidth:0}}),o=i.BLEND_MODES.NORMAL_NPM);const l=new s.Mesh(r,n);l.blendMode=o,e={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:l,vertices:null,uvs:null,indices:null}}e.index=0,e.indexCount=0,e.vertexCount=0,e.uvsCount=0,e.total=0;const{_textureCache:o}=this;o[n]=o[n]||new i.Texture(r.baseTexture),e.mesh.texture=o[n],e.mesh.tint=this._tintColor.value,B.push(e),D[n]=e}D[n].total++}for(let t=0;t<L.length;t++)B.includes(L[t])||this.removeChild(L[t].mesh);for(let t=0;t<B.length;t++)B[t].mesh.parent!==this&&this.addChild(B[t].mesh);this._activePagesMeshData=B;for(const t in D){const e=D[t],r=e.total;if(!(e.indices?.length>6*r)||e.vertices.length<2*s.Mesh.BATCHABLE_SIZE)e.vertices=new Float32Array(8*r),e.uvs=new Float32Array(8*r),e.indices=new Uint16Array(6*r);else{const t=e.total,r=e.vertices;for(let e=4*t*2;e<r.length;e++)r[e]=0}e.mesh.size=6*r}for(let t=0;t<R;t++){const e=f[t];let i=e.position.x+C[e.line]*("justify"===this._align?e.prevSpaces:1);this._roundPixels&&(i=Math.round(i));const n=i*r,s=e.position.y*r,o=e.texture,a=D[o.baseTexture.uid],u=o.frame,l=o._uvs,c=a.index++;a.indices[6*c+0]=0+4*c,a.indices[6*c+1]=1+4*c,a.indices[6*c+2]=2+4*c,a.indices[6*c+3]=0+4*c,a.indices[6*c+4]=2+4*c,a.indices[6*c+5]=3+4*c,a.vertices[8*c+0]=n,a.vertices[8*c+1]=s,a.vertices[8*c+2]=n+u.width*r,a.vertices[8*c+3]=s,a.vertices[8*c+4]=n+u.width*r,a.vertices[8*c+5]=s+u.height*r,a.vertices[8*c+6]=n,a.vertices[8*c+7]=s+u.height*r,a.uvs[8*c+0]=l.x0,a.uvs[8*c+1]=l.y0,a.uvs[8*c+2]=l.x1,a.uvs[8*c+3]=l.y1,a.uvs[8*c+4]=l.x2,a.uvs[8*c+5]=l.y2,a.uvs[8*c+6]=l.x3,a.uvs[8*c+7]=l.y3}this._textWidth=E*r,this._textHeight=(n.y+t.lineHeight)*r;for(const t in D){const e=D[t];if(0!==this.anchor.x||0!==this.anchor.y){let t=0;const r=this._textWidth*this.anchor.x,i=this._textHeight*this.anchor.y;for(let n=0;n<e.total;n++)e.vertices[t++]-=r,e.vertices[t++]-=i,e.vertices[t++]-=r,e.vertices[t++]-=i,e.vertices[t++]-=r,e.vertices[t++]-=i,e.vertices[t++]-=r,e.vertices[t++]-=i}this._maxLineHeight=O*r;const i=e.mesh.geometry.getBuffer("aVertexPosition"),n=e.mesh.geometry.getBuffer("aTextureCoord"),s=e.mesh.geometry.getIndex();i.data=e.vertices,n.data=e.uvs,s.data=e.indices,i.update(),n.update(),s.update()}for(let t=0;t<f.length;t++)p.push(f[t]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:i}=o.BitmapFont.available[this._fontName];if("none"!==r){const{a:r,b:n,c:s,d:o}=this.worldTransform,a=Math.sqrt(r*r+n*n),u=Math.sqrt(s*s+o*o),l=(Math.abs(a)+Math.abs(u))/2,c=this.fontSize/i,h=t._view.resolution;for(const t of this._activePagesMeshData)t.mesh.shader.uniforms.uFWidth=l*e*c*h}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=o.BitmapFont.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!o.BitmapFont.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??o.BitmapFont.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r="none"===o.BitmapFont.available[this._fontName].distanceFieldType?h:d;r.push(...this._activePagesMeshData);for(const t of this._activePagesMeshData)this.removeChild(t.mesh);this._activePagesMeshData=[],r.filter((t=>e[t.mesh.texture.baseTexture.uid])).forEach((t=>{t.mesh.texture=i.Texture.EMPTY}));for(const t in e){e[t].destroy(),delete e[t]}this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let _=f;_.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e.BitmapText=_},94289:()=>{},59340:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(99238);e.TextFormat=class{static test(t){return"string"==typeof t&&t.startsWith("info face=")}static parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const t in e){const i=e[t].match(/^[a-z]+/gm)[0],n=e[t].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(const t in n){const e=n[t].split("="),r=e[0],i=e[1].replace(/"/gm,""),o=parseFloat(i),a=isNaN(o)?i:o;s[r]=a}r[i].push(s)}const n=new i.BitmapFontData;return r.info.forEach((t=>n.info.push({face:t.face,size:parseInt(t.size,10)}))),r.common.forEach((t=>n.common.push({lineHeight:parseInt(t.lineHeight,10)}))),r.page.forEach((t=>n.page.push({id:parseInt(t.id,10),file:t.file}))),r.char.forEach((t=>n.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)}))),r.kerning.forEach((t=>n.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)}))),r.distanceField.forEach((t=>n.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType}))),n}}},96257:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(99238);e.XMLFormat=class{static test(t){const e=t;return"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")}static parse(t){const e=new i.BitmapFontData,r=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),u=t.getElementsByTagName("distanceField");for(let t=0;t<r.length;t++)e.info.push({face:r[t].getAttribute("face"),size:parseInt(r[t].getAttribute("size"),10)});for(let t=0;t<n.length;t++)e.common.push({lineHeight:parseInt(n[t].getAttribute("lineHeight"),10)});for(let t=0;t<s.length;t++)e.page.push({id:parseInt(s[t].getAttribute("id"),10)||0,file:s[t].getAttribute("file")});for(let t=0;t<o.length;t++){const r=o[t];e.char.push({id:parseInt(r.getAttribute("id"),10),page:parseInt(r.getAttribute("page"),10)||0,x:parseInt(r.getAttribute("x"),10),y:parseInt(r.getAttribute("y"),10),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10),xoffset:parseInt(r.getAttribute("xoffset"),10),yoffset:parseInt(r.getAttribute("yoffset"),10),xadvance:parseInt(r.getAttribute("xadvance"),10)})}for(let t=0;t<a.length;t++)e.kerning.push({first:parseInt(a[t].getAttribute("first"),10),second:parseInt(a[t].getAttribute("second"),10),amount:parseInt(a[t].getAttribute("amount"),10)});for(let t=0;t<u.length;t++)e.distanceField.push({fieldType:u[t].getAttribute("fieldType"),distanceRange:parseInt(u[t].getAttribute("distanceRange"),10)});return e}}},24869:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(96257);e.XMLStringFormat=class{static test(t){return!("string"!=typeof t||!t.includes("<font>"))&&n.XMLFormat.test(i.settings.ADAPTER.parseXML(t))}static parse(t){return n.XMLFormat.parse(i.settings.ADAPTER.parseXML(t))}}},4772:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(59340),n=r(96257),s=r(24869);const o=[i.TextFormat,n.XMLFormat,s.XMLStringFormat];e.TextFormat=i.TextFormat,e.XMLFormat=n.XMLFormat,e.XMLStringFormat=s.XMLStringFormat,e.autoDetectFormat=function(t){for(let e=0;e<o.length;e++)if(o[e].test(t))return o[e];return null}},53485:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(76362),n=r(99238),s=r(88236);r(94289);var o=r(4772),a=r(54457),u=r(59340),l=r(96257),c=r(24869);e.BitmapFont=i.BitmapFont,e.BitmapFontData=n.BitmapFontData,e.BitmapText=s.BitmapText,e.autoDetectFormat=o.autoDetectFormat,e.loadBitmapFont=a.loadBitmapFont,e.TextFormat=u.TextFormat,e.XMLFormat=l.XMLFormat,e.XMLStringFormat=c.XMLStringFormat},54457:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(8415),n=r(48742),s=r(76362);r(4772);var o=r(59340),a=r(24869);const u=[".xml",".fnt"],l={extension:{type:n.ExtensionType.LoadParser,priority:i.LoaderParserPriority.Normal},name:"loadBitmapFont",test:t=>u.includes(n.utils.path.extname(t).toLowerCase()),testParse:async t=>o.TextFormat.test(t)||a.XMLStringFormat.test(t),async parse(t,e,r){const u=o.TextFormat.test(t)?o.TextFormat.parse(t):a.XMLStringFormat.parse(t),{src:l}=e,{page:c}=u,h=[];for(let t=0;t<c.length;++t){const e=c[t].file;let r=n.utils.path.join(n.utils.path.dirname(l),e);r=i.copySearchParams(r,l),h.push(r)}const d=await r.load(h),p=h.map((t=>d[t]));return s.BitmapFont.install(u,p,!0)},load:async(t,e)=>(await n.settings.ADAPTER.fetch(t)).text(),unload(t){t.destroy()}};n.extensions.add(l),e.loadBitmapFont=l},27088:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"},56670:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n"},95375:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(29402);e.drawGlyph=function(t,e,r,s,o,a,u){const l=r.text,c=r.fontProperties;e.translate(s,o),e.scale(a,a);const h=u.strokeThickness/2,d=-u.strokeThickness/2;if(e.font=u.toFontString(),e.lineWidth=u.strokeThickness,e.textBaseline=u.textBaseline,e.lineJoin=u.lineJoin,e.miterLimit=u.miterLimit,e.fillStyle=n.generateFillStyle(t,e,u,a,[l],r),e.strokeStyle=u.stroke,u.dropShadow){const t=u.dropShadowColor,r=u.dropShadowBlur*a,n=u.dropShadowDistance*a;e.shadowColor=i.Color.shared.setValue(t).setAlpha(u.dropShadowAlpha).toRgbaString(),e.shadowBlur=r,e.shadowOffsetX=Math.cos(u.dropShadowAngle)*n,e.shadowOffsetY=Math.sin(u.dropShadowAngle)*n}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;u.stroke&&u.strokeThickness&&e.strokeText(l,h,d+r.lineHeight-c.descent),u.fill&&e.fillText(l,h,d+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}},40171:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractCharCode=function(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}},29402:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(66338);e.generateFillStyle=function(t,e,r,n,s,o){const a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];let u;const l=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,h=t.width/n-l-2*c,d=t.height/n-l-2*c,p=a.slice(),f=r.fillGradientStops.slice();if(!f.length){const t=p.length+1;for(let e=1;e<t;++e)f.push(e/t)}if(p.unshift(a[0]),f.unshift(0),p.push(a[a.length-1]),f.push(1),r.fillGradientType===i.TEXT_GRADIENT.LINEAR_VERTICAL){u=e.createLinearGradient(h/2,c,h/2,d+c);let t=0;const i=(o.fontProperties.fontSize+r.strokeThickness)/d;for(let e=0;e<s.length;e++){const r=o.lineHeight*e;for(let e=0;e<p.length;e++){let n=0;n="number"==typeof f[e]?f[e]:e/p.length;const s=r/d+n*i;let o=Math.max(t,s);o=Math.min(o,1),u.addColorStop(o,p[e]),t=o}}}else{u=e.createLinearGradient(c,d/2,h+c,d/2);const t=p.length+1;let r=1;for(let e=0;e<p.length;e++){let i;i="number"==typeof f[e]?f[e]:r/t,u.addColorStop(i,p[e]),r++}}return u}},49307:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(95375),n=r(40171),s=r(29402),o=r(61717),a=r(4937);e.drawGlyph=i.drawGlyph,e.extractCharCode=n.extractCharCode,e.generateFillStyle=s.generateFillStyle,e.resolveCharacters=o.resolveCharacters,e.splitTextToCharacters=a.splitTextToCharacters},61717:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(4937);e.resolveCharacters=function(t){"string"==typeof t&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const t=n[0].charCodeAt(0),r=n[1].charCodeAt(0);if(r<t)throw new Error("[BitmapFont]: Invalid character range.");for(let i=t,n=r;i<=n;i++)e.push(String.fromCharCode(i))}else e.push(...i.splitTextToCharacters(n))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}},4937:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitTextToCharacters=function(t){return Array.from?Array.from(t):t.split("")}},91085:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(6903),s=r(66338),o=r(58005);const a=class extends n.Sprite{constructor(t="",e={}){super(i.Texture.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=i.Texture.from(r,{scaleMode:i.settings.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new i.Rectangle,n.trim=new i.Rectangle,this.texture=n;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",u=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject"),c=document.createElementNS(o,"div"),h=document.createElementNS(o,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",u.appendChild(l),this.maxWidth=a.defaultMaxWidth,this.maxHeight=a.defaultMaxHeight,this._domElement=c,this._styleElement=h,this._svgRoot=u,this._foreignObject=l,this._foreignObject.appendChild(h),this._foreignObject.appendChild(c),this._image=r,this._loadImage=new Image,this._autoResolution=a.defaultAutoResolution,this._resolution=a.defaultResolution??i.settings.RESOLUTION,this.text=t,this.style=e}measureText(t){const{text:e,style:r,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(i)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const n=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(n.width)),o=Math.min(this.maxHeight,Math.ceil(n.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(i)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:s+2*r.padding,height:o+2*r.padding}}async updateText(t=!0){const{style:e,_image:r,_loadImage:i}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:n,height:s}=this.measureText();r.width=i.width=Math.ceil(Math.max(1,n)),r.height=i.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise((t=>{i.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=i.src,i.onload=null,i.src="",this.updateTexture(),t()};const n=(new XMLSerializer).serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(n)}`})))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:i}=this,{padding:n}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/i,e.trim.height=e._frame.height=r.height/i,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-2*n,e.orig.height=e._frame.height-2*n,this._onTextureUpdate(),s.setRealSize(r.width,r.height,i),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},a.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=e,this._svgRoot?.remove(),this._svgRoot=e,this._domElement?.remove(),this._domElement=e,this._foreignObject?.remove(),this._foreignObject=e,this._styleElement?.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=i.utils.sign(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=i.utils.sign(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&((t=t||{})instanceof o.HTMLTextStyle?(this.ownsStyle=!1,this._style=t):t instanceof s.TextStyle?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=o.HTMLTextStyle.from(t)):(this.ownsStyle=!0,this._style=new o.HTMLTextStyle(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(""===t||null==t?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let u=a;u.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},u.defaultMaxWidth=2024,u.defaultMaxHeight=2024,u.defaultAutoResolution=!0,e.HTMLText=u},58005:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(66338);const s=class extends n.TextStyle{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new s(Object.keys(s.defaultOptions).reduce(((e,r)=>({...e,[r]:t[r]})),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach((t=>{URL.revokeObjectURL(t.src),t.refs--,0===t.refs&&(t.fontFace&&document.fonts.delete(t.fontFace),delete s.availableFonts[t.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=s;if(r[t]){const e=r[t];return this._fonts.push(e),e.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return i.settings.ADAPTER.fetch(t).then((t=>t.blob())).then((async t=>new Promise(((e,r)=>{const i=URL.createObjectURL(t),n=new FileReader;n.onload=()=>e([i,n.result]),n.onerror=r,n.readAsDataURL(t)})))).then((async([n,s])=>{const o=Object.assign({family:i.utils.path.basename(t,i.utils.path.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:s,refs:1,originalUrl:t,fontFace:null},e);r[t]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0}))}addOverride(...t){const e=t.filter((t=>!this._overrides.includes(t)));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter((t=>this._overrides.includes(t)));e.length>0&&(this._overrides=this._overrides.filter((t=>!e.includes(t))),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?["word-wrap: "+(this.breakWords?"break-all":"break-word"),`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce(((t,e)=>`${t}\n            @font-face {\n                font-family: "${e.family}";\n                src: url('${e.dataSrc}');\n                font-weight: ${e.weight};\n                font-style: ${e.style}; \n            }`),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=i.utils.rgb2hex(t)),"number"==typeof t?i.utils.hex2string(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(255*e|0).toString(16).padStart(2,"0"));const n=`${r}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${n} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${n} ${t}`}reset(){Object.assign(this,s.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise((t=>setTimeout(t,100))):Promise.resolve()}get isSafari(){const{userAgent:t}=i.settings.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let o=s;o.availableFonts={},o.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100},e.HTMLTextStyle=o},17509:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(91085),n=r(58005);e.HTMLText=i.HTMLText,e.HTMLTextStyle=n.HTMLTextStyle},30448:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(6903),s=r(16016),o=r(75345),a=r(38774);const u={texture:!0,children:!1,baseTexture:!0},l=class extends n.Sprite{constructor(t,e,r){let n=!1;r||(r=i.settings.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const s=i.Texture.from(r);s.orig=new i.Rectangle,s.trim=new i.Rectangle,super(s),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=l.defaultResolution??i.settings.RESOLUTION,this._autoResolution=l.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return o.TextMetrics.experimentalLetterSpacing}static set experimentalLetterSpacing(t){i.utils.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),o.TextMetrics.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=o.TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=n.width,a=n.height,u=n.lines,l=n.lineHeight,c=n.lineWidths,h=n.maxLineWidth,d=n.fontProperties;let p,f;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+2*e.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;const _=e.dropShadow?2:1;for(let t=0;t<_;++t){const s=e.dropShadow&&0===t,o=s?Math.ceil(Math.max(1,a)+2*e.padding):0,_=o*this._resolution;if(s){r.fillStyle="black",r.strokeStyle="black";const t=e.dropShadowColor,n=e.dropShadowBlur*this._resolution,s=e.dropShadowDistance*this._resolution;r.shadowColor=i.Color.shared.setValue(t).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=n,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*s,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*s+_}else r.fillStyle=this._generateFillStyle(e,u,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let y=(l-d.fontSize)/2;l-d.fontSize<0&&(y=0);for(let t=0;t<u.length;t++)p=e.strokeThickness/2,f=e.strokeThickness/2+t*l+d.ascent+y,"right"===e.align?p+=h-c[t]:"center"===e.align&&(p+=(h-c[t])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(u[t],p+e.padding,f+e.padding-o,!0),e.fill&&this.drawLetterSpacing(u[t],p+e.padding,f+e.padding-o)}this.updateTexture()}drawLetterSpacing(t,e,r,i=!1){const n=this._style.letterSpacing;let s=!1;if(o.TextMetrics.experimentalLetterSpacingSupported&&(o.TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing=`${n}px`,this.context.textLetterSpacing=`${n}px`,s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===n||s)return void(i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r));let a=e;const u=o.TextMetrics.graphemeSegmenter(t);let l=this.context.measureText(t).width,c=0;for(let t=0;t<u.length;++t){const e=u[t];i?this.context.strokeText(e,a,r):this.context.fillText(e,a,r);let s="";for(let e=t+1;e<u.length;++e)s+=u[e];c=this.context.measureText(s).width,a+=l-c+n,l=c}}updateTexture(){const t=this.canvas;if(this._style.trim){const e=i.utils.trimCanvas(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,s=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-2*n,e.orig.height=e._frame.height-2*n,this._onTextureUpdate(),s.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),-1===this._textureID&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const i=t.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];let n;const o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,u=this.canvas.width/this._resolution-o-2*a,l=this.canvas.height/this._resolution-o-2*a,c=i.slice(),h=t.fillGradientStops.slice();if(!h.length){const t=c.length+1;for(let e=1;e<t;++e)h.push(e/t)}if(c.unshift(i[0]),h.unshift(0),c.push(i[i.length-1]),h.push(1),t.fillGradientType===s.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(u/2,a,u/2,l+a);const i=r.fontProperties.fontSize+t.strokeThickness;for(let t=0;t<e.length;t++){const s=r.lineHeight*(t-1)+i,o=r.lineHeight*t;let a=o;t>0&&s>o&&(a=(o+s)/2);const u=o+i,d=r.lineHeight*(t+1);let p=u;t+1<e.length&&d<u&&(p=(u+d)/2);const f=(p-a)/l;for(let t=0;t<c.length;t++){let e=0;e="number"==typeof h[t]?h[t]:t/c.length;let r=Math.min(1,Math.max(0,a/l+e*f));r=Number(r.toFixed(5)),n.addColorStop(r,c[t])}}}else{n=this.context.createLinearGradient(a,l/2,u+a,l/2);const t=c.length+1;let e=1;for(let r=0;r<c.length;r++){let i;i="number"==typeof h[r]?h[r]:e/t,n.addColorStop(i,c[r]),e++}}return n}destroy(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},u,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=i.utils.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=i.utils.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){(t=t||{})instanceof a.TextStyle?this._style=t:this._style=new a.TextStyle(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let c=l;c.defaultAutoResolution=!0,e.Text=c},75345:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742);const n={willReadFrequently:!0},s=class{static get experimentalLetterSpacingSupported(){let t=s._experimentalLetterSpacingSupported;if(void 0!==t){const e=i.settings.ADAPTER.getCanvasRenderingContext2D().prototype;t=s._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,i,n,s,o,a,u){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=u}static measureText(t,e,r,i=s._canvas){r=null==r?e.wordWrap:r;const o=e.toFontString(),a=s.measureFont(o);0===a.fontSize&&(a.fontSize=e.fontSize,a.ascent=e.fontSize);const u=i.getContext("2d",n);u.font=o;const l=(r?s.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let t=0;t<l.length;t++){const r=s._measureText(l[t],e.letterSpacing,u);c[t]=r,h=Math.max(h,r)}let d=h+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);const p=e.lineHeight||a.fontSize+e.strokeThickness;let f=Math.max(p,a.fontSize+2*e.strokeThickness)+(l.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new s(t,e,d,f,l,c,p+e.leading,h,a)}static _measureText(t,e,r){let i=!1;s.experimentalLetterSpacingSupported&&(s.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let n=r.measureText(t).width;return n>0&&(i?n-=e:n+=(s.graphemeSegmenter(t).length-1)*e),n}static wordWrap(t,e,r=s._canvas){const i=r.getContext("2d",n);let o=0,a="",u="";const l=Object.create(null),{letterSpacing:c,whiteSpace:h}=e,d=s.collapseSpaces(h),p=s.collapseNewlines(h);let f=!d;const _=e.wordWrapWidth+c,y=s.tokenize(t);for(let t=0;t<y.length;t++){let r=y[t];if(s.isNewline(r)){if(!p){u+=s.addLine(a),f=!d,a="",o=0;continue}r=" "}if(d){const t=s.isBreakingSpace(r),e=s.isBreakingSpace(a[a.length-1]);if(t&&e)continue}const n=s.getFromCache(r,c,l,i);if(n>_)if(""!==a&&(u+=s.addLine(a),a="",o=0),s.canBreakWords(r,e.breakWords)){const t=s.wordWrapSplit(r);for(let n=0;n<t.length;n++){let h=t[n],d=h,p=1;for(;t[n+p];){const i=t[n+p];if(s.canBreakChars(d,i,r,n,e.breakWords))break;h+=i,d=i,p++}n+=p-1;const y=s.getFromCache(h,c,l,i);y+o>_&&(u+=s.addLine(a),f=!1,a="",o=0),a+=h,o+=y}}else{a.length>0&&(u+=s.addLine(a),a="",o=0);const e=t===y.length-1;u+=s.addLine(r,!e),f=!1,a="",o=0}else n+o>_&&(f=!1,u+=s.addLine(a),a="",o=0),(a.length>0||!s.isBreakingSpace(r)||f)&&(a+=r,o+=n)}return u+=s.addLine(a,!1),u}static addLine(t,e=!0){return t=s.trimRight(t),t=e?`${t}\n`:t}static getFromCache(t,e,r,i){let n=r[t];return"number"!=typeof n&&(n=s._measureText(t,e,i)+e,r[t]=n),n}static collapseSpaces(t){return"normal"===t||"pre-line"===t}static collapseNewlines(t){return"normal"===t}static trimRight(t){if("string"!=typeof t)return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!s.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&s._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return"string"==typeof t&&s._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if("string"!=typeof t)return e;for(let i=0;i<t.length;i++){const n=t[i],o=t[i+1];s.isBreakingSpace(n,o)||s.isNewline(n)?(""!==r&&(e.push(r),r=""),e.push(n)):r+=n}return""!==r&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,i,n){return!0}static wordWrapSplit(t){return s.graphemeSegmenter(t)}static measureFont(t){if(s._fonts[t])return s._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=s._canvas,i=s._context;i.font=t;const n=s.METRICS_STRING+s.BASELINE_SYMBOL,o=Math.ceil(i.measureText(n).width);let a=Math.ceil(i.measureText(s.BASELINE_SYMBOL).width);const u=Math.ceil(s.HEIGHT_MULTIPLIER*a);if(a=a*s.BASELINE_MULTIPLIER|0,0===o||0===u)return s._fonts[t]=e,e;r.width=o,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,a);const l=i.getImageData(0,0,o,u).data,c=l.length,h=4*o;let d=0,p=0,f=!1;for(d=0;d<a;++d){for(let t=0;t<h;t+=4)if(255!==l[p+t]){f=!0;break}if(f)break;p+=h}for(e.ascent=a-d,p=c-h,f=!1,d=u;d>a;--d){for(let t=0;t<h;t+=4)if(255!==l[p+t]){f=!0;break}if(f)break;p-=h}return e.descent=d-a,e.fontSize=e.ascent+e.descent,s._fonts[t]=e,e}static clearMetrics(t=""){t?delete s._fonts[t]:s._fonts={}}static get _canvas(){if(!s.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",n);if(r?.measureText)return s.__canvas=e,e;t=i.settings.ADAPTER.createCanvas()}catch(e){t=i.settings.ADAPTER.createCanvas()}t.width=t.height=10,s.__canvas=t}return s.__canvas}static get _context(){return s.__context||(s.__context=s._canvas.getContext("2d",n)),s.__context}};let o=s;o.METRICS_STRING="|q",o.BASELINE_SYMBOL="M",o.BASELINE_MULTIPLIER=1.4,o.HEIGHT_MULTIPLIER=2,o.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map((t=>t.segment))}return t=>[...t]})(),o.experimentalLetterSpacing=!1,o._fonts={},o._newlines=[10,13],o._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288],e.TextMetrics=o},38774:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(16016),n=r(48742);const s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],o=class{constructor(t){this.styleID=0,this.reset(),l(this,t,t)}clone(){const t={};return l(t,this,o.defaultStyle),new o(t)}reset(){l(this,o.defaultStyle,o.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=u(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=u(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=u(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let t=e.length-1;t>=0;t--){let r=e[t].trim();/([\"\'])[^\'\"]+\1/.test(r)||s.includes(r)||(r=`"${r}"`),e[t]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let a=o;function u(t){const e=n.Color.shared;return Array.isArray(t)?t.map((t=>e.setValue(t).toHex())):e.setValue(t).toHex()}function l(t,e,r){for(const i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}a.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100},e.TextStyle=a},16016:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(r||{});e.TEXT_GRADIENT=r},66338:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(16016),n=r(30448),s=r(75345),o=r(38774);e.TEXT_GRADIENT=i.TEXT_GRADIENT,e.Text=n.Text,e.TextMetrics=s.TextMetrics,e.TextStyle=o.TextStyle},91253:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(99699),n=r(80247);const s=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new n.TickerListener(null,null,1/0),this.deltaMS=1/s.targetFPMS,this.elapsedMS=1/s.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=i.UPDATE_PRIORITY.NORMAL){return this._addListener(new n.TickerListener(t,e,r))}addOnce(t,e,r=i.UPDATE_PRIORITY.NORMAL){return this._addListener(new n.TickerListener(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*s.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,s.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(0===t)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!s._shared){const t=s._shared=new s;t.autoStart=!0,t._protected=!0}return s._shared}static get system(){if(!s._system){const t=s._system=new s;t.autoStart=!0,t._protected=!0}return s._system}};let o=s;o.targetFPMS=.06,e.Ticker=o},80247:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TickerListener=class{constructor(t,e=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=i}match(t,e=null){return this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}},43019:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(71648),n=r(99699),s=r(91253);class o{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,n.UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?s.Ticker.shared:new s.Ticker,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}o.extension=i.ExtensionType.Application,i.extensions.add(o),e.TickerPlugin=o},99699:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(r||{});e.UPDATE_PRIORITY=r},36082:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(12819);var i=r(99699),n=r(91253),s=r(43019);e.UPDATE_PRIORITY=i.UPDATE_PRIORITY,e.Ticker=n.Ticker,e.TickerPlugin=s.TickerPlugin},12819:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82101),n=r(12191),s=r(91253);Object.defineProperties(i.settings,{TARGET_FPMS:{get:()=>s.Ticker.targetFPMS,set(t){n.deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),s.Ticker.targetFPMS=t}}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return i.settings}})},38944:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(78162);e.sayHello=function(){i.deprecation("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')},e.skipHello=function(){i.deprecation("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}},16358:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(70335);var i=r(82101);let n;e.isWebGLSupported=function(){return void 0===n&&(n=function(){const t={stencil:!0,failIfMajorPerformanceCaveat:i.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!i.settings.ADAPTER.getWebGLRenderingContext())return!1;const e=i.settings.ADAPTER.createCanvas();let r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);const n=!!r?.getContextAttributes()?.stencil;if(r){const t=r.getExtension("WEBGL_lose_context");t&&t.loseContext()}return r=null,n}catch(t){return!1}}()),n}},6165:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1122),n=r(78162);e.hex2rgb=function(t,e=[]){return n.deprecation("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),i.Color.shared.setValue(t).toRgbArray(e)},e.hex2string=function(t){return n.deprecation("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),i.Color.shared.setValue(t).toHex()},e.rgb2hex=function(t){return n.deprecation("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),i.Color.shared.setValue(t).toNumber()},e.string2hex=function(t){return n.deprecation("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),i.Color.shared.setValue(t).toNumber()}},61469:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1122),n=r(57616),s=r(78162);const o=function(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}();e.correctBlendMode=function(t,e){return o[e?1:0][t]},e.premultiplyBlendMode=o,e.premultiplyRgba=function(t,e,r,n=!0){return s.deprecation("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),i.Color.shared.setValue(t).premultiply(e,n).toArray(r??new Float32Array(4))},e.premultiplyTint=function(t,e){return s.deprecation("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),i.Color.shared.setValue(t).toPremultiplied(e)},e.premultiplyTintToRgba=function(t,e,r,n=!0){return s.deprecation("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),i.Color.shared.setValue(t).premultiply(e,n).toArray(r??new Float32Array(4))}},91988:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i},37154:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createIndicesForQuads=function(t,e=null){const r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let t=0,i=0;t<r;t+=6,i+=4)e[t+0]=i+0,e[t+1]=i+1,e[t+2]=i+2,e[t+3]=i+0,e[t+4]=i+2,e[t+5]=i+3;return e}},15668:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBufferType=function(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}},89530:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(15668);const n={Float32Array,Uint32Array,Int32Array,Uint8Array};e.interleaveTypedArrays=function(t,e){let r=0,s=0;const o={};for(let i=0;i<t.length;i++)s+=e[i],r+=t[i].length;const a=new ArrayBuffer(4*r);let u=null,l=0;for(let r=0;r<t.length;r++){const c=e[r],h=t[r],d=i.getBufferType(h);o[d]||(o[d]=new n[d](a)),u=o[d];for(let t=0;t<h.length;t++){u[(t/c|0)*s+l+t%c]=h[t]}l+=c}return new Float32Array(a)}},55919:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){let e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,r=((t>>>=r)>15?1:0)<<2,e|=r,r=((t>>>=r)>3?1:0)<<1,e|=r,e|(t>>>=r)>>1},e.nextPow2=function(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}},23582:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeItems=function(t,e,r){const i=t.length;let n;if(e>=i||0===r)return;const s=i-(r=e+r>i?i-e:r);for(n=e;n<s;++n)t[n]=t[n+r];t.length=s}},91815:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sign=function(t){return 0===t?0:t<0?-1:1}},46066:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});let r=0;e.uid=function(){return++r}},12191:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(70335);var i=r(82101),n=r(26729),s=r(9187),o=r(41913),a=r(1087),u=r(38944),l=r(16358),c=r(6165),h=r(61469),d=r(91988),p=r(37154),f=r(15668),_=r(89530),y=r(55919),m=r(23582),g=r(91815),v=r(46066),b=r(78162),x=r(42114),T=r(91635),E=r(78260),S=r(58217),A=r(3889),w=r(3424),P=r(37570),O=r(15197);function M(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}r(17090);var I=M(n),C=M(s);Object.defineProperty(e,"isMobile",{enumerable:!0,get:function(){return i.isMobile}}),Object.defineProperty(e,"EventEmitter",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"earcut",{enumerable:!0,get:function(){return C.default}}),e.url=o.url,e.path=a.path,e.sayHello=u.sayHello,e.skipHello=u.skipHello,e.isWebGLSupported=l.isWebGLSupported,e.hex2rgb=c.hex2rgb,e.hex2string=c.hex2string,e.rgb2hex=c.rgb2hex,e.string2hex=c.string2hex,e.correctBlendMode=h.correctBlendMode,e.premultiplyBlendMode=h.premultiplyBlendMode,e.premultiplyRgba=h.premultiplyRgba,e.premultiplyTint=h.premultiplyTint,e.premultiplyTintToRgba=h.premultiplyTintToRgba,e.DATA_URI=d.DATA_URI,e.createIndicesForQuads=p.createIndicesForQuads,e.getBufferType=f.getBufferType,e.interleaveTypedArrays=_.interleaveTypedArrays,e.isPow2=y.isPow2,e.log2=y.log2,e.nextPow2=y.nextPow2,e.removeItems=m.removeItems,e.sign=g.sign,e.uid=v.uid,e.deprecation=b.deprecation,e.BoundingBox=x.BoundingBox,e.BaseTextureCache=T.BaseTextureCache,e.ProgramCache=T.ProgramCache,e.TextureCache=T.TextureCache,e.clearTextureCache=T.clearTextureCache,e.destroyTextureCache=T.destroyTextureCache,e.CanvasRenderTarget=E.CanvasRenderTarget,e.getCanvasBoundingBox=S.getCanvasBoundingBox,e.trimCanvas=A.trimCanvas,e.decomposeDataUri=w.decomposeDataUri,e.determineCrossOrigin=P.determineCrossOrigin,e.getResolutionOfUrl=O.getResolutionOfUrl},78162:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r={};e.deprecation=function(t,e,i=3){if(r[e])return;let n=(new Error).stack;void 0===n?console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${t}`):(n=n.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}\nDeprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${t}`),console.warn(n))),r[e]=!0}},42114:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=class{constructor(t,e,r,i){this.left=t,this.top=e,this.right=r,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let i=r;i.EMPTY=new r(0,0,0,0),e.BoundingBox=i},78260:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82101);e.CanvasRenderTarget=class{constructor(t,e,r){this._canvas=i.settings.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||i.settings.RESOLUTION,this.resize(t,e)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,e){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(e*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}},91635:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Object.create(null),i=Object.create(null);e.BaseTextureCache=i,e.ProgramCache={},e.TextureCache=r,e.clearTextureCache=function(){let t;for(t in r)delete r[t];for(t in i)delete i[t]},e.destroyTextureCache=function(){let t;for(t in r)r[t].destroy();for(t in i)i[t].destroy()}},58217:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(42114);function n(t,e,r){for(let i=0,n=4*r*e;i<e;++i,n+=4)if(0!==t[n+3])return!1;return!0}function s(t,e,r,i,n){const s=4*e;for(let e=i,o=i*s+4*r;e<=n;++e,o+=s)if(0!==t[o+3])return!1;return!0}e.getCanvasBoundingBox=function(t){const{width:e,height:r}=t,o=t.getContext("2d",{willReadFrequently:!0});if(null===o)throw new TypeError("Failed to get canvas 2D context");const a=o.getImageData(0,0,e,r).data;let u=0,l=0,c=e-1,h=r-1;for(;l<r&&n(a,e,l);)++l;if(l===r)return i.BoundingBox.EMPTY;for(;n(a,e,h);)--h;for(;s(a,e,u,l,h);)++u;for(;s(a,e,c,l,h);)--c;return++c,++h,new i.BoundingBox(u,l,c,h)}},3889:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(58217);e.trimCanvas=function(t){const e=i.getCanvasBoundingBox(t),{width:r,height:n}=e;let s=null;if(!e.isEmpty()){const i=t.getContext("2d");if(null===i)throw new TypeError("Failed to get canvas 2D context");s=i.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:s}}},3424:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(91988);e.decomposeDataUri=function(t){const e=i.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}},37570:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(41913);let n;e.determineCrossOrigin=function(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,n||(n=document.createElement("a")),n.href=t;const r=i.url.parse(n.href),s=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&s&&r.protocol===e.protocol?"":"anonymous"}},15197:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(70335);var i=r(82101);e.getResolutionOfUrl=function(t,e=1){const r=i.settings.RETINA_PREFIX?.exec(t);return r?parseFloat(r[1]):e}},1087:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82101);function n(t){if("string"!=typeof t)throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function s(t){return t.split("?")[0].split("#")[0]}const o={toPosix(t){return e="\\",r="/",t.replace(new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),r);var e,r},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:t=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t),hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){n(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),i=/^[^/:]+:\/\//.exec(t),s=/^[^/:]+:\//.exec(t);if(r||i||s){const n=r?.[0]||i?.[0]||s?.[0];e=n,t=t.slice(n.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const a=s(this.toPosix(e??i.settings.ADAPTER.getBaseUrl())),u=s(this.toPosix(r??this.rootname(a)));if(n(t),(t=this.toPosix(t)).startsWith("/"))return o.join(u,t.slice(1));return this.isAbsolute(t)?t:this.join(a,t)},normalize(t){if(n(t=this.toPosix(t)),0===t.length)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const i=t.endsWith("/");return(t=function(t,e){let r="",i=0,n=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(47===o)break;o=47}if(47===o){if(n===a-1||1===s);else if(n!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){const t=r.lastIndexOf("/");if(t!==r.length-1){-1===t?(r="",i=0):(r=r.slice(0,t),i=r.length-1-r.lastIndexOf("/")),n=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,n=a,s=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+=`/${t.slice(n+1,a)}`:r=t.slice(n+1,a),i=a-n-1;n=a,s=0}else 46===o&&-1!==s?++s:s=-1}return r}(t,!1)).length>0&&i&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return n(t),t=this.toPosix(t),!!this.hasProtocol(t)||t.startsWith("/")},join(...t){if(0===t.length)return".";let e;for(let r=0;r<t.length;++r){const i=t[r];if(n(i),i.length>0)if(void 0===e)e=i;else{const n=t[r-1]??"";this.extname(n)?e+=`/../${i}`:e+=`/${i}`}}return void 0===e?".":this.normalize(e)},dirname(t){if(n(t),0===t.length)return".";let e=(t=this.toPosix(t)).charCodeAt(0);const r=47===e;let i=-1,s=!0;const o=this.getProtocol(t),a=t;for(let r=(t=t.slice(o.length)).length-1;r>=1;--r)if(e=t.charCodeAt(r),47===e){if(!s){i=r;break}}else s=!1;return-1===i?r?"/":this.isUrl(a)?o+t:o:r&&1===i?"//":o+t.slice(0,i)},rootname(t){n(t);let e="";if(e=(t=this.toPosix(t)).startsWith("/")?"/":this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);e=-1!==r?t.slice(0,r):t,e.endsWith("/")||(e+="/")}return e},basename(t,e){n(t),e&&n(e),t=s(this.toPosix(t));let r,i=0,o=-1,a=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let n=e.length-1,s=-1;for(r=t.length-1;r>=0;--r){const u=t.charCodeAt(r);if(47===u){if(!a){i=r+1;break}}else-1===s&&(a=!1,s=r+1),n>=0&&(u===e.charCodeAt(n)?-1==--n&&(o=r):(n=-1,o=s))}return i===o?o=s:-1===o&&(o=t.length),t.slice(i,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":t.slice(i,o)},extname(t){n(t);let e=-1,r=0,i=-1,o=!0,a=0;for(let n=(t=s(this.toPosix(t))).length-1;n>=0;--n){const s=t.charCodeAt(n);if(47!==s)-1===i&&(o=!1,i=n+1),46===s?-1===e?e=n:1!==a&&(a=1):-1!==e&&(a=-1);else if(!o){r=n+1;break}}return-1===e||-1===i||0===a||1===a&&e===i-1&&e===r+1?"":t.slice(e,i)},parse(t){n(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;let r=(t=s(this.toPosix(t))).charCodeAt(0);const i=this.isAbsolute(t);let o;e.root=this.rootname(t),o=i||this.hasProtocol(t)?1:0;let a=-1,u=0,l=-1,c=!0,h=t.length-1,d=0;for(;h>=o;--h)if(r=t.charCodeAt(h),47!==r)-1===l&&(c=!1,l=h+1),46===r?-1===a?a=h:1!==d&&(d=1):-1!==a&&(d=-1);else if(!c){u=h+1;break}return-1===a||-1===l||0===d||1===d&&a===l-1&&a===u+1?-1!==l&&(e.base=e.name=0===u&&i?t.slice(1,l):t.slice(u,l)):(0===u&&i?(e.name=t.slice(1,a),e.base=t.slice(1,l)):(e.name=t.slice(u,a),e.base=t.slice(u,l)),e.ext=t.slice(a,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};e.path=o},70335:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(82101);i.settings.RETINA_PREFIX=/@([0-9\.]+)x/,i.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return i.settings}})},17090:()=>{},41913:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(8575);const n={parse:i.parse,format:i.format,resolve:i.resolve};e.url=n},21924:(t,e,r)=>{"use strict";var i=r(40210),n=r(55559),s=n(i("String.prototype.indexOf"));t.exports=function(t,e){var r=i(t,!!e);return"function"==typeof r&&s(t,".prototype.")>-1?n(r):r}},55559:(t,e,r)=>{"use strict";var i=r(58612),n=r(40210),s=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||i.call(o,s),u=n("%Object.getOwnPropertyDescriptor%",!0),l=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=a(i,o,arguments);u&&l&&(u(e,"length").configurable&&l(e,"length",{value:1+c(0,t.length-(arguments.length-1))}));return e};var h=function(){return a(i,s,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h},96872:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var r={grad:.9,turn:360,rad:360/(2*Math.PI)},i=function(t){return"string"==typeof t?t.length>0:"number"==typeof t},n=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},s=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),t>r?r:t>e?t:e},o=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},a=function(t){return{r:s(t.r,0,255),g:s(t.g,0,255),b:s(t.b,0,255),a:s(t.a)}},u=function(t){return{r:n(t.r),g:n(t.g),b:n(t.b),a:n(t.a,3)}},l=/^#([0-9a-f]{3,8})$/i,c=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},h=function(t){var e=t.r,r=t.g,i=t.b,n=t.a,s=Math.max(e,r,i),o=s-Math.min(e,r,i),a=o?s===e?(r-i)/o:s===r?2+(i-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:n}},d=function(t){var e=t.h,r=t.s,i=t.v,n=t.a;e=e/360*6,r/=100,i/=100;var s=Math.floor(e),o=i*(1-r),a=i*(1-(e-s)*r),u=i*(1-(1-e+s)*r),l=s%6;return{r:255*[i,a,o,o,u,i][l],g:255*[u,i,i,a,o,o][l],b:255*[o,o,u,i,i,a][l],a:n}},p=function(t){return{h:o(t.h),s:s(t.s,0,100),l:s(t.l,0,100),a:s(t.a)}},f=function(t){return{h:n(t.h),s:n(t.s),l:n(t.l),a:n(t.a,3)}},_=function(t){return d((r=(e=t).s,{h:e.h,s:(r*=((i=e.l)<50?i:100-i)/100)>0?2*r/(i+r)*100:0,v:i+r,a:e.a}));var e,r,i},y=function(t){return{h:(e=h(t)).h,s:(n=(200-(r=e.s))*(i=e.v)/100)>0&&n<200?r*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:e.a};var e,r,i,n},m=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,x={string:[[function(t){var e=l.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?n(parseInt(t[3]+t[3],16)/255,2):1}:6===t.length||8===t.length?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:8===t.length?n(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=v.exec(t)||b.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:a({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=m.exec(t)||g.exec(t);if(!e)return null;var i,n,s=p({h:(i=e[1],n=e[2],void 0===n&&(n="deg"),Number(i)*(r[n]||1)),s:Number(e[3]),l:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)});return _(s)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=void 0===s?1:s;return i(e)&&i(r)&&i(n)?a({r:Number(e),g:Number(r),b:Number(n),a:Number(o)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,s=t.a,o=void 0===s?1:s;if(!i(e)||!i(r)||!i(n))return null;var a=p({h:Number(e),s:Number(r),l:Number(n),a:Number(o)});return _(a)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,a=t.a,u=void 0===a?1:a;if(!i(e)||!i(r)||!i(n))return null;var l=function(t){return{h:o(t.h),s:s(t.s,0,100),v:s(t.v,0,100),a:s(t.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(u)});return d(l)},"hsv"]]},T=function(t,e){for(var r=0;r<e.length;r++){var i=e[r][0](t);if(i)return[i,e[r][1]]}return[null,void 0]},E=function(t){return"string"==typeof t?T(t.trim(),x.string):"object"==typeof t&&null!==t?T(t,x.object):[null,void 0]},S=function(t,e){var r=y(t);return{h:r.h,s:s(r.s+100*e,0,100),l:r.l,a:r.a}},A=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},w=function(t,e){var r=y(t);return{h:r.h,s:r.s,l:s(r.l+100*e,0,100),a:r.a}},P=function(){function t(t){this.parsed=E(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return null!==this.parsed},t.prototype.brightness=function(){return n(A(this.rgba),2)},t.prototype.isDark=function(){return A(this.rgba)<.5},t.prototype.isLight=function(){return A(this.rgba)>=.5},t.prototype.toHex=function(){return e=(t=u(this.rgba)).r,r=t.g,i=t.b,o=(s=t.a)<1?c(n(255*s)):"","#"+c(e)+c(r)+c(i)+o;var t,e,r,i,s,o},t.prototype.toRgb=function(){return u(this.rgba)},t.prototype.toRgbString=function(){return e=(t=u(this.rgba)).r,r=t.g,i=t.b,(n=t.a)<1?"rgba("+e+", "+r+", "+i+", "+n+")":"rgb("+e+", "+r+", "+i+")";var t,e,r,i,n},t.prototype.toHsl=function(){return f(y(this.rgba))},t.prototype.toHslString=function(){return e=(t=f(y(this.rgba))).h,r=t.s,i=t.l,(n=t.a)<1?"hsla("+e+", "+r+"%, "+i+"%, "+n+")":"hsl("+e+", "+r+"%, "+i+"%)";var t,e,r,i,n},t.prototype.toHsv=function(){return t=h(this.rgba),{h:n(t.h),s:n(t.s),v:n(t.v),a:n(t.a,3)};var t},t.prototype.invert=function(){return O({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},t.prototype.saturate=function(t){return void 0===t&&(t=.1),O(S(this.rgba,t))},t.prototype.desaturate=function(t){return void 0===t&&(t=.1),O(S(this.rgba,-t))},t.prototype.grayscale=function(){return O(S(this.rgba,-1))},t.prototype.lighten=function(t){return void 0===t&&(t=.1),O(w(this.rgba,t))},t.prototype.darken=function(t){return void 0===t&&(t=.1),O(w(this.rgba,-t))},t.prototype.rotate=function(t){return void 0===t&&(t=15),this.hue(this.hue()+t)},t.prototype.alpha=function(t){return"number"==typeof t?O({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):n(this.rgba.a,3);var e},t.prototype.hue=function(t){var e=y(this.rgba);return"number"==typeof t?O({h:t,s:e.s,l:e.l,a:e.a}):n(e.h)},t.prototype.isEqual=function(t){return this.toHex()===O(t).toHex()},t}(),O=function(t){return t instanceof P?t:new P(t)},M=[];e.Colord=P,e.colord=O,e.extend=function(t){t.forEach((function(t){M.indexOf(t)<0&&(t(P,x),M.push(t))}))},e.getFormat=function(t){return E(t)[1]},e.random=function(){return new P({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},12121:t=>{t.exports=function(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in r)i[r[n]]=n;var s={};t.prototype.toName=function(e){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var n,o,a=i[this.toHex()];if(a)return a;if(null==e?void 0:e.closest){var u=this.toRgb(),l=1/0,c="black";if(!s.length)for(var h in r)s[h]=new t(r[h]).toRgb();for(var d in r){var p=(n=u,o=s[d],Math.pow(n.r-o.r,2)+Math.pow(n.g-o.g,2)+Math.pow(n.b-o.b,2));p<l&&(l=p,c=d)}return c}},e.string.push([function(e){var i=e.toLowerCase(),n="transparent"===i?"#0000":r[i];return n?new t(n).toRgb():null},"name"])}},9187:t=>{"use strict";function e(t,e,i){i=i||2;var s,o,a,u,h,d,f,_=e&&e.length,y=_?e[0]*i:t.length,m=r(t,0,y,i,!0),g=[];if(!m||m.next===m.prev)return g;if(_&&(m=function(t,e,i,n){var s,o,a,u=[];for(s=0,o=e.length;s<o;s++)(a=r(t,e[s]*n,s<o-1?e[s+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),u.push(p(a));for(u.sort(l),s=0;s<u.length;s++)i=c(u[s],i);return i}(t,e,m,i)),t.length>80*i){s=a=t[0],o=u=t[1];for(var v=i;v<y;v+=i)(h=t[v])<s&&(s=h),(d=t[v+1])<o&&(o=d),h>a&&(a=h),d>u&&(u=d);f=0!==(f=Math.max(a-s,u-o))?32767/f:0}return n(m,g,i,s,o,f,0),g}function r(t,e,r,i,n){var s,o;if(n===w(t,e,r,i)>0)for(s=e;s<r;s+=i)o=E(s,t[s],t[s+1],o);else for(s=r-i;s>=e;s-=i)o=E(s,t[s],t[s+1],o);return o&&m(o,o.next)&&(S(o),o=o.next),o}function i(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!m(i,i.next)&&0!==y(i.prev,i,i.next))i=i.next;else{if(S(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function n(t,e,r,l,c,h,p){if(t){!p&&h&&function(t,e,r,i){var n=t;do{0===n.z&&(n.z=d(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,s,o,a,u,l=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,i=r,a=0,e=0;e<l&&(a++,i=i.nextZ);e++);for(u=l;a>0||u>0&&i;)0!==a&&(0===u||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,u--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;r=i}s.nextZ=null,l*=2}while(o>1)}(n)}(t,l,c,h);for(var f,_,y=t;t.prev!==t.next;)if(f=t.prev,_=t.next,h?o(t,l,c,h):s(t))e.push(f.i/r|0),e.push(t.i/r|0),e.push(_.i/r|0),S(t),t=_.next,y=_.next;else if((t=_)===y){p?1===p?n(t=a(i(t),e,r),e,r,l,c,h,2):2===p&&u(t,e,r,l,c,h):n(i(t),e,r,l,c,h,1);break}}}function s(t){var e=t.prev,r=t,i=t.next;if(y(e,r,i)>=0)return!1;for(var n=e.x,s=r.x,o=i.x,a=e.y,u=r.y,l=i.y,c=n<s?n<o?n:o:s<o?s:o,h=a<u?a<l?a:l:u<l?u:l,d=n>s?n>o?n:o:s>o?s:o,p=a>u?a>l?a:l:u>l?u:l,_=i.next;_!==e;){if(_.x>=c&&_.x<=d&&_.y>=h&&_.y<=p&&f(n,a,s,u,o,l,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function o(t,e,r,i){var n=t.prev,s=t,o=t.next;if(y(n,s,o)>=0)return!1;for(var a=n.x,u=s.x,l=o.x,c=n.y,h=s.y,p=o.y,_=a<u?a<l?a:l:u<l?u:l,m=c<h?c<p?c:p:h<p?h:p,g=a>u?a>l?a:l:u>l?u:l,v=c>h?c>p?c:p:h>p?h:p,b=d(_,m,e,r,i),x=d(g,v,e,r,i),T=t.prevZ,E=t.nextZ;T&&T.z>=b&&E&&E.z<=x;){if(T.x>=_&&T.x<=g&&T.y>=m&&T.y<=v&&T!==n&&T!==o&&f(a,c,u,h,l,p,T.x,T.y)&&y(T.prev,T,T.next)>=0)return!1;if(T=T.prevZ,E.x>=_&&E.x<=g&&E.y>=m&&E.y<=v&&E!==n&&E!==o&&f(a,c,u,h,l,p,E.x,E.y)&&y(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;T&&T.z>=b;){if(T.x>=_&&T.x<=g&&T.y>=m&&T.y<=v&&T!==n&&T!==o&&f(a,c,u,h,l,p,T.x,T.y)&&y(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;E&&E.z<=x;){if(E.x>=_&&E.x<=g&&E.y>=m&&E.y<=v&&E!==n&&E!==o&&f(a,c,u,h,l,p,E.x,E.y)&&y(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function a(t,e,r){var n=t;do{var s=n.prev,o=n.next.next;!m(s,o)&&g(s,n,n.next,o)&&x(s,o)&&x(o,s)&&(e.push(s.i/r|0),e.push(n.i/r|0),e.push(o.i/r|0),S(n),S(n.next),n=t=o),n=n.next}while(n!==t);return i(n)}function u(t,e,r,s,o,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&_(u,l)){var c=T(u,l);return u=i(u,u.next),c=i(c,c.next),n(u,e,r,s,o,a,0),void n(c,e,r,s,o,a,0)}l=l.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function c(t,e){var r=function(t,e){var r,i=e,n=t.x,s=t.y,o=-1/0;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){var a=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>o&&(o=a,r=i.x<i.next.x?i:i.next,a===n))return r}i=i.next}while(i!==e);if(!r)return null;var u,l=r,c=r.x,d=r.y,p=1/0;i=r;do{n>=i.x&&i.x>=c&&n!==i.x&&f(s<d?n:o,s,c,d,s<d?o:n,s,i.x,i.y)&&(u=Math.abs(s-i.y)/(n-i.x),x(i,t)&&(u<p||u===p&&(i.x>r.x||i.x===r.x&&h(r,i)))&&(r=i,p=u)),i=i.next}while(i!==l);return r}(t,e);if(!r)return e;var n=T(r,t);return i(n,n.next),i(r,r.next)}function h(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function d(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function f(t,e,r,i,n,s,o,a){return(n-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(n-o)*(i-a)}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&g(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(x(t,e)&&x(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||m(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function g(t,e,r,i){var n=b(y(t,e,r)),s=b(y(t,e,i)),o=b(y(r,i,t)),a=b(y(r,i,e));return n!==s&&o!==a||(!(0!==n||!v(t,r,e))||(!(0!==s||!v(t,i,e))||(!(0!==o||!v(r,t,i))||!(0!==a||!v(r,e,i)))))}function v(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function b(t){return t>0?1:t<0?-1:0}function x(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function T(t,e){var r=new A(t.i,t.x,t.y),i=new A(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function E(t,e,r,i){var n=new A(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function w(t,e,r,i){for(var n=0,s=e,o=r-i;s<r;s+=i)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,i){var n=e&&e.length,s=n?e[0]*r:t.length,o=Math.abs(w(t,0,s,r));if(n)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,c=a<u-1?e[a+1]*r:t.length;o-=Math.abs(w(t,l,c,r))}var h=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;h+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[n][s][o]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},26729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,i,s,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,s||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=new Array(s);n<s;n++)o[n]=i[n].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,n,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,n),!0;case 5:return c.fn.call(c.context,e,i,n,s),!0;case 6:return c.fn.call(c.context,e,i,n,s,o),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,i);break;case 4:c[l].fn.call(c[l].context,e,i,n);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,i,n){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||o(this,s);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||n&&!a[u].once||i&&a[u].context!==i)&&l.push(a[u]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},6052:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/72230a4fbfeb049cba0ea6c88789d947.png"},85937:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/0ad14c5a65d81d70ae8411f2b18e796b.png"},72396:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/c803f8aae3641e1dccd7cd2788245033.png"},3756:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/5a214d178ddadb84be17df5d2d90cfcd.png"},88083:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d973ca53ee246b636d595fe36f377056.png"},82040:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/2bc478f17efce5e3d17e43a8a3670569.png"},98452:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/6432382fa9f0effb76119dd8184b6fa4.png"},22291:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/078715d977cca324039f5736113c19e7.png"},3118:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/87fb73239c9ef0ccf4334479d923df05.png"},10598:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/1814e65fe68d7961ba8ecb4f1a7c7d11.png"},19624:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/515a0b487062ea933888b7e65a3d862d.png"},36769:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d21dce65c36c7af737f2e300543e0095.png"},22563:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/fb60c7ca022e61e1b4c6c96493d72547.png"},30736:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/4e92f7ba3b4bc43ad40b873010d55893.png"},87667:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/c3769931704a3f24be4ef49a3ebd5281.png"},58133:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/71e2bbc3126f969ea53c43c295445278.png"},36027:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/7f73a8f3fa8e01f654ba8c66f729085b.png"},49800:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/371c641933449bad74df33ec526d8526.png"},98791:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/c1b080dabc42ed2a534ecad884993345.png"},72577:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/49f6193b59e73a1f0c76f07e58d2e5e7.png"},8735:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/4b6661fafbdd19ea28f154b36a661a38.png"},38212:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/54c795543a4801f8cf2dae17749075da.png"},87375:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/f441a38e2e0069d7d8d7c33e6a98de1a.png"},18416:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/1132c6efe9f78abddcf110461ebad911.png"},90708:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/c69b823effdca1a4de74b4b506abebe3.png"},40870:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/ad03156090785e889b77ee4290986872.png"},85298:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/e63aee75ab4a51f56ce7ec09d393925b.png"},66415:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/75a34f59be6b30c3bc8c55936c80cdb3.png"},58449:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/1955bef6758ced64710d5303141b7004.png"},73897:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d9889ac88fef42a1d6fd59822fe4f5b9.png"},82853:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/fa90e42992c693ba13f1fefa0c5754ae.png"},88723:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a854e71a2f34f1bad98fd6a5b9cc395a.png"},63044:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/fcf1b55de00445327defe485db1e5964.png"},29458:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/2d811464f70d0b1f1503beed307bdf32.png"},28615:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/f9a78b3a2d1f82a827cf62b8fbf21387.png"},30826:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/9e65ce54f6ca64f24315796ce0c39593.png"},66935:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/69b44c294de7f2eb3231421be75765f4.png"},95586:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a3caf2f1e954eca5653070b7e2deff74.png"},77620:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/1ff63779201f08c794d707b0f1b1670a.png"},3516:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/6e4022bacfcd98475cd9091bb89f029e.png"},44110:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/be4bbd0c6abd39f5ffe7f52d4139f679.png"},93789:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/497d75fd2bcbd34269dcf699194d9d81.png"},19203:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/65650944e56d195b14463004bb96a27c.png"},59760:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/251941b62351cddec8bae23cb7b1a29e.png"},52851:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/ea1b4f4fa30fc5f2399d0476d175d5fc.png"},79535:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/5e42f1c0caf8f018cd0752d8cf11a2c1.png"},56107:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/0bdc77410ba6d989e4055a0c84f439aa.png"},75908:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/edcc2aaaf3c63e6dd74a7df5c5c623cd.png"},35611:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a345c27fc6e342304bbd911b89a15ff0.png"},3289:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/7ae870caae4025b8243f54ca59eaffb7.png"},40311:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/cfe2d26eda886fb0c28ac3deab924f71.png"},60582:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/443d6a0e82a0d3341d0c1fcf85c4767c.png"},13401:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/bfe070abce85048980b3a6464775b5eb.png"},35960:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/8d63548ea0c08ab2206e5a382c5410cf.png"},30522:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/abb1dc24626b15c342a348adbbb72e0c.png"},70620:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/b6573eeb512147f161d53738629be642.png"},9933:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/f5cc3f7355e732fe24802ebc3e62d31d.png"},50197:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/bdd41829e8ea26ea0f45fd31d17c9cf3.png"},89534:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/1c0e9e3070173584f36590f3bfe55b6f.png"},30714:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/8d62d6f9ac2fc967f26f2ef8bc24a664.jpg"},34282:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/3765774f18cc55610fa01fdcd820521d.png"},51526:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/543a8e9bb84a0878ccaac0fb8f4b953a.png"},75017:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/cdafa24443ed228c46d23762180b8a0d.png"},10770:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/0efb2f5b6dd5f0ce60f956db1c417281.png"},29310:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/30faca0d4b06848e954617d1ba02a7f1.png"},63423:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a525c197cd8881c3487908990d1ac50d.png"},19655:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a60a8960f8116ecd0dd22aeafd6800b9.png"},67726:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/5b2b726229d82a77339a5223a06d35c8.png"},70189:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/169760f78eb2f0b181ccd5a644064ae5.png"},4496:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/ebc27e5630b75bbac2ca6480a8be8d99.png"},931:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/33338607b4e6ffde480f25545eb2b129.png"},93330:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/274aaec420827de49e7a8beff7e7aed3.png"},14565:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d8b546c6f0be93045f705fbdf1a26fcf.png"},41829:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/bf838fd154fc7f3939a407346396883a.png"},55341:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/6328d86bac315c2d678c0e3b669b81b8.png"},38663:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/b44d4dab60da73915617c13207c3cad1.png"},68204:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/4de7a2c5db3298e7ae3b15a64c695f19.png"},52500:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/9eb80069329f7aafef80a4c6067a7f8e.png"},98615:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/01ad974826b2bafd0f7f943ab8a35c3c.png"},25852:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/95f49db37b744d2db89765f2d1751f03.png"},89415:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d369e246366fed083319094e3ce8f0e4.png"},77918:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/cddc562441581b50a883c5aaf2348ca7.png"},33482:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/dba3a8c441e8ffc1bf79f72ba9bf29c2.png"},8111:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d4d3aeb2dc04a76c09b9e7ca1e9aa58f.png"},21217:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/208b26598ce133738029f861b07ee21c.png"},78203:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/c5369a3cb3369cf36b287027460f7a9b.png"},53241:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/bd34e35164eb003f853e5c7437ec03a1.png"},70108:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/6be808db578fa56330652f00308f2885.png"},10753:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/80f054d476fd9faa019db7b54f3f6ee0.png"},49337:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/fac622990c14005b1512c7862405dce7.png"},4077:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/2a18227da8ea02570e859d7afc2b8805.png"},71160:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/95c31866225a781104f5c1b22092843f.png"},81558:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d3011d5a4fa4baa79b412d354d77b464.png"},38657:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/081c7d4b14cf88cca0f8550a16ea4938.png"},37761:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/23cc7fd22e57908ff2d9717343532dd4.png"},21045:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d8ca9bbdc332944227eae968a604b948.png"},68221:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a52c379a87ca07a834b244b6ae9c87f8.png"},14586:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/51a7d75cc3a73fcd83a40391a3d0a480.png"},97242:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/deb14f967917e4c5ebd8ae8bf3873b83.png"},30125:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/13b830f69c4263b22fc86c398788d6a1.png"},92541:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/fd229e2484c34638ba966703f4935282.png"},3192:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/c23fa2d1ff9fdbd9a96f3b45deeea4a1.png"},71018:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/4687fcc611bc69ac0119c1c751227bfb.png"},64362:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/cc7f9756afefa3d3f877ed192fbc2447.png"},16780:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/f1dc1e528bab0882f6a31692a50474bf.png"},86883:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/9c645f06a9bd036131302e83064eb125.png"},96970:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d47deabbe0f4184a2d633c4afc4d1981.png"},71628:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/926da1aeda70be8a97a6303c421c049a.png"},92667:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/8d4f2be553b08a7d652af7d4131d9b57.png"},438:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/c91abcb27874dc2fb6d00b0aba2b28e9.png"},81479:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/e3421940a6ccbcf6d39ea1754f20686b.png"},41369:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/0b308c2a6c43ae502ad209847f97879d.png"},96198:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/8dd80da5b5f204ecc385cd55a9388d6f.png"},71919:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a73cc4e35b7b5ded60f18b07c84d268e.png"},40846:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a659c67d6c0be11ac88cbd06bd4572a5.png"},34704:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/5bec168245c3af349f18feb402b46c04.png"},48346:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/3dc021341b1c6f5c8fcacb11f12cf914.png"},97330:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/2692bbc8e454d73d3b19ebd134ec65b0.png"},9102:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/422f36afedcfbd8002e170d6b604f352.png"},84613:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/7231c575c77f4b95c41c10f48ab8fea8.png"},89053:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/dba120898654748d1ec3bea9bb2c21a6.png"},14136:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/60e8decf1d1ce16c6fefaa4246d1d5b3.png"},45264:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/dd4918e8c93bae17e0aad983421f5b6b.png"},18082:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/505be35020f4f2f37c527d0c3dc7d88f.png"},6669:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/aea476e1f4cdda0f5c98c13493d1486b.png"},39486:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/edde41aff4397d0d2590e675a75f8b72.png"},21187:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/60d4829e40965536ebd59925de53ee5c.png"},44968:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/5fea3599f1cf55516998486c0e952a72.png"},80325:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/c83896ca26ee44c6ddd894a376a57030.png"},21840:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/e0415420f0961ce3fd8bf68767e898a5.png"},66423:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/4c27ac88f293cc18e118429cab46ddd3.png"},14252:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/6ad2fe13b2d9109e9838f772375e441a.png"},89794:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/51fbdf5a09c2b926385de2d5eaa6f8be.png"},2310:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/139898b4dab8041e9aff078df31d2ed5.png"},52129:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/ccae4a9f644f0d7e2e587520546dad88.png"},29360:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/b05b347be8add2765c0f603cfe6f3504.png"},58978:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/e61e191fe28565c4470218907cbf6cb8.png"},95544:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/40e735ebc1c678d316d3872b84fb0ded.png"},20813:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/ded1d3b5f21a5f57e6748994d9cab076.png"},52104:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/000fd98992c56343858eff22eb7bdbeb.png"},11247:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/f69b1d3fbefd9964813cf87277819dfa.png"},61968:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/9696b28fb4b3a8714b577fc18f27496f.png"},70994:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/92779429606295ca007a441d81636cf2.png"},392:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/234fc384e02b3029ea46b5e0613b7b18.png"},77871:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/93945039a47e9630a81e4cba97313fb7.png"},56387:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/71d1d222071ca2ffcc9bb831c9f5159b.png"},71680:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a00d5f3d013af351ab69d566db1141b1.png"},40062:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/0e28c2a82d688f157707c69fd6217aad.png"},8300:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/2edadf312c6861e35949678cdd0e1553.png"},58163:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/c9a47cae57f255fae23fa1e909d790eb.png"},91123:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/7b6aeb08c972bc32b1a3f9680ce95056.png"},33643:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/73bebf5e1d55000da236b26fd6e5ecfd.png"},66812:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/f6edd9da5df092bbb3a495246e601afe.png"},55668:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/48137ffa54b5beef8dbba4fdc6429239.png"},82288:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/80b697ce3dec125cd5f43c4361972a21.png"},10099:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/cc6f4d42791d9afd5bf6aee1a7140185.png"},83833:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/503ff3b4525b8e181c55e9220183e259.png"},68195:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/1d269d01c153c88570bb0906990f2559.png"},61208:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/1e718b4ef044a78e9209acb195985fd6.png"},21681:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a2a83bca8b684b03b1c9a9fac793779f.png"},30039:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/685742885578f4f2cc31cdce4b68cc38.png"},86415:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/8557e6b06a012f5345aa707c9870b872.png"},66533:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/9bec24c1dd744601c696f5599e16264e.png"},5559:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a3600a2321efde179c2a69d07040adf8.png"},45852:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/cb534b1ae5b613eb4c11716bf04139ad.png"},79239:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/9db0885b7dc6fa30ba74af7d9ec38ae3.png"},30456:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/65fef0fc3069eea667d39a2e4fd648a8.png"},86832:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/1182a0cb8e6adef46e4e51f7bba8d29b.png"},73434:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/f22f601dc414ae2c1abbd63c68d6607a.png"},96529:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/6aa935f357730f5209c0bcb50da76db8.png"},68503:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/fac9f798f8457261c7a7260edd3aa376.png"},72001:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/110bda7da01ea1f1d99c2a8c0471cf59.png"},72543:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/923e1675fbf11004515fc0bdd6c3024d.png"},94428:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/efcc23e6c77d89b4dbc056a2259e2b44.png"},50178:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/0de9081b45907e1a4ccedc6524b92a9a.png"},87103:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d9b3646c1a7fb890c150e0fe28dde240.png"},81047:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/f26c6f6dade9d06957ab53197058bf25.png"},66774:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/7d0673e22fc43b9a89058f6e5f9c208a.png"},85824:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/ca3c981b50696838649fd4d88e5062b9.png"},20744:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/6f44f212b7de72013f57370b9cd81d0a.png"},29345:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/26e2c7b5a8f171aa426e4e6734c0fc19.png"},77845:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/7993ea2dc05bfccbd0b8597dc4391d7d.png"},3284:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/4fefbdb8ebf4bd8acfdfa5f24fb91761.png"},87369:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/819c59fda7e17760914f03f15f9104dd.png"},81891:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/c9f24ec96f1a456f3473b751ce3fa2f2.png"},48537:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/452309b79d6992718c5b89aa85051565.png"},71820:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/b89c32a32766ad13b3f44b0965343e8a.png"},82775:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/59babaf8a11097d51cb2e559ac0e925d.png"},35910:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/fb786443c9ad8d11153eb7fe39f9eb30.png"},95391:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/87de09227ee4394c6d9ec1c16055e0e0.png"},40169:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/70dcc7c20b689090f7e2f6ec11f8e442.png"},79328:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/6fabc34d88ea282b8c30dce1ceafd0c7.png"},97426:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/d21aa069efe002ac11604854c34ad86c.png"},67935:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/b2a87b5d1d79ba0b84f5428091c45a20.png"},66734:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/1e187491b3835ff7a7a77214c74b8383.png"},97921:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/8b93f34941a5dc831b22ccc282b899be.png"},46074:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/97f6ad2ebf2b231dcee0d24a4b05c160.png"},21288:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/e045dc044a5bc105e822a784b1ac13f4.png"},75819:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/47b68f668602f53523ff994095423cd2.png"},47297:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/ab023bffa2865faa4e9df49d13d0d9b9.png"},83703:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a3d99e736efdb3f46b062824a7f71da5.png"},58673:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/041af9e18cdc0b51c8604bec3f3b2cef.png"},35219:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/761e3d574d40a96549818112da5ca379.png"},95874:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/b998e11d84eafc291c8bb449ade5091a.png"},14567:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/33bd521d899f974b7879306d01afa597.png"},14641:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/3118dccee5ec1a2e9fa10f018d0c5301.png"},82754:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/37a4ee7c980b88aa12a7eac823bc57b8.png"},99209:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/af19bd10bdd2a9787de5313917e4be9a.png"},32619:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/5a8e12f6380642f5ded0bd879c02dcc7.png"},93745:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/cae359141180ebebeadd257be3b3d4be.png"},32805:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/9cc8e13336a935381116d60f5e0153ea.png"},58680:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/6e1e3e63be656680ae091a462b5eb54d.png"},17794:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/ae32f0eadf73e3aa59824971d7c2b080.png"},13528:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/35b2e0c3954b57dcc63a2882dd84d8ff.png"},14408:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/0a44743923f83e6e0d7012a93997af8a.png"},54650:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/6ff69d6fedb81b9137f6437b6dc13b5d.png"},11365:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/84a7593de257a84a4dbce7be8c8712fc.png"},81405:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/5df63a1b3a57f4cdfc34afb061b0ab00.png"},1366:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/ad6819273f26e2a750b813676908b53e.png"},54476:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/caa8e8ef58737e966c089ab7a9e68930.png"},70160:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/54273d93461b107877287a3f649c5164.png"},87358:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/77a612d812eff67b1c50239711d6da0d.png"},93268:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/a8a5a99220e50e097b861ecc2c7d1ec9.png"},54213:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"images/53574536bfe8cf127cb742c5bfbde044.png"},22876:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"sounds/5d70601a1f7cb69e52a0a575e82e36fc.mp3"},20970:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"sounds/eab6c1a00838f412beb703653fb30cba.mp3"},34625:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"sounds/15ec969136f2bafe7f6b8a65a9afa240.mp3"},42642:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"sounds/f9849804ae9f746426b04c6b838de206.mp3"},39748:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"sounds/b54cfd9822a1283aa4f79e97b5b94b01.mp3"},14086:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"sounds/5b0b6b5da197e00a0a7d9c5a7c6b32a7.mp3"},10157:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i=r.p+"sounds/17af766190ee8518a32264bcca2c751f.mp3"},17648:t=>{"use strict";var e=Array.prototype.slice,r=Object.prototype.toString;t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==r.call(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var n,s=e.call(arguments,1),o=Math.max(0,i.length-s.length),a=[],u=0;u<o;u++)a.push("$"+u);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var r=i.apply(this,s.concat(e.call(arguments)));return Object(r)===r?r:this}return i.apply(t,s.concat(e.call(arguments)))})),i.prototype){var l=function(){};l.prototype=i.prototype,n.prototype=new l,l.prototype=null}return n}},58612:(t,e,r)=>{"use strict";var i=r(17648);t.exports=Function.prototype.bind||i},40210:(t,e,r)=>{"use strict";var i,n=SyntaxError,s=Function,o=TypeError,a=function(t){try{return s('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var l=function(){throw new o},c=u?function(){try{return l}catch(t){try{return u(arguments,"callee").get}catch(t){return l}}}():l,h=r(41405)(),d=r(28185)(),p=Object.getPrototypeOf||(d?function(t){return t.__proto__}:null),f={},_="undefined"!=typeof Uint8Array&&p?p(Uint8Array):i,y={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":h&&p?p([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h&&p?p(p([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h&&p?p((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h&&p?p((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h&&p?p(""[Symbol.iterator]()):i,"%Symbol%":h?Symbol:i,"%SyntaxError%":n,"%ThrowTypeError%":c,"%TypedArray%":_,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(p)try{null.error}catch(t){var m=p(p(t));y["%Error.prototype%"]=m}var g=function t(e){var r;if("%AsyncFunction%"===e)r=a("async function () {}");else if("%GeneratorFunction%"===e)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=a("async function* () {}");else if("%AsyncGenerator%"===e){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if("%AsyncIteratorPrototype%"===e){var n=t("%AsyncGenerator%");n&&p&&(r=p(n.prototype))}return y[e]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(58612),x=r(17642),T=b.call(Function.call,Array.prototype.concat),E=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),A=b.call(Function.call,String.prototype.slice),w=b.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,M=function(t,e){var r,i=t;if(x(v,i)&&(i="%"+(r=v[i])[0]+"%"),x(y,i)){var s=y[i];if(s===f&&(s=g(i)),void 0===s&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:s}}throw new n("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');if(null===w(/^%?[^%]*%?$/,t))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=A(t,0,1),r=A(t,-1);if("%"===e&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return S(t,P,(function(t,e,r,n){i[i.length]=r?S(n,O,"$1"):e||t})),i}(t),i=r.length>0?r[0]:"",s=M("%"+i+"%",e),a=s.name,l=s.value,c=!1,h=s.alias;h&&(i=h[0],E(r,T([0,1],h)));for(var d=1,p=!0;d<r.length;d+=1){var f=r[d],_=A(f,0,1),m=A(f,-1);if(('"'===_||"'"===_||"`"===_||'"'===m||"'"===m||"`"===m)&&_!==m)throw new n("property names with quotes must have matching quotes");if("constructor"!==f&&p||(c=!0),x(y,a="%"+(i+="."+f)+"%"))l=y[a];else if(null!=l){if(!(f in l)){if(!e)throw new o("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var g=u(l,f);l=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[f]}else p=x(l,f),l=l[f];p&&!c&&(y[a]=l)}}return l}},28185:t=>{"use strict";var e={foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof r)}},41405:(t,e,r)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,n=r(55419);t.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&n())))}},55419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(t,e);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},17642:(t,e,r)=>{"use strict";var i=r(58612);t.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},90891:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>v});var i=/iPhone/i,n=/iPod/i,s=/iPad/i,o=/\biOS-universal(?:.+)Mac\b/i,a=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,l=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,h=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,f=/BB10/i,_=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,m=/Mobile(?:.+)Firefox\b/i,g=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};function v(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,v=r.split("[FBAN");void 0!==v[1]&&(r=v[0]),void 0!==(v=r.split("Twitter"))[1]&&(r=v[0]);var b=function(t){return function(e){return e.test(t)}}(r),x={apple:{phone:b(i)&&!b(h),ipod:b(n),tablet:!b(i)&&(b(s)||g(e))&&!b(h),universal:b(o),device:(b(i)||b(n)||b(s)||b(o)||g(e))&&!b(h)},amazon:{phone:b(l),tablet:!b(l)&&b(c),device:b(l)||b(c)},android:{phone:!b(h)&&b(l)||!b(h)&&b(a),tablet:!b(h)&&!b(l)&&!b(a)&&(b(c)||b(u)),device:!b(h)&&(b(l)||b(c)||b(a)||b(u))||b(/\bokhttp\b/i)},windows:{phone:b(h),tablet:b(d),device:b(h)||b(d)},other:{blackberry:b(p),blackberry10:b(f),opera:b(_),firefox:b(m),chrome:b(y),device:b(p)||b(f)||b(_)||b(m)||b(y)},any:!1,phone:!1,tablet:!1};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x}},39873:(t,e,r)=>{"use strict";r.r(e)},93376:(t,e,r)=>{"use strict";r.r(e)},70631:(t,e,r)=>{var i="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=i&&n&&"function"==typeof n.get?n.get:null,o=i&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=a&&u&&"function"==typeof u.get?u.get:null,c=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,_=Object.prototype.toString,y=Function.prototype.toString,m=String.prototype.match,g=String.prototype.slice,v=String.prototype.replace,b=String.prototype.toUpperCase,x=String.prototype.toLowerCase,T=RegExp.prototype.test,E=Array.prototype.concat,S=Array.prototype.join,A=Array.prototype.slice,w=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"==typeof Symbol&&"object"==typeof Symbol.iterator,C="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===I||"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function B(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||T.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var i=t<0?-w(-t):w(t);if(i!==t){var n=String(i),s=g.call(e,n.length+1);return v.call(n,r,"$&_")+"."+v.call(v.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(e,r,"$&_")}var L=r(24654),F=L.custom,k=H(F)?F:null;function N(t,e,r){var i="double"===(r.quoteStyle||e)?'"':"'";return i+t+i}function j(t){return v.call(String(t),/"/g,"&quot;")}function U(t){return!("[object Array]"!==z(t)||C&&"object"==typeof t&&C in t)}function G(t){return!("[object RegExp]"!==z(t)||C&&"object"==typeof t&&C in t)}function H(t){if(I)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!M)return!1;try{return M.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,i,n){var a=r||{};if(W(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!W(a,"customInspect")||a.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=a.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return Y(e,a);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var b=String(e);return _?B(e,b):b}if("bigint"==typeof e){var T=String(e)+"n";return _?B(e,T):T}var w=void 0===a.depth?5:a.depth;if(void 0===i&&(i=0),i>=w&&w>0&&"object"==typeof e)return U(e)?"[Array]":"[Object]";var O=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=S.call(Array(t.indent+1)," ")}return{base:r,prev:S.call(Array(e+1),r)}}(a,i);if(void 0===n)n=[];else if(X(n,e)>=0)return"[Circular]";function F(e,r,s){if(r&&(n=A.call(n)).push(r),s){var o={depth:a.depth};return W(a,"quoteStyle")&&(o.quoteStyle=a.quoteStyle),t(e,o,i+1,n)}return t(e,a,i+1,n)}if("function"==typeof e&&!G(e)){var V=function(t){if(t.name)return t.name;var e=m.call(y.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),$=Z(e,F);return"[Function"+(V?": "+V:" (anonymous)")+"]"+($.length>0?" { "+S.call($,", ")+" }":"")}if(H(e)){var tt=I?v.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):M.call(e);return"object"!=typeof e||I?tt:q(tt)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var et="<"+x.call(String(e.nodeName)),rt=e.attributes||[],it=0;it<rt.length;it++)et+=" "+rt[it].name+"="+N(j(rt[it].value),"double",a);return et+=">",e.childNodes&&e.childNodes.length&&(et+="..."),et+="</"+x.call(String(e.nodeName))+">"}if(U(e)){if(0===e.length)return"[]";var nt=Z(e,F);return O&&!function(t){for(var e=0;e<t.length;e++)if(X(t[e],"\n")>=0)return!1;return!0}(nt)?"["+J(nt,O)+"]":"[ "+S.call(nt,", ")+" ]"}if(function(t){return!("[object Error]"!==z(t)||C&&"object"==typeof t&&C in t)}(e)){var st=Z(e,F);return"cause"in Error.prototype||!("cause"in e)||R.call(e,"cause")?0===st.length?"["+String(e)+"]":"{ ["+String(e)+"] "+S.call(st,", ")+" }":"{ ["+String(e)+"] "+S.call(E.call("[cause]: "+F(e.cause),st),", ")+" }"}if("object"==typeof e&&u){if(k&&"function"==typeof e[k]&&L)return L(e,{depth:w-i});if("symbol"!==u&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!s||!t||"object"!=typeof t)return!1;try{s.call(t);try{l.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var ot=[];return o&&o.call(e,(function(t,r){ot.push(F(r,e,!0)+" => "+F(t,e))})),Q("Map",s.call(e),ot,O)}if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t);try{s.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var at=[];return c&&c.call(e,(function(t){at.push(F(t,e))})),Q("Set",l.call(e),at,O)}if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{d.call(t,d)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return K("WeakMap");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t,d);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return K("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(t){}return!1}(e))return K("WeakRef");if(function(t){return!("[object Number]"!==z(t)||C&&"object"==typeof t&&C in t)}(e))return q(F(Number(e)));if(function(t){if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(t){}return!1}(e))return q(F(P.call(e)));if(function(t){return!("[object Boolean]"!==z(t)||C&&"object"==typeof t&&C in t)}(e))return q(f.call(e));if(function(t){return!("[object String]"!==z(t)||C&&"object"==typeof t&&C in t)}(e))return q(F(String(e)));if(!function(t){return!("[object Date]"!==z(t)||C&&"object"==typeof t&&C in t)}(e)&&!G(e)){var ut=Z(e,F),lt=D?D(e)===Object.prototype:e instanceof Object||e.constructor===Object,ct=e instanceof Object?"":"null prototype",ht=!lt&&C&&Object(e)===e&&C in e?g.call(z(e),8,-1):ct?"Object":"",dt=(lt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ht||ct?"["+S.call(E.call([],ht||[],ct||[]),": ")+"] ":"");return 0===ut.length?dt+"{}":O?dt+"{"+J(ut,O)+"}":dt+"{ "+S.call(ut,", ")+" }"}return String(e)};var V=Object.prototype.hasOwnProperty||function(t){return t in this};function W(t,e){return V.call(t,e)}function z(t){return _.call(t)}function X(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function Y(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return Y(g.call(t,0,e.maxStringLength),e)+i}return N(v.call(v.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$),"single",e)}function $(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+b.call(e.toString(16))}function q(t){return"Object("+t+")"}function K(t){return t+" { ? }"}function Q(t,e,r,i){return t+" ("+e+") {"+(i?J(r,i):S.call(r,", "))+"}"}function J(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+S.call(t,","+r)+"\n"+e.prev}function Z(t,e){var r=U(t),i=[];if(r){i.length=t.length;for(var n=0;n<t.length;n++)i[n]=W(t,n)?e(t[n],t):""}var s,o="function"==typeof O?O(t):[];if(I){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var u in t)W(t,u)&&(r&&String(Number(u))===u&&u<t.length||I&&s["$"+u]instanceof Symbol||(T.call(/[^\w$]/,u)?i.push(e(u,t)+": "+e(t[u],t)):i.push(u+": "+e(t[u],t))));if("function"==typeof O)for(var l=0;l<o.length;l++)R.call(t,o[l])&&i.push("["+e(o[l])+"]: "+e(t[o[l]],t));return i}},90741:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(48742),n=r(30370),s=r(23410),o=r(4920),a=r(31203),u=r(86194),l=r(38116);const c={AlphaFilter:n.AlphaFilter,BlurFilter:s.BlurFilter,BlurFilterPass:s.BlurFilterPass,ColorMatrixFilter:o.ColorMatrixFilter,DisplacementFilter:a.DisplacementFilter,FXAAFilter:u.FXAAFilter,NoiseFilter:l.NoiseFilter};Object.entries(c).forEach((([t,e])=>{Object.defineProperty(c,t,{get:()=>(i.utils.deprecation("7.1.0",`filters.${t} has moved to ${t}`),e)})})),e.filters=c},58687:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(88096),r(81939),r(25713);var i=r(90741),n=r(75649),s=r(21827),o=r(8415),a=r(63438),u=r(48742),l=r(27191),c=r(79743),h=r(46899),d=r(30370),p=r(23410),f=r(4920),_=r(31203),y=r(86194),m=r(38116),g=r(59296),v=r(21770),b=r(80261),x=r(76661),T=r(62785),E=r(6903),S=r(22693),A=r(87465),w=r(39432),P=r(66338),O=r(53485),M=r(17509);e.filters=i.filters,Object.keys(n).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),Object.keys(s).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})),Object.keys(o).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})),Object.keys(a).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})),Object.keys(u).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})})),Object.keys(l).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})})),Object.keys(c).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})})),Object.keys(h).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})})),Object.keys(d).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})})),Object.keys(p).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})})),Object.keys(f).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})})),Object.keys(_).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return _[t]}})})),Object.keys(y).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})})),Object.keys(m).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}})})),Object.keys(g).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})})),Object.keys(v).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})})),Object.keys(b).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}})})),Object.keys(x).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return x[t]}})})),Object.keys(T).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return T[t]}})})),Object.keys(E).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return E[t]}})})),Object.keys(S).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return S[t]}})})),Object.keys(A).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return A[t]}})})),Object.keys(w).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return w[t]}})})),Object.keys(P).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return P[t]}})})),Object.keys(O).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return O[t]}})})),Object.keys(M).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return M[t]}})}))},55798:t=>{"use strict";var e=String.prototype.replace,r=/%20/g,i="RFC1738",n="RFC3986";t.exports={default:n,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:i,RFC3986:n}},80129:(t,e,r)=>{"use strict";var i=r(58261),n=r(55235),s=r(55798);t.exports={formats:s,parse:n,stringify:i}},55235:(t,e,r)=>{"use strict";var i=r(12769),n=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},u=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},l=function(t,e,r,i){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(s),l=a?s.slice(0,a.index):s,c=[];if(l){if(!r.plainObjects&&n.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var h=0;r.depth>0&&null!==(a=o.exec(s))&&h<r.depth;){if(h+=1,!r.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+s.slice(a.index)+"]"),function(t,e,r,i){for(var n=i?e:u(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if("[]"===a&&r.parseArrays)o=[].concat(n);else{o=r.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(l,10);r.parseArrays||""!==l?!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=n:"__proto__"!==l&&(o[l]=n):o={0:n}}n=o}return n}(c,e,r,i)}};t.exports=function(t,e){var r=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?o.charset:t.charset;return{allowDots:void 0===t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:o.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||i.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var r,l={__proto__:null},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,h=e.parameterLimit===1/0?void 0:e.parameterLimit,d=c.split(e.delimiter,h),p=-1,f=e.charset;if(e.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?f="utf-8":"utf8=%26%2310003%3B"===d[r]&&(f="iso-8859-1"),p=r,r=d.length);for(r=0;r<d.length;++r)if(r!==p){var _,y,m=d[r],g=m.indexOf("]="),v=-1===g?m.indexOf("="):g+1;-1===v?(_=e.decoder(m,o.decoder,f,"key"),y=e.strictNullHandling?null:""):(_=e.decoder(m.slice(0,v),o.decoder,f,"key"),y=i.maybeMap(u(m.slice(v+1),e),(function(t){return e.decoder(t,o.decoder,f,"value")}))),y&&e.interpretNumericEntities&&"iso-8859-1"===f&&(y=a(y)),m.indexOf("[]=")>-1&&(y=s(y)?[y]:y),n.call(l,_)?l[_]=i.combine(l[_],y):l[_]=y}return l}(t,r):t,h=r.plainObjects?Object.create(null):{},d=Object.keys(c),p=0;p<d.length;++p){var f=d[p],_=l(f,c[f],r,"string"==typeof t);h=i.merge(h,_,r)}return!0===r.allowSparse?h:i.compact(h)}},58261:(t,e,r)=>{"use strict";var i=r(37478),n=r(12769),s=r(55798),o=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},u=Array.isArray,l=Array.prototype.push,c=function(t,e){l.apply(t,u(e)?e:[e])},h=Date.prototype.toISOString,d=s.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:d,formatter:s.formatters[d],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},f={},_=function t(e,r,s,o,a,l,h,d,_,y,m,g,v,b,x,T){for(var E,S=e,A=T,w=0,P=!1;void 0!==(A=A.get(f))&&!P;){var O=A.get(e);if(w+=1,void 0!==O){if(O===w)throw new RangeError("Cyclic object value");P=!0}void 0===A.get(f)&&(w=0)}if("function"==typeof d?S=d(r,S):S instanceof Date?S=m(S):"comma"===s&&u(S)&&(S=n.maybeMap(S,(function(t){return t instanceof Date?m(t):t}))),null===S){if(a)return h&&!b?h(r,p.encoder,x,"key",g):r;S=""}if("string"==typeof(E=S)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||n.isBuffer(S))return h?[v(b?r:h(r,p.encoder,x,"key",g))+"="+v(h(S,p.encoder,x,"value",g))]:[v(r)+"="+v(String(S))];var M,I=[];if(void 0===S)return I;if("comma"===s&&u(S))b&&h&&(S=n.maybeMap(S,h)),M=[{value:S.length>0?S.join(",")||null:void 0}];else if(u(d))M=d;else{var C=Object.keys(S);M=_?C.sort(_):C}for(var R=o&&u(S)&&1===S.length?r+"[]":r,D=0;D<M.length;++D){var B=M[D],L="object"==typeof B&&void 0!==B.value?B.value:S[B];if(!l||null!==L){var F=u(S)?"function"==typeof s?s(R,B):R:R+(y?"."+B:"["+B+"]");T.set(e,w);var k=i();k.set(f,T),c(I,t(L,F,s,o,a,l,"comma"===s&&b&&u(S)?null:h,d,_,y,m,g,v,b,x,k))}}return I};t.exports=function(t,e){var r,n=t,l=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=s.default;if(void 0!==t.format){if(!o.call(s.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=s.formatters[r],n=p.filter;return("function"==typeof t.filter||u(t.filter))&&(n=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:n,format:r,formatter:i,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof l.filter?n=(0,l.filter)("",n):u(l.filter)&&(r=l.filter);var h,d=[];if("object"!=typeof n||null===n)return"";h=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var f=a[h];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var y="comma"===f&&e&&e.commaRoundTrip;r||(r=Object.keys(n)),l.sort&&r.sort(l.sort);for(var m=i(),g=0;g<r.length;++g){var v=r[g];l.skipNulls&&null===n[v]||c(d,_(n[v],v,f,y,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,m))}var b=d.join(l.delimiter),x=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},12769:(t,e,r)=>{"use strict";var i=r(55798),n=Object.prototype.hasOwnProperty,s=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(r[i]=t[i]);return r};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],i=0;i<e.length;++i)for(var n=e[i],o=n.obj[n.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],c=o[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(e.push({obj:o,prop:l}),r.push(c))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(s(r)){for(var i=[],n=0;n<r.length;++n)void 0!==r[n]&&i.push(r[n]);e.obj[e.prop]=i}}}(e),t},decode:function(t,e,r){var i=t.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(t){return i}},encode:function(t,e,r,n,s){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var u="",l=0;l<a.length;++l){var c=a.charCodeAt(l);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===i.RFC1738&&(40===c||41===c)?u+=a.charAt(l):c<128?u+=o[c]:c<2048?u+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?u+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(l+=1,c=65536+((1023&c)<<10|1023&a.charCodeAt(l)),u+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return u},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(s(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(e(t[i]));return r}return e(t)},merge:function t(e,r,i){if(!r)return e;if("object"!=typeof r){if(s(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(i&&(i.plainObjects||i.allowPrototypes)||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var o=e;return s(e)&&!s(r)&&(o=a(e,i)),s(e)&&s(r)?(r.forEach((function(r,s){if(n.call(e,s)){var o=e[s];o&&"object"==typeof o&&r&&"object"==typeof r?e[s]=t(o,r,i):e.push(r)}else e[s]=r})),e):Object.keys(r).reduce((function(e,s){var o=r[s];return n.call(e,s)?e[s]=t(e[s],o,i):e[s]=o,e}),o)}}},37478:(t,e,r)=>{"use strict";var i=r(40210),n=r(21924),s=r(70631),o=i("%TypeError%"),a=i("%WeakMap%",!0),u=i("%Map%",!0),l=n("WeakMap.prototype.get",!0),c=n("WeakMap.prototype.set",!0),h=n("WeakMap.prototype.has",!0),d=n("Map.prototype.get",!0),p=n("Map.prototype.set",!0),f=n("Map.prototype.has",!0),_=function(t,e){for(var r,i=t;null!==(r=i.next);i=r)if(r.key===e)return i.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,i={assert:function(t){if(!i.has(t))throw new o("Side channel does not contain "+s(t))},get:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(t)return l(t,i)}else if(u){if(e)return d(e,i)}else if(r)return function(t,e){var r=_(t,e);return r&&r.value}(r,i)},has:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(t)return h(t,i)}else if(u){if(e)return f(e,i)}else if(r)return function(t,e){return!!_(t,e)}(r,i);return!1},set:function(i,n){a&&i&&("object"==typeof i||"function"==typeof i)?(t||(t=new a),c(t,i,n)):u?(e||(e=new u),p(e,i,n)):(r||(r={key:{},next:null}),function(t,e,r){var i=_(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}}(r,i,n))}};return i}},85249:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;var s=function(t){function e(e,r,i){var n=t.call(this)||this;return n._element=e,n._key=r,n._config=i,n._enabled=void 0===n._config.enabled||n._config.enabled,n}return n(e,t),e.prototype.init=function(){this._init(),this._enabled&&this.enable()},e.prototype._init=function(){},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),e.prototype.enable=function(){this._onEnable(),this._enabled=!0},e.prototype.disable=function(){this._onDisable(),this._enabled=!1},e.prototype._onDisable=function(){},e.prototype._onEnable=function(){},e}(r(58687).utils.EventEmitter);e.Component=s},98930:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var s=r(58687),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._createNode=function(){this._node=new s.Container},e}(r(24340).LayoutElement);e.Container=o},48917:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Layout=void 0;var s=r(80299),o=function(t){function e(e){var r,i=s.App.config.layouts[e];return i.key=e,r=t.call(this,i)||this,s.App.screen.on("resize",r._onScreenResize,r),r}return n(e,t),e.prototype._onDestroy=function(){s.App.screen.off("resize",this._onScreenResize,this),s.App.screen.off("resize",this._setSystemStates,this),s.App.off("state",this._setSystemStates,this)},e.prototype._onScreenResize=function(){this.resetAttributes()},e.prototype._init=function(){this._setLayoutEvents(),this._setSystemStates()},e.prototype._setLayoutEvents=function(){s.App.screen.on("resize",this._setSystemStates,this),s.App.on("state",this._setSystemStates,this)},e.prototype._setSystemStates=function(){var t=window.Globals,e=[s.App.screen.position,s.App.screen.position.substring(0,3),s.App.screen.type,t.locale,t.platform];return s.App.scenes.current&&e.push(s.App.scenes.current.constructor.name),this.states.set(e),e},e}(r(98930).Container);e.Layout=o},24340:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&s(e,t,r);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElement=void 0;var u=function(t){function e(e){var r=t.call(this)||this;return r._children=new Map,r.forcedProperties={},r._setConfig(e),r._createNode(),r._createStates(),r._createAttributes(),r._createChildren(),r._createTweens(),r._createComponents(),r._setEvents(),r._init(),r._initComponents(),r}return n(e,t),Object.defineProperty(e.prototype,"root",{get:function(){for(var t,e=this._parent;e;)t=e,e=e.parent;return t||this},enumerable:!1,configurable:!0}),e.prototype.getContainedElements=function(t,e){var r=this;return void 0===e&&(e=[]),(t=t||this._children).forEach((function(t){e.push(t),r.getContainedElements(t.children,e)})),e},e.prototype._setEvents=function(){this.node.on("added",this.initAttributesRecursively,this)},e.prototype._onAdded=function(){},e.prototype.initAttributesRecursively=function(){this._onAdded(),this._attributes.init(),this._children.forEach((function(t){t.initAttributesRecursively()}))},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){this._parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._components},enumerable:!1,configurable:!0}),e.prototype._createComponents=function(){if(this._components={},this._config.components&&h.App.config.components)for(var t in this._config.components)h.App.config.components&&h.App.config.components[t]&&(this._components[t]=new h.App.config.components[t](this,t,this._config.components[t]))},e.prototype._initComponents=function(){for(var t in this._components)this._components[t].init()},e.prototype._init=function(){},e.prototype._createTweens=function(){this._tweens=new c.LayoutElementTweens(this)},Object.defineProperty(e.prototype,"attributes",{get:function(){return this._attributes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"states",{get:function(){return this._states},enumerable:!1,configurable:!0}),e.prototype.setInteractive=function(){this._node.interactive=!0},Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),e.prototype.addChild=function(t){this._node.addChild(t.node),this._children.set(t.key,t),t.parent=this,t.states.update()},e.prototype.removeChild=function(t){this._node.removeChild(t.node),this._children.delete(t.key),t.parent=null},Object.defineProperty(e.prototype,"x",{get:function(){return this._node.x},set:function(t){this.set("x",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._node.y},set:function(t){this.set("y",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._node.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._node.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tweens",{get:function(){return this._tweens},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._config.key},enumerable:!1,configurable:!0}),e.prototype.hide=function(){return this.set("visible",!1),this},e.prototype.show=function(){return this.set("visible",!0),this},e.prototype.child=function(t){if(-1!==t.indexOf(" ")){for(var e=this,r=0,i=t.split(" ");r<i.length;r++){var n=i[r];e=e.child(n)}return e}return this._children.get(t)},e.prototype._createChildren=function(){if(this._children=new Map,this._config.children)for(var t in this._config.children)this._createChild(t,this._config.children[t])},e.prototype._createChild=function(t,e){void 0===e.key&&(e.key=t);var r=l.LayoutElementsFactory.create(e);this._children.set(t,r),r.parent=this,r.config.parent&&h.App.scenes.current?h.App.scenes.current.layout?h.App.scenes.current.layout.child(r.config.parent).addChild(r):h.App.scenes.current.once("created",(function(){h.App.scenes.current.layout.child(r.config.parent).addChild(r)})):this._node.addChild(r.node)},Object.defineProperty(e.prototype,"position",{get:function(){return{x:this._node.x,y:this._node.y}},set:function(t){this.set("x",t.x),this.set("y",t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return{x:this._node.pivot.x,y:this._node.pivot.y}},set:function(t){this.set("pivot",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this._node.angle},set:function(t){this.set("angle",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._node.alpha},set:function(t){this.set("alpha",t)},enumerable:!1,configurable:!0}),e.prototype.setScale=function(t,e){void 0===e&&(e=t);var r={x:t,y:e};return this.set("scale",r),this},e.prototype.setPosition=function(t,e){return this.position={x:t,y:e},this},e.prototype._setConfig=function(t){this._config="string"==typeof t?{key:t}:t},e.prototype._onDestroy=function(){},e.prototype.destroy=function(){for(var t in this.emit("destroy"),this._onDestroy(),this._tweens.stop(),this._attributes.clearEvents(),this.components)this.components[t].disable(),this.components[t]=null;this._children.size&&this._children.forEach((function(t){return t.destroy()})),this._node&&(this._node.destroy(),this._node=null),this._parent&&this._parent.children.delete(this.key)},Object.defineProperty(e.prototype,"node",{get:function(){return this._node},enumerable:!1,configurable:!0}),e.prototype._createStates=function(){this._states=new d.LayoutElementStates(this)},e.prototype._createAttributes=function(){this._attributes=new p.LayoutElementAttributes(this)},e.prototype.set=function(t,e){this._attributes.set(t,e)},e.prototype.setAnchor=function(t){return this.set("anchor",t),this},e.prototype.setAngle=function(t){return this.set("angle",t),this},Object.defineProperty(e.prototype,"globalPosition",{get:function(){for(var t=this._node&&this._node.parent?this._node.parent.scale:{x:1,y:1},e=this._node.x*t.x,r=this._node.y*t.y,i=this._node.parent;i;){var n=i.parent?i.parent.scale:{x:1,y:1};e+=i.x*n.x,r+=i.y*n.y,i=i.parent}return{x:e,y:r}},enumerable:!1,configurable:!0}),e.prototype._createNode=function(){},e.prototype.getLocalPositionFor=function(t){return this.node.toLocal(t.node.parent.toGlobal(t.position))},e.prototype.changeParent=function(t){var e=t.getLocalPositionFor(this);t.addChild(this),this.position={x:e.x/h.App.screen.multiplier,y:e.y/h.App.screen.multiplier}},e.prototype.resetAttributes=function(){this._attributes.init(),this.children.forEach((function(t){return t.resetAttributes()}))},e.prototype.getComponent=function(t){var e=this,r=Object.keys(this.components).find((function(r){return e.components[r]instanceof t}));return r?this.components[r]:null},e}(a(r(58687)).utils.EventEmitter);e.LayoutElement=u;var l=r(745),c=r(76859),h=r(80299),d=r(56923),p=r(46016)},51611:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementsConfig=void 0,e.LayoutElementsConfig={}},745:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementsFactory=void 0;var i=r(51611),n=r(80299),s=r(53249),o=function(){function t(){}return t.create=function(t){var e=t.type||"Sprite";void 0===t.text&&void 0===t.style||(e="Text");var r=s.Utils.merge(i.LayoutElementsConfig,n.App.config.elements);if("string"==typeof t&&(t=n.App.config.layouts[t]),"string"==typeof t.layout&&(t=s.Utils.merge(t,n.App.config.layouts[t.layout])),"string"==typeof t.children&&(t.children=n.App.config.layouts[t.children]),r&&r[e])return new r[e](t);console.log("Error creating layout element",r,e,t)},t}();e.LayoutElementsFactory=o},81985:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=void 0;var s=r(80299),o=r(24340),a=r(58687),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"_textureName",{get:function(){return this._config.texture?this._config.texture:this.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_texture",{get:function(){return s.App.loader.res[this._textureName]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{set:function(t){this._node.texture=s.App.loader.res[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sprite",{get:function(){return this._node},enumerable:!1,configurable:!0}),e.prototype._createNode=function(){this._node=new a.Sprite(this._texture)},Object.defineProperty(e.prototype,"anchor",{get:function(){return this.node.anchor},set:function(t){this.set("anchor",t)},enumerable:!1,configurable:!0}),e}(o.LayoutElement);e.Sprite=u},78182:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Text=void 0;var s=r(58687),o=r(80299),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._createNode=function(){var t=this._config.style;"string"==typeof t&&(t=o.App.config.data.styles[t]),this._node=new s.Text(o.App.locale.text(this._config.text),t)},Object.defineProperty(e.prototype,"text",{get:function(){return this._node.text},set:function(t){this._node.text=o.App.locale.text(t)},enumerable:!1,configurable:!0}),e}(r(24340).LayoutElement);e.Text=a},66895:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttribute=void 0;var i=r(80299),n=function(){function t(t,e,r){this._key=e,this._element=t,this._property=r||this._key}return Object.defineProperty(t.prototype,"property",{get:function(){return this._property},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this._key},enumerable:!1,configurable:!0}),t.prototype._getActiveConfigs=function(){var t=[],e=this._element.config.states||{},r=i.App.config.data.states||{},n={};for(var s in r)n[s]=r[s];for(var s in e)n[s]=e[s];for(var s in n){var o=n[s],a=s.split(" ");this._element.states.has(a)&&t.push(o)}return t},Object.defineProperty(t.prototype,"_stateValue",{get:function(){var t=this,e=this._element.config[this._key];return this._getActiveConfigs().forEach((function(r){void 0!==r[t._key]&&(e=r[t._key])})),e},enumerable:!1,configurable:!0}),t.prototype.init=function(){void 0===this._element.forcedProperties[this._property]&&void 0!==this.getCalculatedValue()&&this.setValue()},t.prototype.setValue=function(t){this._element.node[this._property]=this.getCalculatedValue(t)},t.prototype.getCalculatedValue=function(t){return void 0!==t?t:this._stateValue},t}();e.LayoutElementAttribute=n},38078:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeAlpha=void 0;var s=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeAlpha=s},36851:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeAnchor=void 0;var s=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e.prototype.setValue=function(t){if(this._element.node.anchor){var e=this.getCalculatedValue(t);"number"==typeof e&&this._element.node.anchor.set(e),e&&"number"==typeof e.x&&(this._element.node.anchor.x=e.x),e&&"number"==typeof e.y&&(this._element.node.anchor.y=e.y)}},e.prototype.getCalculatedValue=function(t){if(this._element.node.anchor){var e=.5;return void 0!==t?e=t:void 0!==this._stateValue&&(e=this._stateValue),e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeAnchor=s},23211:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeAngle=void 0;var s=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeAngle=s},16958:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeBottom=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r,"y")||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t){var e=s.App.screen.px(t);return"string"==typeof t&&0!==t.indexOf("%")&&(e=parseInt(t.replace("%","")),e=s.App.screen.height*e/100),s.App.screen.height-e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeBottom=o},25686:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeCx=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r,"x")||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t){var e=s.App.screen.px(t);return"string"==typeof t&&0!==t.indexOf("%")&&(e=parseInt(t.replace("%","")),e=s.App.screen.width*e/100),s.App.screen.center.x+e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeCx=o},26629:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeCy=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r,"y")||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t){var e=s.App.screen.px(t);return"string"==typeof t&&0!==t.indexOf("%")&&(e=parseInt(t.replace("%","")),e=s.App.screen.height*e/100),s.App.screen.center.y+e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeCy=o},99743:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeGx=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r,"x")||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t){var e=t;"string"==typeof t&&0!==t.indexOf("%")&&(e=parseInt(t.replace("%","")),e=s.App.screen.width*e/100);for(var r=this._element.node.parent;r;)e-=r.x,r=r.parent;return e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeGx=o},83288:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeGy=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r,"y")||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t){var e=t;"string"==typeof t&&0!==t.indexOf("%")&&(e=parseInt(t.replace("%","")),e=s.App.screen.height*e/100);for(var r=this._element.node.parent;r;)e-=r.y,r=r.parent;return e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeGy=o},94942:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeHeight=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t){var e=t;return"string"==typeof t&&0!==t.indexOf("%")&&(e=parseInt(t.replace("%","")),e=s.App.screen.height*e/100),e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeHeight=o},29669:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeOx=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r,"x")||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t)return this._element.node.x+s.App.screen.px(t)},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeOx=o},31378:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeOy=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r,"y")||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t)return this._element.node.y+s.App.screen.px(t)},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeOy=o},6437:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributePivot=void 0;var s=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributePivot=s},76851:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeRight=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r,"x")||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t){var e=s.App.screen.px(t);return"string"==typeof t&&0!==t.indexOf("%")&&(e=parseInt(t.replace("%","")),e=s.App.screen.width*e/100),s.App.screen.width-e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeRight=o},26312:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeScale=void 0;var s=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e.prototype.setValue=function(t){var e=this.getCalculatedValue(t);"number"==typeof e&&this._element.node.scale.set(e),e&&"number"==typeof e.x&&(this._element.node.scale.x=e.x),e&&"number"==typeof e.y&&(this._element.node.scale.y=e.y)},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeScale=s},91873:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeSkew=void 0;var s=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e.prototype.setValue=function(t){var e=this.getCalculatedValue(t);"number"==typeof e&&this._element.node.skew.set(e),e&&"number"==typeof e.x&&(this._element.node.skew.x=e.x),e&&"number"==typeof e.y&&(this._element.node.skew.y=e.y)},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeSkew=s},59924:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeTint=void 0;var s=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeTint=s},93956:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeVisible=void 0;var s=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeVisible=s},19079:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeWidth=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t){var e=t;return"string"==typeof t&&0!==t.indexOf("%")&&(e=parseInt(t.replace("%","")),e=s.App.screen.width*e/100),e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeWidth=o},69303:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeX=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t){var e=s.App.screen.px(t);return"string"==typeof t&&0!==t.indexOf("%")&&(e=parseInt(t.replace("%","")),e=s.App.screen.width*e/100),e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeX=o},29733:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributeY=void 0;var s=r(80299),o=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e.prototype.getCalculatedValue=function(t){if(void 0===t&&(t=this._stateValue),void 0!==t){var e=s.App.screen.px(t);return"string"==typeof t&&0!==t.indexOf("%")&&(e=parseInt(t.replace("%","")),e=s.App.screen.height*e/100),e}},e}(r(66895).LayoutElementAttribute);e.LayoutElementAttributeY=o},46016:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributes=void 0;var i=r(71117),n=function(){function t(t){this._element=t,this._attributes=new Map,this._create(),this._setEvents(),this.init()}return t.prototype.get=function(t){return this._attributes.get(t)},t.prototype.set=function(t,e){this.get(t).setValue(e)},t.prototype._setEvents=function(){this._element.states.on("change",this.init,this)},t.prototype.clearEvents=function(){this._element.states.off("change",this.init,this)},t.prototype._create=function(){for(var t in i.LayoutElementAttributesConfig)this._attributes.set(t,new i.LayoutElementAttributesConfig[t](this._element,t))},t.prototype.init=function(){this._attributes.forEach((function(t){return t.init()}))},t}();e.LayoutElementAttributes=n},71117:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementAttributesConfig=void 0;var i=r(38078),n=r(36851),s=r(59924),o=r(94942),a=r(26312),u=r(19079),l=r(25686),c=r(26629),h=r(16958),d=r(76851),p=r(29733),f=r(69303),_=r(29669),y=r(31378),m=r(93956),g=r(99743),v=r(83288),b=r(23211),x=r(91873),T=r(6437);e.LayoutElementAttributesConfig={alpha:i.LayoutElementAttributeAlpha,angle:b.LayoutElementAttributeAngle,scale:a.LayoutElementAttributeScale,skew:x.LayoutElementAttributeSkew,tint:s.LayoutElementAttributeTint,anchor:n.LayoutElementAttributeAnchor,x:f.LayoutElementAttributeX,y:p.LayoutElementAttributeY,cx:l.LayoutElementAttributeCx,cy:c.LayoutElementAttributeCy,bottom:h.LayoutElementAttributeBottom,right:d.LayoutElementAttributeRight,width:u.LayoutElementAttributeWidth,height:o.LayoutElementAttributeHeight,visible:m.LayoutElementAttributeVisible,ox:_.LayoutElementAttributeOx,oy:y.LayoutElementAttributeOy,gx:g.LayoutElementAttributeGx,gy:v.LayoutElementAttributeGy,pivot:T.LayoutElementAttributePivot}},53140:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.BasePlatform=void 0;var s=function(t){function e(e){void 0===e&&(e="default");var r=t.call(this)||this;return r._key=e,r}return n(e,t),e.prototype.init=function(){var t=this;return new Promise((function(e){t.once("ready",(function(){return e()})),t._onReady()}))},Object.defineProperty(e.prototype,"code",{get:function(){return this._key},enumerable:!1,configurable:!0}),e.prototype._onReady=function(){this.emit("ready")},e}(r(58687).utils.EventEmitter);e.BasePlatform=s},53537:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformFactory=void 0;var i=r(75561),n=r(53140),s=function(){function t(){}return t.create=function(){for(var t in i.PlatformsConfig)if(void 0!==window[t])return new i.PlatformsConfig[t];return new n.BasePlatform},t}();e.PlatformFactory=s},75561:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformsConfig=void 0,e.PlatformsConfig={}},80299:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&s(e,t,r);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.App=e.Application=void 0;var u=a(r(58687)),l=r(2886),c=r(77802),h=r(87280),d=r(51184),p=r(75118),f=r(53537),_=r(97332),y=r(3230),m=function(t){function r(){var e=t.call(this)||this;return e._timeStarted=Date.now(),e._timeLoaded=0,e._config={},e._paused=!1,e._data=new Map,e}return n(r,t),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"popups",{get:function(){return this._popups},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeStarted",{get:function(){return this._timeStarted},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeLoaded",{get:function(){return this._timeLoaded},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeFromStart",{get:function(){return Date.now()-this._timeStarted},enumerable:!1,configurable:!0}),r.prototype.run=function(t){var e=this;this._config=t,this._audio=new h.AudioManager,this._tweens=new y.TweensManager,this._screen=new l.ScreenManager(t.data.screen),this._locale=new c.LocaleManager(t.data.locales,window.Globals.locale),this._popups=new _.PopupsManager(t.popups),this._platform=f.PlatformFactory.create(),this._platform.on("soundEnabledChange",this._onAudioEnabledChange.bind(this)),this._platform.on("paused",this.pause.bind(this)),this._platform.on("resumed",this.resume.bind(this)),document.addEventListener("visibilitychange",this._onVisibleChange.bind(this)),this._screen.on("resize",(function(){e._app.renderer.resize(e._screen.width,e._screen.height)})),this._platform.init().then(this._setup.bind(this)).then(this._onLoaderReady.bind(this))},r.prototype._setup=function(){var t=this;return this._init(),this._loader.preload(e.App.config.resources.sounds).then((function(){return t._loader.preload(e.App.config.resources.base)}))},Object.defineProperty(r.prototype,"audio",{get:function(){return this._audio},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"interactionManager",{get:function(){return this._paused?null:this.app.renderer.plugins.interaction},enumerable:!1,configurable:!0}),r.prototype.pause=function(){this._paused||(console.log("App paused"),this._paused=!0,this._audio.stopAudios(),this._audio.stopMusic(),this._audio.active=!1,this.app.renderer.plugins.interaction.destroy(),this.app.ticker.stop())},r.prototype.resume=function(){this._paused&&(console.log("App resumed"),this._audio.active=!0,this._audio.startMusic(),this.app.ticker.start(),this._paused=!1)},Object.defineProperty(r.prototype,"locale",{get:function(){return this._locale},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"screen",{get:function(){return this._screen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"loader",{get:function(){return this._loader},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scenes",{get:function(){return this._scenes},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"platform",{get:function(){return this._platform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),r.prototype._onVisibleChange=function(){this._onAudioEnabledChange("visible"===document.visibilityState)},r.prototype._onAudioEnabledChange=function(t){this._audio.available=t},r.prototype._init=function(){this._app=new u.Application({view:document.getElementById("game-canvas"),antialias:!1,backgroundColor:"#fff",width:this._screen.width,height:this._screen.height}),this._app.ticker.add(this._onUpdate.bind(this)),this._screen.reset(),this._audio.available=!0,this._scenes=new d.ScenesManager(this._config.scenes),this._scenes.layers.front.addChild(this._popups.node),this._app.stage.addChild(this._scenes.node),this._loader=new p.Loader,this.emit("inited")},r.prototype._onLoaderReady=function(){this._timeLoaded=Date.now(),this.emit("ready");var t=document.getElementById("preloader");t&&(t.style.visibility="hidden",t.style.display="none"),this._platform.emit("loader-ready"),this._scenes.start(this.config.data.settings.startScene||"Start")},Object.defineProperty(r.prototype,"stage",{get:function(){return this._app.stage},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tweens",{get:function(){return this._tweens},enumerable:!1,configurable:!0}),r.prototype._onUpdate=function(t){this._tweens.update(),this.screen.reset()},r}(u.utils.EventEmitter);e.Application=m,e.App=new m},87280:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioManager=void 0;var i=r(80299),n=r(24250),s=function(){function t(){this._loaded=!1,this._audios=[],this._active=!0,this._available=!0,this._musicVolume=.1,this._active=!0,this._available=!0,this._musicFileName="music"}return Object.defineProperty(t.prototype,"musicFileName",{get:function(){return this._musicFileName},set:function(t){this._musicFileName=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(t){this._active=t,this._onChange()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"available",{get:function(){return this._available},set:function(t){this._available=t,this._onChange()},enumerable:!1,configurable:!0}),t.prototype._onChange=function(){this._available&&this.active?this._loaded&&this.startMusic(this._musicVolume):this._loaded&&(this.stopMusic(),this.stopAudios())},t.prototype.stopAudios=function(){this._audios.forEach((function(t){return t.stop()}))},t.prototype.playOneshot=function(t,e){void 0===e&&(e=1),this.play(t,e,!0)},t.prototype.playIfStopped=function(t,e){void 0===e&&(e=1);var r=this.get(t);r&&!r.isPlaying&&this.play(t,e,!0)},t.prototype.get=function(t){return i.App.loader.res[t]},t.prototype.play=function(t,e,r,i){if(void 0===e&&(e=1),void 0===r&&(r=!1),void 0===i&&(i=!1),this._available&&this._active){var n=this.get(t);r||n&&n.isPlaying&&n.stop(),!n||!r&&n.isPlaying||(n.loop=i,n.play({volume:e}),this._audios.includes(n)||this._audios.push(n))}},t.prototype.playMusic=function(t){void 0===t&&(t=.2),window.Globals.allowAudioOnInteract?(i.App.stage.interactive=!0,i.App.stage.once("pointerdown",this.startMusic.bind(this,t))):this.startMusic(t)},Object.defineProperty(t.prototype,"music",{get:function(){return this.get("music")},enumerable:!1,configurable:!0}),t.prototype.fadeMusicIn=function(t){return void 0===t&&(t=500),i.App.tweens.animate(this.music,{volume:this._musicVolume},t)},t.prototype.fadeMusicOut=function(t){return void 0===t&&(t=500),i.App.tweens.animate(this.music,{volume:0},t)},t.prototype.switchMusic=function(t,e){var r=this;void 0===e&&(e=.1),this.fadeMusicOut().then((function(){r.stopMusic(),r._musicFileName=t,r.startMusic(e)}))},t.prototype.startMusic=function(t){void 0===t&&(t=.1);var e=this.music;this._musicVolume=t,e&&!e.isPlaying&&(e.loop=!0,e.volume=0,e.play(),this._loaded=!0,this.fadeMusicIn())},t.prototype.stopMusic=function(){this.music&&this.music.pause()},t.prototype.stop=function(t){if(this._available&&this._active){var e=this.get(t);e&&e.isPlaying&&n.sound.stop(t)}},t}();e.AudioManager=s},98915:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=void 0;var s=r(58687),o=function(t){function e(){var e=t.call(this)||this;return e._node=new s.Container,e}return n(e,t),Object.defineProperty(e.prototype,"node",{get:function(){return this._node},enumerable:!1,configurable:!0}),e.prototype.addChild=function(t){this._node.addChild(t)},e}(s.utils.EventEmitter);e.Layer=o},56923:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementStates=void 0;var s=function(t){function e(e){var r=t.call(this)||this;return r._customStates=[],r._items=[],r._element=e,r.update(),r}return n(e,t),Object.defineProperty(e.prototype,"_parentStates",{get:function(){for(var t=this._element.parent,e=[];t;)t.states.items&&t.states.items.forEach((function(t){e.push(t)})),t=t.parent;return Array.from(new Set(e))},enumerable:!1,configurable:!0}),e.prototype.add=function(t){this._customStates.includes(t)||(this._customStates.push(t),this.update())},e.prototype.remove=function(t){this._customStates.includes(t)&&(this._customStates=this._customStates.filter((function(e){return t!==e})),this.update())},e.prototype.set=function(t){"string"==typeof t&&(t=[t]),this._customStates=t,this.update()},e.prototype.update=function(){var t=this,e=[];this._customStates.forEach((function(t){e.push(t)})),this._parentStates.forEach((function(t){e.push(t)}));var r=Array.from(new Set(e)),i=this._items.filter((function(t){return!r.includes(t)})),n=r.filter((function(e){return!t._items.includes(e)}));(n.length||i.length)&&(this._items=r,this.emit("change"),this._updateChildren()),n.forEach((function(e){t.emit("added",e),t.emit("".concat(e,"-added"))})),i.forEach((function(e){t.emit("removed",e),t.emit("".concat(e,"-removed"))}))},e.prototype._updateChildren=function(){this._element.children.forEach((function(t){return t.states.update()}))},e.prototype.has=function(t){var e=this;return"string"==typeof t&&(t=[t]),!t.find((function(t){return!e.items.includes(t)}))},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e}(r(58687).utils.EventEmitter);e.LayoutElementStates=s},76859:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__spreadArray||function(t,e,r){if(r||2===arguments.length)for(var i,n=0,s=e.length;n<s;n++)!i&&n in e||(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementTweens=void 0;var o=r(80299),a=function(){function t(t){this._element=t,this._node=t.node,this._tweens=[],this._element.states.on("added",this._onStatesAdded,this)}return Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this._tweens.length>0},enumerable:!1,configurable:!0}),t.prototype._onStatesAdded=function(t){if(this._element.config.tweens)for(var e in this._element.config.tweens)void 0!==this._element.config.tweens[e].on&&("string"==typeof this._element.config.tweens[e].on&&this._element.config.tweens[e].on===t||Array.isArray(this._element.config.tweens[e].on)&&this._element.config.tweens[e].on.includes(t))&&this.play(e)},t.prototype._getTweenConfig=function(t){var e=void 0;return this._element.config.tweens&&this._element.config.tweens[t]?e=this._element.config.tweens[t]:o.App.config.data.tweens&&o.App.config.data.tweens[t]&&(e=o.App.config.data.tweens[t]),e},t.prototype._getPropertiesFromConfig=function(t){var e={};if("string"==typeof t.to){var r=t.to;for(var i in this._element.config.states||(this._element.config.states={}),(e=this._element.config.states[r])||(e=o.App.config.data.states[r]),e||(e={}),this._element.config.states){var n=i.split(" "),s=n.filter((function(t){return t!==r}));if(n.includes(r)&&this._element.states.has(s)){var a=this._element.config.states[i];for(var u in a)e[u]=a[u]}}}else e=t.to;return e},t.prototype.play=function(t){var e=this._getTweenConfig(t);return e?(Array.isArray(e)||(e=[e]),this._playConfigs(s([],e,!0))):Promise.resolve()},t.prototype._playConfigs=function(t){var e=this;return t.length?this._playConfig(t.shift()).then((function(){return e._playConfigs(t)})):Promise.resolve()},t.prototype._playConfig=function(t){var e=this,r={},i=this._getPropertiesFromConfig(t);for(var n in i){var s=this._element.attributes.get(n);s&&(r[s.property]=s.getCalculatedValue(i[n]))}return this._run(this._node,r,t.duration,t.options).then((function(){"string"==typeof t.to&&e._element.states.set(t.to)}))},t.prototype.appear=function(t,e){void 0===t&&(t=500);var r=this._node.scale.x||1;return this._node.scale.set(0),this._node.visible=!0,this.scaleTo({x:r,y:r},t,e)},t.prototype.disappear=function(t,e){return void 0===t&&(t=500),this.scaleTo(0,t,e)},t.prototype._run=function(t,e,r,i){var n=this,s=o.App.tweens.create(t);return this._tweens.push(s),o.App.tweens.run(s,e,r,i).then((function(){return o.App.tweens.stop(s),n._tweens=n._tweens.filter((function(t){return t!==s})),Promise.resolve()}))},t.prototype.stop=function(){this._tweens.forEach((function(t){o.App.tweens.stop(t)})),this._tweens=[]},t.prototype.scaleTo=function(t,e,r){var i="number"==typeof t?{x:t,y:t}:t;return this._run(this._node.scale,i,e,r)},t.prototype.rotate=function(t){void 0===t&&(t=15e3),this.rotateTo(360,t,{repeat:1/0})},t.prototype.rotateTo=function(t,e,r){return this._run(this._node,{angle:t},e,r)},t.prototype.fadeIn=function(t){return void 0===t&&(t=500),this._node.alpha=0,this._node.visible=!0,this.alphaTo(1,t)},t.prototype.fadeOut=function(t){return void 0===t&&(t=500),this.alphaTo(0,t)},t.prototype.alphaTo=function(t,e,r){return this._run(this._node,{alpha:t},e,r)},t.prototype.moveTo=function(t,e,r){return this._run(this._node,t,e,r)},t.prototype.animateTouch=function(){return i(this,void 0,void 0,(function(){var t;return n(this,(function(e){switch(e.label){case 0:return t=this._node.scale.x,[4,this.scaleTo(.8*t,75)];case 1:return e.sent(),[4,this.scaleTo(t,50)];case 2:return[2,e.sent()]}}))}))},t}();e.LayoutElementTweens=a},75118:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&s(e,t,r);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;var u=a(r(58687)),l=function(t){function e(){var e=t.call(this)||this;return e._res={},e}return n(e,t),e.prototype.preload=function(t){var e=this,r=0;return new Promise((function(i){var n=function(n){var s=t[n];u.Assets.load(s.default).then((function(s){e._res[n]=s,++r>=Object.keys(t).length&&i()}))};for(var s in t)n(s)}))},Object.defineProperty(e.prototype,"res",{get:function(){return this._res},enumerable:!1,configurable:!0}),e}(u.utils.EventEmitter);e.Loader=l},77802:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.LocaleManager=e.LocalesCodes=void 0,function(t){t.en="en",t.ru="ru"}(r=e.LocalesCodes||(e.LocalesCodes={}));var i=function(){function t(t,e){this._config=t,this._code=e||r.en,this._config[this._code]||(this._code=r.en)}return Object.defineProperty(t.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),t.prototype._translate=function(t){return this._locales&&this._locales[t]?this._locales[t]:null},t.prototype.text=function(t){var e=this._translate(t);return e||t},Object.defineProperty(t.prototype,"_locales",{get:function(){return this._config[this._code]},enumerable:!1,configurable:!0}),t}();e.LocaleManager=i},97332:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.PopupsManager=void 0;var a=function(t){function e(e){var r=t.call(this)||this;return r._popups=new Map,r._config=e,r}return n(e,t),e.prototype.show=function(t,e){return s(this,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:return[4,this._closePopup(t)];case 1:return i.sent(),this._config&&this._config[t]&&((r=new this._config[t](t,e)).once("destroy",this._delete.bind(this,r)),this.addChild(r.node),this._popups.set(t,r)),[2]}}))}))},e.prototype._delete=function(t){this._popups.delete(t.key)},e.prototype._closeAll=function(){var t=this,e=0,r=this._popups.size;return new Promise((function(i){t._popups.forEach((function(n){t._closePopup(n.key).then((function(){++e>=r&&i()}))}))}))},e.prototype._closePopup=function(t){return s(this,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return(e=this._popups.get(t))?[4,e.close()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,Promise.resolve()];case 3:return[2,r.sent()]}}))}))},e.prototype.close=function(t){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return t?[3,2]:[4,this._closeAll()];case 1:return e.sent(),[3,4];case 2:return[4,this._closePopup(t)];case 3:e.sent(),e.label=4;case 4:return[4,Promise.resolve()];case 5:return[2,e.sent()]}}))}))},e}(r(98915).Layer);e.PopupsManager=a},43039:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Scene=void 0;var s=r(80299),o=r(98915),a=r(5647),u=function(t){function e(e){var r=t.call(this)||this;return r._config=e,r}return n(e,t),Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),e.prototype._createLayout=function(){this._config.layout&&(this._layout=new this._config.layout,this.addChild(this._layout.node))},Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},enumerable:!1,configurable:!0}),e.prototype._createActions=function(){this._actions=new a.SceneActionsManager(this)},Object.defineProperty(e.prototype,"actions",{get:function(){return this._actions},enumerable:!1,configurable:!0}),e.prototype.onDestroy=function(){console.log("destroy",this),this._layout.destroy(),this.emit("destroy")},e.prototype._addChild=function(t){this.addChild(t.node)},e.prototype.create=function(){this._createLayout(),this._createActions(),s.App.screen.reset(),this.emit("created"),this._start()},e.prototype._start=function(){},e}(o.Layer);e.Scene=u},77439:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&s(e,t,r);return o(e,t),e},u=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},l=this&&this.__generator||function(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.SceneAction=void 0;var c=function(t){function e(e,r){var i=t.call(this)||this;return i._scene=e,i._layout=e.layout,i._data=r||{},i._promise=new Promise((function(t){i._resolve=t})),i._create(),i}return n(e,t),e.prototype._create=function(){},e.prototype.run=function(){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this._process()];case 1:return t.sent(),[2,this._promise]}}))}))},e.prototype._process=function(){return u(this,void 0,void 0,(function(){return l(this,(function(t){return[2]}))}))},e.prototype._complete=function(){this._resolve.call(this)},e}(a(r(58687)).utils.EventEmitter);e.SceneAction=c},5647:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SceneActionsManager=void 0;var s=r(58687),o=r(31560),a=function(t){function e(e){var r=t.call(this)||this;return r._queues=[],r._scene=e,r}return n(e,t),e.prototype.start=function(t,e){var r=new o.SceneActionsQueue(this._scene);this._queues.push(r),r.start(t,e)},e}(s.utils.EventEmitter);e.SceneActionsManager=a},31560:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SceneActionsQueue=void 0;var s=function(t){function e(e){var r=t.call(this)||this;return r._index=0,r._key="",r._data={},r._scene=e,r._layout=e.layout,r._config=e.config.actions,r}return n(e,t),e.prototype.start=function(t,e){this._index=0,this._key=t,this._data=e,this._run()},e.prototype._run=function(){var t=this,e=null,r=[];this._key&&(r=this._config[this._key]),r&&r[this._index]&&(e=new r[this._index](this._scene,this._data)),e&&e.run().then((function(){t._next()}))},e.prototype._next=function(){++this._index,this._run()},e}(r(58687).utils.EventEmitter);e.SceneActionsQueue=s},51184:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScenesManager=void 0;var s=r(98915),o=function(t){function e(e){var r=t.call(this)||this;return r._current=null,r._data=null,r._layers={back:null,main:null,front:null},r._config=e,r._createLayers(),r}return n(e,t),e.prototype._createLayers=function(){for(var t in this._layers)this._createLayer(t)},e.prototype._createLayer=function(t){var e=new s.Layer;this._layers[t]=e,this.addChild(e.node)},Object.defineProperty(e.prototype,"layers",{get:function(){return this._layers},enumerable:!1,configurable:!0}),e.prototype.start=function(t,e){void 0===e&&(e=null),this._data=e,this._destroyCurrentScene(),this._startScene(t)},e.prototype.process=function(t,e){this.current.actions.start(t,e)},e.prototype._startScene=function(t){var e=this._config[t];e&&e.class&&(this._current=new e.class(e.config)),this._layers.main.addChild(this._current.node),this._current.create(),this.emit(t)},e.prototype._destroyCurrentScene=function(){this._current&&(this._current.onDestroy(),this._current.node.removeAllListeners(),this._layers.main.node.removeChildren(),this._current=null)},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),e}(s.Layer);e.ScenesManager=o},2886:function(t,e,r){"use strict";var i,n,s,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},a.apply(this,arguments)},u=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),l=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&u(e,t,r);return l(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ScreenManager=void 0,function(t){t.default="default",t.narrow="narrow",t.wide="wide"}(n||(n={})),function(t){t.horizontal="horizontal",t.vertical="vertical"}(s||(s={}));var h=r(80299),d=function(t){function e(e){var r=t.call(this)||this;r._position=s.horizontal,r._type=n.default,r._config=e,r._pivot={x:0,y:0},r._multiplier=1,r._init();var i=r.reset.bind(r);return window.addEventListener("resize",i,!1),window.addEventListener("orientationchange",i),window.addEventListener("deviceorientation",i,!0),r}return o(e,t),Object.defineProperty(e.prototype,"multiplier",{get:function(){return this._multiplier},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this._pivot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this._position===s.vertical},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"horizontal",{get:function(){return this._position===s.horizontal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return{x:this._pivot.x+this.width/2,y:this._pivot.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prev",{get:function(){return this._prev},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_current",{get:function(){return{width:this._width,height:this._height,canvasWidth:this._canvasWidth,canvasHeight:this._canvasHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_modified",{get:function(){return JSON.stringify(this._current)!==JSON.stringify(this._prev)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._init(),this._modified&&(this._resize(),this._prev=a({},this._current),this.emit("resize"))},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"narrow",{get:function(){return this._type===n.narrow},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wide",{get:function(){return this._type===n.wide},enumerable:!1,configurable:!0}),e.prototype._setType=function(){if(window.innerHeight>window.innerWidth){this._position=s.vertical;var t=window.innerWidth/window.innerHeight;this._type=t>.7?n.wide:t<.5?n.narrow:n.default}else{this._position=s.horizontal;t=window.innerWidth/window.innerHeight;this._type=t<1.4?n.wide:t>2?n.narrow:n.default}},e.prototype._getGameSizeByResulution=function(){var t=this._config[this._position];return{fit:t.fit,width:t.width,height:t.height}},e.prototype._getCurrentGameSize=function(){return this._getGameSizeByResulution()},e.prototype._getDefaultGameSize=function(){return this._getGameSizeByResulution()},e.prototype._init=function(){this._setType();var t=this._getCurrentGameSize(),e=t.width,r=t.height,i=window.innerWidth,n=window.innerHeight;this._position===s.vertical?t.fit&&"width"===t.fit?r=Math.round(e*n/i):e=Math.round(i*r/n):t.fit&&"height"===t.fit?e=Math.round(i*r/n):r=Math.round(e*n/i),this._canvasWidth=window.innerWidth,this._canvasHeight=window.innerHeight,this._width=e,this._height=r},e.prototype.coords=function(t,e){return{x:h.App.screen.px(t),y:h.App.screen.px(e)}},e.prototype.px=function(t){return t*h.App.screen.multiplier},e.prototype._resize=function(){var t=document.getElementById("game-canvas");t.style.width=this._canvasWidth+"px",t.style.height=this._canvasHeight+"px",t.width=this._width,t.height=this._height},e}(c(r(58687)).utils.EventEmitter);e.ScreenManager=d},3230:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TweensManager=void 0;var n=i(r(28250)),s={linear:n.default.Easing.Linear.None,quadraticIn:n.default.Easing.Quadratic.In,quadraticOut:n.default.Easing.Quadratic.Out,quadraticInOut:n.default.Easing.Quadratic.InOut,cubicIn:n.default.Easing.Cubic.In,cubicOut:n.default.Easing.Cubic.Out,cubicInOut:n.default.Easing.Cubic.InOut,quarticIn:n.default.Easing.Quartic.In,quarticOut:n.default.Easing.Quartic.Out,quarticInOut:n.default.Easing.Quartic.InOut,quinticIn:n.default.Easing.Quintic.In,quinticOut:n.default.Easing.Quintic.Out,quinticInOut:n.default.Easing.Quintic.InOut,sinusoidalIn:n.default.Easing.Sinusoidal.In,sinusoidalOut:n.default.Easing.Sinusoidal.Out,sinusoidalInOut:n.default.Easing.Sinusoidal.InOut,exponentialIn:n.default.Easing.Exponential.In,exponentialOut:n.default.Easing.Exponential.Out,exponentialInOut:n.default.Easing.Exponential.InOut,circularIn:n.default.Easing.Circular.In,circularOut:n.default.Easing.Circular.Out,circularInOut:n.default.Easing.Circular.InOut,elasticIn:n.default.Easing.Elastic.In,elasticOut:n.default.Easing.Elastic.Out,elasticInOut:n.default.Easing.Elastic.InOut,backIn:n.default.Easing.Back.In,backOut:n.default.Easing.Back.Out,backInOut:n.default.Easing.Back.InOut,bounceIn:n.default.Easing.Bounce.In,bounceOut:n.default.Easing.Bounce.Out,bounceInOut:n.default.Easing.Bounce.InOut},o={linear:n.default.Interpolation.Linear,bezier:n.default.Interpolation.Bezier,catmullRom:n.default.Interpolation.CatmullRom},a=function(){function t(){this._easings=s,this._interpolations=o}return t.prototype.run=function(t,e,r,i){var n=this;return new Promise((function(s){n._configure(t,e,r,i),t.onComplete((function(){i&&void 0!==i.onComplete&&i.onComplete(),s()})),t.start()}))},t.prototype.animate=function(t,e,r,i){var n=this.create(t);return this.run(n,e,r,i)},t.prototype.create=function(t){return new n.default.Tween(t)},t.prototype._configure=function(t,e,r,i){if(t.to(e,r),i){void 0!==i.repeat&&t.repeat(i.repeat),void 0!==i.yoyo&&t.yoyo(i.yoyo),void 0!==i.delay&&t.delay(i.delay);var n=void 0;void 0!==i.ease?n=i.ease:void 0!==i.easing&&(n=i.easing),void 0!==n&&("function"==typeof n?t.easing(n):t.easing(this._easings[n])),void 0!==i.interpolation&&t.interpolation(this._interpolations[i.interpolation]),void 0!==i.onStart&&t.onStart((function(){i.onStart()})),void 0!==i.onUpdate&&t.onUpdate((function(t,e){i.onUpdate(t,e)}))}},t.prototype.update=function(){n.default.update()},t.prototype.stop=function(t){t.stop(),n.default.remove(t)},t.prototype.removeTween=function(t){return t&&(this.stop(t),t=null),t},t}();e.TweensManager=a},53249:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},o=this&&this.__spreadArray||function(t,e,r){if(r||2===arguments.length)for(var i,n=0,s=e.length;n<s;n++)!i&&n in e||(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=void 0;var a=r(80299),u=s(r(58687)),l=function(){function t(){}return t.delay=function(t){return new Promise((function(e){window.setTimeout((function(){e()}),t)}))},t.clamp=function(t,e,r){return Math.min(r,Math.max(e,t))},t.step=function(t,e,r){return this.clamp((t-e)/(r-e),0,1)},t.isEquals=function(t,e,r){return void 0===r&&(r=Number.EPSILON),Math.abs(t-e)<r},t.lerpColor=function(t,e,r){var i=+t.toString().replace("#","0x"),n=i>>16,s=i>>8&255,o=255&i,a=+e.toString().replace("#","0x");return+("0x"+((1<<24)+(n+r*((a>>16)-n)<<16)+(s+r*((a>>8&255)-s)<<8)+(o+r*((255&a)-o))|0).toString(16).slice(1))},t.getTextureFromAtlas=function(t,e){var r=a.App.loader.res[t+".json"].frames[e];return new u.Texture(a.App.loader.res[t].texture.baseTexture,new u.Rectangle(r.frame.x,r.frame.y,r.frame.w,r.frame.h))},t.lerp=function(t,e,r){return(1-r)*t+r*e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),r=e.length,i=new Uint8Array(r),n=0;n<r;n++)i[n]=e.charCodeAt(n);return i.buffer},t.importAll=function(t,e){void 0===e&&(e=!1);var r={};return t.keys().map((function(i,n){var s=i;if(e){var o="."+i.split(".").pop();s=i.replace(o,"")}r[s.replace("./","")]=t(i)})),r},t.random=function(t,e){return void 0===e&&(e=!1),Array.isArray(t)?this.randomEl(t):this.randomNum(t,e)},t.randomEl=function(t){return t[this.randomNum(0,t.length-1)]},t.randomNum=function(t,e){return void 0===e&&(e=0),e||(e=t,t=0),Math.floor(Math.random()*(e-t+1)+t)},t.shuffle=function(t){for(var e,r=t.length-1;r>0;r--){var i=Math.floor(Math.random()*(r+1));e=[t[i],t[r]],t[r]=e[0],t[i]=e[1]}return t},t.isObject=function(t){return t&&"object"==typeof t&&!Array.isArray(t)},t.merge=function(e){for(var r,i,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(!n.length)return e;var a=n.shift();if(t.isObject(e)&&t.isObject(a))for(var u in a)t.isObject(a[u])?(e[u]||Object.assign(e,((r={})[u]={},r)),t.merge(e[u],a[u])):Object.assign(e,((i={})[u]=a[u],i));return t.merge.apply(t,o([e],n,!1))},Object.defineProperty(t,"platform",{get:function(){var t=navigator.userAgent||navigator.vendor;return/android/i.test(t)?"android":"ios"},enumerable:!1,configurable:!0}),t.checkCollision=function(t,e){var r=t.node.getBounds(),i=e.node.getBounds();return r.x+r.width>i.x&&r.x<i.x+i.width&&r.y+r.height>i.y&&r.y<i.y+i.height},t}();e.Utils=l},22689:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentsConfig=void 0;var i=r(41900),n=r(47052),s=r(34782),o=r(83771);e.ComponentsConfig={drag:i.DragComponent,scrollHorizontal:s.TasksScrollHorizontalComponent,scrollVertical:o.TasksScrollVerticalComponent,mask:n.ReverseMaskComponent}},41750:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonDataConfig=void 0;var i=r(53249);e.JsonDataConfig=i.Utils.importAll(r(62481),!0)},50502:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutElementsConfig=void 0;var i=r(81985),n=r(98930),s=r(78182),o=r(22896),a=r(22500),u=r(98960),l=r(87591),c=r(53578),h=r(79690),d=r(92189),p=r(31486),f=r(39146),_=r(25551),y=r(82133),m=r(31667),g=r(2304),v=r(28506),b=r(30192);e.LayoutElementsConfig={Sprite:i.Sprite,Container:n.Container,Text:s.Text,Background:o.Background,Item:a.Item,Task:y.Task,Tasks:d.Tasks,Ui:u.Ui,Hint:l.Hint,Lives:c.Lives,Shadow:h.Shadow,Level:p.Level,LevelImage:f.LevelImage,LevelItems:_.LevelItems,PopupLives:m.PopupLives,LevelPhoto:g.LevelPhoto,BackgroundAnimation:v.BackgroundAnimation,UiTasks:b.UiTasks}},487:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutsConfig=void 0;var i=r(53249);e.LayoutsConfig=i.Utils.importAll(r(47732),!0)},41476:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectConfig=void 0,r(39873),r(93376);var i=r(487),n=r(41750),s=r(46956),o=r(50502),a=r(22689),u=r(99286);e.ProjectConfig={layouts:i.LayoutsConfig,data:n.JsonDataConfig,scenes:s.ScenesConfig,elements:o.LayoutElementsConfig,components:a.ComponentsConfig,resources:u.ResourcesConfig}},99286:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourcesConfig=void 0;var i=r(53249);e.ResourcesConfig={sounds:i.Utils.importAll(r(55017),!0),base:i.Utils.importAll(r(84612),!0),level1:i.Utils.importAll(r(55992),!0),level2:i.Utils.importAll(r(23178),!0),level3:i.Utils.importAll(r(10284),!0),level4:i.Utils.importAll(r(84551),!0),level5:i.Utils.importAll(r(1668),!0)}},46956:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScenesConfig=void 0;var i=r(9458),n=r(61550),s=r(63134),o=r(70210),a=r(59798),u=r(73035),l=r(81373),c=r(68437),h=r(34580),d=r(78045),p=r(48723),f=r(15299),_=r(67298);e.ScenesConfig={Success:{class:f.SuccessScene,config:{layout:_.SuccessSceneLayout,actions:{}}},Start:{class:d.StartScene,config:{layout:p.StartSceneLayout,actions:{}}},Game:{class:i.GameScene,config:{layout:h.GameSceneLayout,actions:{"level-image-tap":[l.LevelImageTapAction],"item-tap":[a.ItemTapAction,o.ItemDestroyAction,u.LevelCompletedAction],hint:[s.HintAction],"popup-lives":[c.PopupLivesAction],"game-restart":[n.GameRestartAction]}}}}},9458:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.GameScene=void 0;var s=r(43039),o=r(75512),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){o.Player.hints=3;var t=this._layout.child("level image items"),e=this._layout.child("tasks");e.init(t.tasks),this._layout.child("ui tasks").init(e)},e}(s.Scene);e.GameScene=a},61550:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.GameRestartAction=void 0;var a=r(80299),u=r(77439),l=r(75512),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._process=function(){return s(this,void 0,void 0,(function(){var t;return o(this,(function(e){return(t=this._layout.child("popupLives")).show(),[2,t.tweens.play("scale0").then((function(){l.Player.resetLives(),a.App.scenes.start("Game")}))]}))}))},e}(u.SceneAction);e.GameRestartAction=c},63134:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.HintAction=void 0;var a=r(80299),u=r(77439),l=r(58687),c=r(75512),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._process=function(){return s(this,void 0,void 0,(function(){var t,e,r,i,n,s,a;return o(this,(function(o){return t=this._layout.child("tasks"),e=this._layout.child("ui shadow"),r=t.first,i=this._layout.child("level image items ".concat(r.code)),n=i.node.getGlobalPosition(),e.show(),s=Math.max(i.node.width,i.node.height),(a=e.components.mask.hole).node.x=n.x,a.node.y=n.y,a.node.width=s,a.node.height=s,e.tweens.play("show"),this._item=i,this._shadow=e,e.node.on("pointerdown",this._onShadowClick,this),[2,Promise.resolve()]}))}))},e.prototype._onShadowClick=function(t){var e=t.global.x,r=t.global.y;this._item.node.containsPoint(new l.Point(e,r))&&(--c.Player.hints,this._shadow.node.off("pointerdown",this._onShadowClick,this),a.App.scenes.process("item-tap",{item:this._item}),this._shadow.tweens.play("hide"),this._shadow.hide())},e}(u.SceneAction);e.HintAction=h},70210:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ItemDestroyAction=void 0;var a=r(80299),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._process=function(){return s(this,void 0,void 0,(function(){var t,e,r,i=this;return o(this,(function(n){return t=this._data.item,e=this._layout.child("tasks"),(r=e.get(t.key)).tweens.stop(),a.App.audio.play("sfx-bubble"),r.cover.tweens.play("explode").then((function(){return r.cover.hide(),r.tweens.play("hide").then((function(){for(var t=e.items.indexOf(r);t<e.items.length;t++){e.items[t].tweens.play("shift_".concat(a.App.screen.position))}e.remove(r.code),r.destroy(),i._complete()}))})),[2]}))}))},e}(r(77439).SceneAction);e.ItemDestroyAction=u},59798:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ItemTapAction=void 0;var a=r(80299),u=r(77439),l=r(75512),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._process=function(){return s(this,void 0,void 0,(function(){var t,e,r,i,n,s=this;return o(this,(function(o){return l.Player.enabled?(l.Player.enabled=!1,a.App.audio.play("sfx-correct"),t=this._data.item,e=this._layout.child("tasks"),r=e.get(t.key),i=t.node.getGlobalPosition(),t.mask&&(t.node.mask=null,t.mask.destroy(),delete t.config.children.mask),t.node.removeFromParent(),a.App.app.stage.addChild(t.node),t.node.x=i.x,t.node.y=i.y,r.tweens.stop(),t.tweens.scaleTo(1.3,300),n={vertical:e.components.scrollHorizontal,horizontal:e.components.scrollVertical},[2,n[a.App.screen.position].animateShiftTo({x:r.node.x,y:r.node.y}).then((function(){t.tweens.scaleTo(1,300),t.tweens.moveTo(r.node.getGlobalPosition(),600,{ease:"cubicInOut"}).then((function(){t.destroy(),s._complete()}))}))]):[2]}))}))},e}(u.SceneAction);e.ItemTapAction=c},73035:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.LevelCompletedAction=void 0;var a=r(80299),u=r(77439),l=r(53249),c=r(75512),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._process=function(){return s(this,void 0,void 0,(function(){var t,e,r,i;return o(this,(function(n){switch(n.label){case 0:return t=this._layout.child("tasks"),c.Player.enabled=!0,t.completed?(e=this._layout.child("level"),r=this._layout.child("ui"),i=e.child("flash"),r.states.add("completed"),i.states.add("visible"),[4,i.tweens.play("show")]):[3,5];case 1:return n.sent(),[4,l.Utils.delay(50)];case 2:return n.sent(),e.states.add("completed"),[4,e.tweens.play("complete")];case 3:return n.sent(),[4,l.Utils.delay(500)];case 4:n.sent(),a.App.scenes.start("Success"),n.label=5;case 5:return[2]}}))}))},e}(u.SceneAction);e.LevelCompletedAction=h},81373:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.LevelImageTapAction=void 0;var a=r(80299),u=r(77439),l=r(75512),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._process=function(){return s(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return a.App.audio.play("sfx-error"),--l.Player.lives,(t=this._layout.child("ui fail")).node.x=this._data.x,t.node.y=this._data.y,t.node.scale.set(0),t.show(),[4,t.tweens.play("scale1")];case 1:return e.sent(),[4,t.tweens.play("scale0")];case 2:return e.sent(),l.Player.lives<=0&&a.App.scenes.process("popup-lives"),[2,Promise.resolve()]}}))}))},e}(u.SceneAction);e.LevelImageTapAction=c},68437:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.PopupLivesAction=void 0;var a=r(80299),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._process=function(){return s(this,void 0,void 0,(function(){var t,e,r,i;return o(this,(function(n){return a.App.audio.play("sfx-failure"),(t=this._layout.child("popupLives")).show(),e=t.child("lives1"),r=t.child("lives2"),(i=this._layout.child("ui shadow")).components.mask.disable(),i.show(),i.tweens.play("show"),t.tweens.play("show").then((function(){e.tweens.play("tween1").then((function(){e.tweens.play("tween2")})),r.tweens.play("tween1").then((function(){r.tweens.play("tween2")}))})),[2,Promise.resolve()]}))}))},e}(r(77439).SceneAction);e.PopupLivesAction=u},41900:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.DragComponent=void 0;var s=r(85249),o=r(80299),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){},e.prototype._onPointerMove=function(t){this._selected&&(this._element.attributes.set("gx",Math.round(t.data.global.x)),this._element.attributes.set("gy",Math.round(t.data.global.y)),console.log('"x": '.concat(Math.round(this._element.node.x),', "y": ').concat(Math.round(this._element.node.y),",")))},e.prototype._onSelect=function(){this._element.node.zIndex=1e3,this._selected=!0,this._element.emit("drag-started")},e.prototype._onPointerUp=function(){this._selected&&(this._element.node.zIndex=0,this._selected=!1,this._element.emit("drag-stopped"))},e.prototype._onEnable=function(){o.App.app.stage.interactive=!0,this._element.setInteractive(),o.App.app.stage.on("pointermove",this._onPointerMove,this),o.App.app.stage.on("pointerup",this._onPointerUp,this),this._element.node.on("pointerdown",this._onSelect,this)},e.prototype._onDisable=function(){o.App.app.stage.off("pointermove",this._onPointerMove,this),o.App.app.stage.off("pointerup",this._onPointerUp,this),this._element.node.off("pointerdown",this._onSelect,this)},e}(s.Component);e.DragComponent=a},47052:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&s(e,t,r);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ReverseMaskComponent=void 0;var u=a(r(58687)),l=r(85249),c=r(81985),h=r(80299),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){this._create()},Object.defineProperty(e.prototype,"hole",{get:function(){return this._hole},enumerable:!1,configurable:!0}),e.prototype._createMask=function(){this._hole=new c.Sprite(this._config),h.App.app.stage.addChild(this._hole.node)},e.prototype._createFilter=function(){this._filter=new u.SpriteMaskFilter(void 0,"            varying vec2 vMaskCoord;\n            varying vec2 vTextureCoord;\n        \n            uniform sampler2D uSampler;\n            uniform sampler2D mask;\n            uniform float alpha;\n            uniform float npmAlpha;\n            uniform vec4 maskClamp;\n        \n            void main(void)\n            {\n                float clip = step(3.5,\n                    step(maskClamp.x, vMaskCoord.x) +\n                    step(maskClamp.y, vMaskCoord.y) +\n                    step(vMaskCoord.x, maskClamp.z) +\n                    step(vMaskCoord.y, maskClamp.w));\n            \n                vec4 original = texture2D(uSampler, vTextureCoord);\n                vec4 masky = texture2D(mask, vMaskCoord);\n                float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n            \n                original *= 1.0 - (alphaMul * masky.r * alpha * clip);\n            \n                gl_FragColor = original;\n            }"),this._filter.maskSprite=this._hole.node},e.prototype._applyFilter=function(){this._element.node.filters||(this._element.node.filters=[]),this._element.node.filters=[this._filter]},e.prototype._create=function(){this._createMask(),this._createFilter(),this._applyFilter()},e.prototype._onDisable=function(){var t=this;this._element.node.filters=this._element.node.filters.filter((function(e){return e!==t._filter})),this._hole.destroy()},e.prototype._onEnable=function(){this._create()},e}(l.Component);e.ReverseMaskComponent=d},34782:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.TasksScrollHorizontalComponent=void 0;var s=r(85249),o=r(80299),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._onEnable=function(){var t=this._element.cover.node.width;this._touched=!1,this._touchX=0,this._elementOriginalX=this._element.node.x,this._xMin=this._elementOriginalX-t+o.App.screen.width-50,this._xMax=this._elementOriginalX,o.App.app.stage.interactive=!0,this._element.node.interactive=!0,this._element.node.on("pointerdown",this._onPointerDown,this),o.App.app.stage.on("pointermove",this._onPointerMove,this),o.App.app.stage.on("pointerup",this._onPointerUp,this)},e.prototype._onDisable=function(){this._element.node.off("pointerdown",this._onPointerDown,this),o.App.app.stage.off("pointermove",this._onPointerMove,this),o.App.app.stage.off("pointerup",this._onPointerUp,this)},e.prototype._onPointerDown=function(t){o.App.screen.vertical&&(this._touchX=t.data.global.x,this._elementCurrentX=this._element.node.x,this._touched=!0)},e.prototype.animateShiftTo=function(t){if(o.App.screen.vertical){var e=65-t.x;return e>this._xMax&&(e=this._xMax),e<this._xMin&&(e=this._xMin),this._element.tweens.moveTo({x:e,y:this._element.node.y},900,{ease:"elasticOut"})}},e.prototype._onPointerMove=function(t){if(o.App.screen.vertical&&this._touched){var e=Math.floor(t.data.global.x-this._touchX),r=Math.floor(this._elementCurrentX+e);e>0?r<=this._xMax?this._element.node.x=r:this._element.node.x=this._xMax:r>=this._xMin?this._element.node.x=r:this._element.node.x=this._xMin}},e.prototype._onPointerUp=function(){this._touched=!1},e}(s.Component);e.TasksScrollHorizontalComponent=a},83771:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.TasksScrollVerticalComponent=void 0;var s=r(85249),o=r(80299),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._onEnable=function(){var t=this._element.cover.node.height;this._touched=!1,this._touchY=0,this._elementOriginalY=this._element.node.y,this._yMin=this._elementOriginalY-t+o.App.screen.height-130,this._yMax=this._elementOriginalY,o.App.app.stage.interactive=!0,this._element.node.interactive=!0,this._element.node.on("pointerdown",this._onPointerDown,this),o.App.app.stage.on("pointermove",this._onPointerMove,this),o.App.app.stage.on("pointerup",this._onPointerUp,this)},e.prototype._onDisable=function(){this._element.node.off("pointerdown",this._onPointerDown,this),o.App.app.stage.off("pointermove",this._onPointerMove,this),o.App.app.stage.off("pointerup",this._onPointerUp,this)},e.prototype._onPointerDown=function(t){o.App.screen.horizontal&&(this._touchY=t.data.global.y,this._elementCurrentY=this._element.node.y,this._touched=!0)},e.prototype.animateShiftTo=function(t){if(o.App.screen.horizontal){var e=130-t.y;return e>this._yMax&&(e=this._yMax),e<this._yMin&&(e=this._yMin),this._element.tweens.moveTo({x:this._element.node.x,y:e},900,{ease:"elasticOut"})}},e.prototype._onPointerMove=function(t){if(o.App.screen.horizontal&&this._touched){var e=Math.floor(t.data.global.y-this._touchY),r=Math.floor(this._elementCurrentY+e);e>0?r<=this._yMax?this._element.node.y=r:this._element.node.y=this._yMax:r>=this._yMin?this._element.node.y=r:this._element.node.y=this._yMin}},e.prototype._onPointerUp=function(){this._touched=!1},e}(s.Component);e.TasksScrollVerticalComponent=a},22896:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Background=void 0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){},e.prototype.resize=function(){},e}(r(81985).Sprite);e.Background=s},28506:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundAnimation=void 0;var s=r(81985),o=r(80299),a=r(53249),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"_data",{get:function(){return{source:{x:a.Utils.random(0,o.App.screen.width),y:a.Utils.random(0,o.App.screen.height)},target:{x:a.Utils.random(0,o.App.screen.width),y:-10},scale:a.Utils.random(2,10)/100,alpha:a.Utils.random(10,25)/100,duration:a.Utils.random(15e3,2e4)}},enumerable:!1,configurable:!0}),e.prototype._createParticle=function(){var t=this._data,e=a.Utils.random(1,4),r=new s.Sprite("bubble".concat(e));r.node.x=t.source.x,r.node.y=t.source.y,r.node.anchor.set(.5),this.addChild(r),r.setInteractive(),r.node.once("pointerdown",(function(){r.tweens.stop(),r.tweens.scaleTo(2*r.node.scale.x,100,{ease:"cubicIn"}).then((function(){r.destroy()}))})),r.node.alpha=t.alpha,r.node.scale.set(0),r.tweens.scaleTo(t.scale,300).then((function(){var e=a.Utils.random(0,1)?{x:t.scale/1.5,y:t.scale}:{x:t.scale,y:t.scale/1.5},i=a.Utils.random(2e3,6e3);r.tweens.scaleTo(e,i,{repeat:1/0,yoyo:!0})})),r.tweens.rotate(a.Utils.random(1e4,2e4)),r.tweens.moveTo({x:t.target.x,y:t.target.y},t.duration).then((function(){r.tweens.stop(),r.destroy()}))},e.prototype._init=function(){for(var t=this,e=0;e<10;e++)this._createParticle();this._interval=window.setInterval((function(){t._createParticle()}),2e3)},e.prototype._onDestroy=function(){window.clearInterval(this._interval)},e}(s.Sprite);e.BackgroundAnimation=u},34580:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.GameSceneLayout=void 0;var s=function(t){function e(){return t.call(this,"gameScene")||this}return n(e,t),e}(r(48917).Layout);e.GameSceneLayout=s},87591:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Hint=void 0;var s=r(81985),o=r(80299),a=r(75512),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){this._label=this.child("value"),this.setInteractive(),this.node.on("pointerdown",this._onPointerDown,this),this._onPlayerUpdate(),a.Player.events.on("update",this._onPlayerUpdate,this)},e.prototype._onDestroy=function(){this.node.off("pointerdown",this._onPointerDown,this),a.Player.events.off("update",this._onPlayerUpdate,this)},e.prototype._onPlayerUpdate=function(){this._update(),this._render()},e.prototype._update=function(){this._value=a.Player.hints},e.prototype._render=function(){this._label.text=this._value.toString()},e.prototype._onPointerDown=function(){o.App.scenes.process("hint")},e}(s.Sprite);e.Hint=u},22500:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Item=void 0;var s=r(81985),o=r(80299),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){var t=this;this.node.interactive=!0,this.node.on("pointerdown",this._onClick,this),this.node.anchor.set(.5),this._config=JSON.parse(JSON.stringify(this.config)),this.config.x=this.config.x+this.node.width/2,this.config.y=this.config.y+this.node.height/2,this.config.anchor={x:.5,y:.5},this.attributes.init(),this.node.once("added",(function(){var e=t.child("mask");t._mask=e,!t.node.mask&&e&&(t.node.mask=e.node)}))},e.prototype._onDestroy=function(){this.node.off("pointerdown",this._onClick,this)},Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},enumerable:!1,configurable:!0}),e.prototype._onClick=function(t){this.config.active&&(o.App.scenes.process("item-tap",{item:this}),t.stopPropagation())},e}(s.Sprite);e.Item=a},31486:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level=void 0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){},e}(r(81985).Sprite);e.Level=s},39146:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LevelImage=void 0;var s=r(81985),o=r(80299),a=r(75512),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){this.texture="level".concat(a.Player.level.toString()),this.setInteractive(),this.node.on("pointerdown",this._onPointerDown,this)},e.prototype._onPointerDown=function(t){o.App.scenes.process("level-image-tap",{x:t.global.x,y:t.global.y})},e}(s.Sprite);e.LevelImage=u},25551:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LevelItems=void 0;var s=r(98930),o=r(80299),a=r(75512),u=function(t){function e(e){var r=a.Player.level,i=o.App.config.layouts["items".concat(r.toString())];return e.children=i,t.call(this,e)||this}return n(e,t),Object.defineProperty(e.prototype,"tasks",{get:function(){return this._tasks},enumerable:!1,configurable:!0}),e.prototype._init=function(){this._tasks=Array.from(this._children.values()).filter((function(t){return t.config.active}))},e}(s.Container);e.LevelItems=u},2304:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LevelPhoto=void 0;var s=r(81985),o=r(75512),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){this.child("picture").texture="level".concat(o.Player.level.toString())},e}(s.Sprite);e.LevelPhoto=a},53578:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Lives=void 0;var s=r(81985),o=r(75512),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){this._label=this.child("value"),this._onPlayerUpdate(),o.Player.events.on("update",this._onPlayerUpdate,this)},e.prototype._onDestroy=function(){o.Player.events.off("update",this._onPlayerUpdate,this)},e.prototype._onPlayerUpdate=function(){this._update(),this._render()},e.prototype._update=function(){this._value=o.Player.lives},e.prototype._render=function(){this._label.text=this._value.toString()},e}(s.Sprite);e.Lives=a},31667:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.PopupLives=void 0;var s=r(81985),o=r(80299),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){var t=this.child("btn");t.setInteractive(),t.node.once("pointerdown",(function(){o.App.scenes.process("game-restart")}))},e}(s.Sprite);e.PopupLives=a},79690:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Shadow=void 0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){this.setInteractive()},e}(r(81985).Sprite);e.Shadow=s},82133:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Task=void 0;var s=r(81985),o=r(80299),a=function(t){function e(e){var r=this,i=JSON.parse(JSON.stringify(o.App.config.data.prefabs.task));if(i.children.icon.texture=e,i.key="task_"+e,(r=t.call(this,i)||this)._code=e,r._cover=r.child("cover"),r._icon=r.child("icon"),r._icon.node.width>r._cover.node.width){var n=r._icon.node.width;r._icon.node.width=.9*r._cover.node.width,r._icon.node.height=r._icon.node.height*r._icon.node.width/n}if(r._icon.node.width>r._cover.node.width){n=r._icon.node.width;r._icon.node.width=.9*r._cover.node.width,r._icon.node.height=r._icon.node.height*r._icon.node.width/n}if(r._icon.node.height>r._cover.node.height){var s=r._icon.node.height;r._icon.node.height=.9*r._cover.node.height,r._icon.node.width=r._icon.node.width*r._icon.node.height/s}return r}return n(e,t),e.prototype.setLayoutPosition=function(t,e){this.node.x=o.App.screen.vertical?t:0,this.node.y=o.App.screen.vertical?0:e,this.node.scale.set(o.App.screen.vertical?1:2)},Object.defineProperty(e.prototype,"cover",{get:function(){return this._cover},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._cover.node.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),e}(s.Sprite);e.Task=a},92189:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Tasks=void 0;var s=r(81985),o=r(80299),a=r(82133),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._create=function(t){var e=this;this._items=[],t.forEach((function(t){return e._createTask(t.key)})),this._total=this.size},e.prototype._createTask=function(t){var e=new a.Task(t);return this.addChild(e),this._items.push(e),e},e.prototype.setPositions=function(){this.components.scrollHorizontal.disable(),this.components.scrollVertical.disable();var t=0,e=0;this._items.forEach((function(r){r.setLayoutPosition(t,e),t+=130,e+=260})),o.App.screen.vertical?(this._cover.node.width=130*this.size,this._cover.node.height=100,this.components.scrollHorizontal.enable()):(this._cover.node.width=200,this._cover.node.height=260*this.size,this.components.scrollVertical.enable())},e.prototype.init=function(t){var e=this;this._cover=this.child("cover"),this._create(t),this.setPositions(),o.App.screen.on("resize",(function(){e.setPositions()}))},Object.defineProperty(e.prototype,"total",{get:function(){return this._total},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cover",{get:function(){return this._cover},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completed",{get:function(){return!this._items.length},enumerable:!1,configurable:!0}),e.prototype.get=function(t){return this._items.find((function(e){return e.code===t}))},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._items[0]},enumerable:!1,configurable:!0}),e.prototype.remove=function(t){this._items=this._items.filter((function(e){return e.code!==t})),this.emit("update")},e}(s.Sprite);e.Tasks=u},98960:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Ui=void 0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){},e}(r(98930).Container);e.Ui=s},30192:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.UiTasks=void 0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._init=function(){this._label=this.child("label")},e.prototype.init=function(t){this._tasks=t,this._render(),this._tasks.on("update",this._render,this)},e.prototype._onDestroy=function(){this._tasks.off("update",this._render,this)},Object.defineProperty(e.prototype,"done",{get:function(){return this._tasks.total-this._tasks.size},enumerable:!1,configurable:!0}),e.prototype._render=function(){this._label.text="Tasks: ".concat(this.done,"/").concat(this._tasks.total)},e}(r(81985).Sprite);e.UiTasks=s},75512:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var o=s(r(58687)),a=function(){function t(){this._level=1,this._enabled=!0,this._lives=0,this._hints=0,this._level=parseInt(localStorage.getItem("level"))||1,this._hints=3,this._lives=3,this._enabled=!0,this._events=new o.utils.EventEmitter}return Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(t){this._level=t,localStorage.setItem("level",t.toString())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lives",{get:function(){return this._lives},set:function(t){this._lives=t,this._events.emit("update")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t,this._events.emit("update")},enumerable:!1,configurable:!0}),t.prototype.resetLives=function(){this._lives=3},Object.defineProperty(t.prototype,"events",{get:function(){return this._events},enumerable:!1,configurable:!0}),t}();e.Player=new a},78045:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.StartScene=void 0;var s=r(80299),o=r(43039),a=r(75512),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){s.App.audio.playMusic();var t=s.App.config.resources["level".concat(a.Player.level.toString())],e=this._layout.child("btn");e.child("label").text="Level ".concat(a.Player.level.toString()),s.App.loader.preload(t).then((function(){s.App.audio.play("sfx-btn"),e.tweens.play("scale1").then((function(){e.tweens.play("pulsation")})),e.setInteractive(),e.node.once("pointerdown",(function(){e.tweens.play("touch").then((function(){s.App.scenes.start("Game")}))}))}))},e}(o.Scene);e.StartScene=u},48723:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.StartSceneLayout=void 0;var s=function(t){function e(){return t.call(this,"startScene")||this}return n(e,t),e}(r(48917).Layout);e.StartSceneLayout=s},15299:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SuccessScene=void 0;var s=r(80299),o=r(43039),a=r(75512),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){s.App.audio.play("sfx-success");var t=a.Player.level+1,e=s.App.config.resources["level".concat(t.toString())];if(e){++a.Player.level;var r=this._layout.child("btn");s.App.loader.preload(e).then((function(){r.states.once("scale1-added",(function(){r.tweens.play("pulsation")})),r.setInteractive(),r.node.once("pointerdown",(function(){r.tweens.play("touch").then((function(){s.App.scenes.start("Game")}))}))}))}},e}(o.Scene);e.SuccessScene=u},67298:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SuccessSceneLayout=void 0;var s=function(t){function e(){return t.call(this,"successScene")||this}return n(e,t),e}(r(48917).Layout);e.SuccessSceneLayout=s},52511:function(t,e,r){var i;t=r.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r.g&&r.g;s.global!==s&&s.window!==s&&s.self;var o,a=2147483647,u=36,l=1,c=26,h=38,d=700,p=72,f=128,_="-",y=/^xn--/,m=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=u-l,x=Math.floor,T=String.fromCharCode;function E(t){throw new RangeError(v[t])}function S(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function A(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+S((t=t.replace(g,".")).split("."),e).join(".")}function w(t){for(var e,r,i=[],n=0,s=t.length;n<s;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<s?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function P(t){return S(t,(function(t){var e="";return t>65535&&(e+=T((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=T(t)})).join("")}function O(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,r){var i=0;for(t=r?x(t/d):t>>1,t+=x(t/e);t>b*c>>1;i+=u)t=x(t/b);return x(i+(b+1)*t/(t+h))}function I(t){var e,r,i,n,s,o,h,d,y,m,g,v=[],b=t.length,T=0,S=f,A=p;for((r=t.lastIndexOf(_))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&E("not-basic"),v.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<b;){for(s=T,o=1,h=u;n>=b&&E("invalid-input"),((d=(g=t.charCodeAt(n++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:u)>=u||d>x((a-T)/o))&&E("overflow"),T+=d*o,!(d<(y=h<=A?l:h>=A+c?c:h-A));h+=u)o>x(a/(m=u-y))&&E("overflow"),o*=m;A=M(T-s,e=v.length+1,0==s),x(T/e)>a-S&&E("overflow"),S+=x(T/e),T%=e,v.splice(T++,0,S)}return P(v)}function C(t){var e,r,i,n,s,o,h,d,y,m,g,v,b,S,A,P=[];for(v=(t=w(t)).length,e=f,r=0,s=p,o=0;o<v;++o)(g=t[o])<128&&P.push(T(g));for(i=n=P.length,n&&P.push(_);i<v;){for(h=a,o=0;o<v;++o)(g=t[o])>=e&&g<h&&(h=g);for(h-e>x((a-r)/(b=i+1))&&E("overflow"),r+=(h-e)*b,e=h,o=0;o<v;++o)if((g=t[o])<e&&++r>a&&E("overflow"),g==e){for(d=r,y=u;!(d<(m=y<=s?l:y>=s+c?c:y-s));y+=u)A=d-m,S=u-m,P.push(T(O(m+A%S,0))),d=x(A/S);P.push(T(O(d,0))),s=M(r,b,i==n),r=0,++i}++r,++e}return P.join("")}o={version:"1.4.1",ucs2:{decode:w,encode:P},decode:I,encode:C,toASCII:function(t){return A(t,(function(t){return m.test(t)?"xn--"+C(t):t}))},toUnicode:function(t){return A(t,(function(t){return y.test(t)?I(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return o}.call(e,r,e,t))||(t.exports=i)}()},8575:(t,e,r)=>{"use strict";var i=r(52511);function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(80129);function g(t,e,r){if(t&&"object"==typeof t&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}n.prototype.parse=function(t,e,r){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",u=t.split(o);u[0]=u[0].replace(/\\/g,"/");var g=t=u.join(o);if(g=g.trim(),!r&&1===t.split("#").length){var v=a.exec(g);if(v)return this.path=g,this.href=g,this.pathname=v[1],v[2]?(this.search=v[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(g);if(b){var x=(b=b[0]).toLowerCase();this.protocol=x,g=g.substr(b.length)}if(r||b||g.match(/^\/\/[^@/]+@[^@/]+/)){var T="//"===g.substr(0,2);!T||b&&_[b]||(g=g.substr(2),this.slashes=!0)}if(!_[b]&&(T||b&&!y[b])){for(var E,S,A=-1,w=0;w<h.length;w++){-1!==(P=g.indexOf(h[w]))&&(-1===A||P<A)&&(A=P)}-1!==(S=-1===A?g.lastIndexOf("@"):g.lastIndexOf("@",A))&&(E=g.slice(0,S),g=g.slice(S+1),this.auth=decodeURIComponent(E)),A=-1;for(w=0;w<c.length;w++){var P;-1!==(P=g.indexOf(c[w]))&&(-1===A||P<A)&&(A=P)}-1===A&&(A=g.length),this.host=g.slice(0,A),g=g.slice(A),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var M=this.hostname.split(/\./),I=(w=0,M.length);w<I;w++){var C=M[w];if(C&&!C.match(d)){for(var R="",D=0,B=C.length;D<B;D++)C.charCodeAt(D)>127?R+="x":R+=C[D];if(!R.match(d)){var L=M.slice(0,w),F=M.slice(w+1),k=C.match(p);k&&(L.push(k[1]),F.unshift(k[2])),F.length&&(g="/"+F.join(".")+g),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=i.toASCII(this.hostname));var N=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+N,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!f[x])for(w=0,I=l.length;w<I;w++){var U=l[w];if(-1!==g.indexOf(U)){var G=encodeURIComponent(U);G===U&&(G=escape(U)),g=g.split(U).join(G)}}var H=g.indexOf("#");-1!==H&&(this.hash=g.substr(H),g=g.slice(0,H));var V=g.indexOf("?");if(-1!==V?(this.search=g.substr(V),this.query=g.substr(V+1),e&&(this.query=m.parse(this.query)),g=g.slice(0,V)):e&&(this.search="",this.query={}),g&&(this.pathname=g),y[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var W=this.search||"";this.path=N+W}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(s=m.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),e+n+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(o=o.replace("#","%23"))+i},n.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if("string"==typeof t){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,i=Object.keys(this),s=0;s<i.length;s++){var o=i[s];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var l=a[u];"protocol"!==l&&(r[l]=t[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var d=c[h];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||_[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",m=r.search||"";r.path=f+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=v||g||r.host&&t.pathname,x=b,T=r.pathname&&r.pathname.split("/")||[],E=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===T[0]?T[0]=r.host:T.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),b=b&&(""===p[0]||""===T[0])),v)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),r.search=t.search,r.query=t.query;else if(null!=t.search){if(E)r.host=T.shift(),r.hostname=r.host,(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.hostname=O.shift(),r.host=r.hostname);return r.search=t.search,r.query=t.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=T.slice(-1)[0],A=(r.host||t.host||T.length>1)&&("."===S||".."===S)||""===S,w=0,P=T.length;P>=0;P--)"."===(S=T[P])?T.splice(P,1):".."===S?(T.splice(P,1),w++):w&&(T.splice(P,1),w--);if(!b&&!x)for(;w--;w)T.unshift("..");!b||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),A&&"/"!==T.join("/").substr(-1)&&T.push("");var O,M=""===T[0]||T[0]&&"/"===T[0].charAt(0);E&&(r.hostname=M?"":T.length?T.shift():"",r.host=r.hostname,(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.hostname=O.shift(),r.host=r.hostname));return(b=b||r.host&&T.length)&&!M&&T.unshift(""),T.length>0?r.pathname=T.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.parse=g,e.resolve=function(t,e){return g(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?g(t,!1,!0).resolveObject(e):e},e.format=function(t){return"string"==typeof t&&(t=g(t)),t instanceof n?t.format():n.prototype.format.call(t)},e.Url=n},55017:(t,e,r)=>{var i={"./music.mp3":22876,"./sfx-btn.mp3":20970,"./sfx-bubble.mp3":34625,"./sfx-correct.mp3":42642,"./sfx-error.mp3":39748,"./sfx-failure.mp3":14086,"./sfx-success.mp3":10157};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id=55017},84612:(t,e,r)=>{var i={"./bg.png":6052,"./bg2.png":85937,"./btn.png":72396,"./bubble1.png":3756,"./bubble2.png":88083,"./bubble3.png":82040,"./bubble4.png":98452,"./circle.png":22291,"./container.png":3118,"./fail.png":10598,"./hint.png":19624,"./lives.png":36769,"./lives1.png":22563,"./lives2.png":30736,"./pixel.png":87667,"./popup.png":58133,"./splash.png":36027,"./stamp.png":49800,"./task.png":98791};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id=84612},55992:(t,e,r)=>{var i={"./i1_1.png":72577,"./i1_10.png":8735,"./i1_11.png":38212,"./i1_12.png":87375,"./i1_13.png":18416,"./i1_14.png":90708,"./i1_15.png":40870,"./i1_16.png":85298,"./i1_17.png":66415,"./i1_18.png":58449,"./i1_19.png":73897,"./i1_2.png":82853,"./i1_20.png":88723,"./i1_21.png":63044,"./i1_22.png":29458,"./i1_23.png":28615,"./i1_24.png":30826,"./i1_25.png":66935,"./i1_26.png":95586,"./i1_27.png":77620,"./i1_28.png":3516,"./i1_29.png":44110,"./i1_3.png":93789,"./i1_30.png":19203,"./i1_31.png":59760,"./i1_32.png":52851,"./i1_33.png":79535,"./i1_34.png":56107,"./i1_35.png":75908,"./i1_36.png":35611,"./i1_37.png":3289,"./i1_38.png":40311,"./i1_39.png":60582,"./i1_4.png":13401,"./i1_40.png":35960,"./i1_5.png":30522,"./i1_6.png":70620,"./i1_7.png":9933,"./i1_8.png":50197,"./i1_9.png":89534,"./level1.jpg":30714};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id=55992},23178:(t,e,r)=>{var i={"./i2_1.png":34282,"./i2_10.png":51526,"./i2_11.png":75017,"./i2_12.png":10770,"./i2_13.png":29310,"./i2_14.png":63423,"./i2_15.png":19655,"./i2_16.png":67726,"./i2_17.png":70189,"./i2_18.png":4496,"./i2_19.png":931,"./i2_2.png":93330,"./i2_20.png":14565,"./i2_21.png":41829,"./i2_22.png":55341,"./i2_23.png":38663,"./i2_24.png":68204,"./i2_25.png":52500,"./i2_26.png":98615,"./i2_27.png":25852,"./i2_28.png":89415,"./i2_29.png":77918,"./i2_3.png":33482,"./i2_30.png":8111,"./i2_31.png":21217,"./i2_32.png":78203,"./i2_33.png":53241,"./i2_34.png":70108,"./i2_35.png":10753,"./i2_36.png":49337,"./i2_37.png":4077,"./i2_38.png":71160,"./i2_39.png":81558,"./i2_4.png":38657,"./i2_40.png":37761,"./i2_5.png":21045,"./i2_6.png":68221,"./i2_7.png":14586,"./i2_8.png":97242,"./i2_9.png":30125,"./level2.png":92541};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id=23178},10284:(t,e,r)=>{var i={"./i3_1.png":3192,"./i3_10.png":71018,"./i3_11.png":64362,"./i3_12.png":16780,"./i3_13.png":86883,"./i3_14.png":96970,"./i3_15.png":71628,"./i3_16.png":92667,"./i3_17.png":438,"./i3_18.png":81479,"./i3_19.png":41369,"./i3_2.png":96198,"./i3_20.png":71919,"./i3_21.png":40846,"./i3_22.png":34704,"./i3_23.png":48346,"./i3_24.png":97330,"./i3_25.png":9102,"./i3_26.png":84613,"./i3_27.png":89053,"./i3_28.png":14136,"./i3_29.png":45264,"./i3_3.png":18082,"./i3_30.png":6669,"./i3_31.png":39486,"./i3_32.png":21187,"./i3_33.png":44968,"./i3_34.png":80325,"./i3_35.png":21840,"./i3_36.png":66423,"./i3_37.png":14252,"./i3_38.png":89794,"./i3_39.png":2310,"./i3_4.png":52129,"./i3_40.png":29360,"./i3_41.png":58978,"./i3_5.png":95544,"./i3_6.png":20813,"./i3_7.png":52104,"./i3_8.png":11247,"./i3_9.png":61968,"./level3.png":70994};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id=10284},84551:(t,e,r)=>{var i={"./i4_1.png":392,"./i4_10.png":77871,"./i4_11.png":56387,"./i4_12.png":71680,"./i4_13.png":40062,"./i4_14.png":8300,"./i4_15.png":58163,"./i4_16.png":91123,"./i4_17.png":33643,"./i4_18.png":66812,"./i4_19.png":55668,"./i4_2.png":82288,"./i4_20.png":10099,"./i4_21.png":83833,"./i4_22.png":68195,"./i4_23.png":61208,"./i4_24.png":21681,"./i4_25.png":30039,"./i4_26.png":86415,"./i4_27.png":66533,"./i4_28.png":5559,"./i4_29.png":45852,"./i4_3.png":79239,"./i4_30.png":30456,"./i4_31.png":86832,"./i4_32.png":73434,"./i4_33.png":96529,"./i4_34.png":68503,"./i4_35.png":72001,"./i4_36.png":72543,"./i4_37.png":94428,"./i4_38.png":50178,"./i4_39.png":87103,"./i4_4.png":81047,"./i4_40.png":66774,"./i4_5.png":85824,"./i4_6.png":20744,"./i4_7.png":29345,"./i4_8.png":77845,"./i4_9.png":3284,"./level4.png":87369};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id=84551},1668:(t,e,r)=>{var i={"./i5_1.png":81891,"./i5_10.png":48537,"./i5_11.png":71820,"./i5_12.png":82775,"./i5_13.png":35910,"./i5_14.png":95391,"./i5_15.png":40169,"./i5_16.png":79328,"./i5_17.png":97426,"./i5_18.png":67935,"./i5_19.png":66734,"./i5_2.png":97921,"./i5_20.png":46074,"./i5_21.png":21288,"./i5_22.png":75819,"./i5_23.png":47297,"./i5_24.png":83703,"./i5_25.png":58673,"./i5_26.png":35219,"./i5_27.png":95874,"./i5_28.png":14567,"./i5_29.png":14641,"./i5_3.png":82754,"./i5_30.png":99209,"./i5_31.png":32619,"./i5_32.png":93745,"./i5_33.png":32805,"./i5_34.png":58680,"./i5_35.png":17794,"./i5_36.png":13528,"./i5_37.png":14408,"./i5_38.png":54650,"./i5_39.png":11365,"./i5_4.png":81405,"./i5_5.png":1366,"./i5_6.png":54476,"./i5_7.png":70160,"./i5_8.png":87358,"./i5_9.png":93268,"./level5.png":54213};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id=1668},62481:(t,e,r)=>{var i={"./animations.json":65798,"./level.json":75665,"./locales.json":2025,"./prefabs.json":75424,"./screen.json":11412,"./settings.json":72654,"./states.json":95349,"./styles.json":49110,"./tweens.json":2583};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id=62481},47732:(t,e,r)=>{var i={"./bg.json":77084,"./gameScene.json":42434,"./items1.json":34373,"./items2.json":9932,"./items3.json":12150,"./items4.json":12649,"./items5.json":34684,"./level.json":36986,"./levelPhoto.json":82169,"./popupLives.json":28360,"./startScene.json":66454,"./successScene.json":25110,"./tasks.json":75132,"./ui.json":42779};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id=47732},24654:()=>{},28250:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Easing:()=>n,Group:()=>o,Interpolation:()=>a,Sequence:()=>u,Tween:()=>c,VERSION:()=>h,add:()=>y,default:()=>v,getAll:()=>f,nextId:()=>d,now:()=>s,remove:()=>m,removeAll:()=>_,update:()=>g});var i,n=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return this.None(t)},Out:function(t){return this.None(t)},InOut:function(t){return this.None(t)}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(t){var e=1.70158;return 1===t?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return 0===t?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-n.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*n.Bounce.In(2*t):.5*n.Bounce.Out(2*t-1)+.5}}),generatePow:function(t){return void 0===t&&(t=4),t=(t=t<Number.EPSILON?Number.EPSILON:t)>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(2*e,t)/2:(1-Math.pow(2-2*e,t))/2+.5}}}}),s=function(){return performance.now()},o=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=s()),void 0===e&&(e=!1);var r=Object.keys(this._tweens);if(0===r.length)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var n=this._tweens[r[i]],o=!e;n&&!1===n.update(t,o)&&!e&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),a={Linear:function(t,e){var r=t.length-1,i=r*e,n=Math.floor(i),s=a.Utils.Linear;return e<0?s(t[0],t[1],i):e>1?s(t[r],t[r-1],r-i):s(t[n],t[n+1>r?r:n+1],i-n)},Bezier:function(t,e){for(var r=0,i=t.length-1,n=Math.pow,s=a.Utils.Bernstein,o=0;o<=i;o++)r+=n(1-e,i-o)*n(e,o)*t[o]*s(i,o);return r},CatmullRom:function(t,e){var r=t.length-1,i=r*e,n=Math.floor(i),s=a.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(n=Math.floor(i=r*(1+e))),s(t[(n-1+r)%r],t[n],t[(n+1)%r],t[(n+2)%r],i-n)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[r]-(s(t[r],t[r],t[r-1],t[r-1],i-r)-t[r]):s(t[n?n-1:0],t[n],t[r<n+1?r:n+1],t[r<n+2?r:n+2],i-n)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=a.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:(i=[1],function(t){var e=1;if(i[t])return i[t];for(var r=t;r>1;r--)e*=r;return i[t]=e,e}),CatmullRom:function(t,e,r,i,n){var s=.5*(r-t),o=.5*(i-e),a=n*n;return(2*e-2*r+s+o)*(n*a)+(-3*e+3*r-2*s-o)*a+s*n+e}}},u=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),l=new o,c=function(){function t(t,e){void 0===e&&(e=l),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=n.Linear.None,this._interpolationFunction=a.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=u.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){if(void 0===e&&(e=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=t,this._propertiesAreSetUp=!1,this._duration=e,this},t.prototype.duration=function(t){return void 0===t&&(t=1e3),this._duration=t,this},t.prototype.dynamic=function(t){return void 0===t&&(t=!1),this._isDynamic=t,this},t.prototype.start=function(t,e){if(void 0===t&&(t=s()),void 0===e&&(e=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var r in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t,this._startTime+=this._delayTime,!this._propertiesAreSetUp||e){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var n in this._valuesEnd)i[n]=this._valuesEnd[n];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,e)}return this},t.prototype.startFromCurrentValues=function(t){return this.start(t,!0)},t.prototype._setupProperties=function(t,e,r,i,n){for(var s in r){var o=t[s],a=Array.isArray(o),u=a?"array":typeof o,l=!a&&Array.isArray(r[s]);if("undefined"!==u&&"function"!==u){if(l){if(0===(y=r[s]).length)continue;for(var c=[o],h=0,d=y.length;h<d;h+=1){var p=this._handleRelativeValue(o,y[h]);if(isNaN(p)){l=!1,console.warn("Found invalid interpolation list. Skipping.");break}c.push(p)}l&&(r[s]=c)}if("object"!==u&&!a||!o||l)(void 0===e[s]||n)&&(e[s]=o),a||(e[s]*=1),i[s]=l?r[s].slice().reverse():e[s]||0;else{e[s]=a?[]:{};var f=o;for(var _ in f)e[s][_]=f[_];i[s]=a?[]:{};var y=r[s];if(!this._isDynamic){var m={};for(var _ in y)m[_]=y[_];r[s]=y=m}this._setupProperties(f,e[s],y,i[s],n)}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=s()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=s()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return void 0===t&&(t=l),this._group=t,this},t.prototype.delay=function(t){return void 0===t&&(t=0),this._delayTime=t,this},t.prototype.repeat=function(t){return void 0===t&&(t=0),this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return void 0===t&&(t=!1),this._yoyo=t,this},t.prototype.easing=function(t){return void 0===t&&(t=n.Linear.None),this._easingFunction=t,this},t.prototype.interpolation=function(t){return void 0===t&&(t=a.Linear),this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onEveryStart=function(t){return this._onEveryStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=s()),void 0===e&&(e=!0),this._isPaused)return!0;var r,i,n=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>n)return!1;e&&this.start(t,!0)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),i=(t-this._startTime)/this._duration,i=0===this._duration||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(r in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[r]||(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,u=this._chainedTweens.length;a<u;a++)this._chainedTweens[a].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,r,i){for(var n in r)if(void 0!==e[n]){var s=e[n]||0,o=r[n],a=Array.isArray(t[n]),u=Array.isArray(o);!a&&u?t[n]=this._interpolationFunction(o,i):"object"==typeof o&&o?this._updateProperties(t[n],s,o,i):"number"==typeof(o=this._handleRelativeValue(s,o))&&(t[n]=s+(o-s)*i)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],r=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof r?this._valuesStartRepeat[t]+parseFloat(r):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),h="20.0.3",d=u.nextId,p=l,f=p.getAll.bind(p),_=p.removeAll.bind(p),y=p.add.bind(p),m=p.remove.bind(p),g=p.update.bind(p),v={Easing:n,Group:o,Interpolation:a,now:s,Sequence:u,nextId:d,Tween:c,VERSION:h,getAll:f,removeAll:_,add:y,remove:m,update:g}},65798:t=>{"use strict";t.exports={}},75665:t=>{"use strict";t.exports=JSON.parse('{"board":{"rows":7,"cols":7,"fieldSize":135}}')},2025:t=>{"use strict";t.exports={en:{}}},75424:t=>{"use strict";t.exports=JSON.parse('{"task":{"tint":"0xeeeeee","tweens":{"shift_vertical":{"to":{"ox":-130},"duration":300,"options":{"ease":"backOut"}},"shift_horizontal":{"to":{"oy":-260},"duration":300,"options":{"ease":"backOut"}},"hide":{"to":"scale0","duration":600,"options":{"ease":"backIn"}}},"texture":"container","children":{"cover":{"tweens":{"explode":{"to":{"scale":{"x":0.6,"y":0.6}},"duration":150,"options":{"ease":"cubicIn"}}},"alpha":0.5,"width":130,"height":130,"texture":"bubble1"},"icon":{"texture":"container"}}}}')},11412:t=>{"use strict";t.exports=JSON.parse('{"vertical":{"width":1024,"height":1024},"horizontal":{"width":1024,"height":1024,"fit":"height"}}')},72654:t=>{"use strict";t.exports=JSON.parse('{"startScene":"Start","lives":3}')},95349:t=>{"use strict";t.exports=JSON.parse('{"scale0":{"visible":false,"scale":{"x":0,"y":0}},"scale1":{"visible":true,"scale":{"x":1,"y":1}},"alpha0":{"visible":false,"alpha":0},"alpha1":{"visible":true,"alpha":1},"visible":{"visible":true},"hidden":{"visible":false}}')},49110:t=>{"use strict";t.exports=JSON.parse('{"tasks":{"fontFamily":"main","fontSize":26,"fontWeight":"normal","fill":["#ffffff"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840},"lives":{"fontFamily":"main","fontSize":26,"fontWeight":"normal","fill":["#154360"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840},"button":{"fontFamily":"main","fontSize":40,"fontWeight":"normal","fill":["#ffffff"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840},"popupLivesTitle":{"fontFamily":"main","fontSize":60,"fontWeight":"normal","fill":["#154360"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840},"popupLivesButton":{"fontFamily":"main","fontSize":40,"fontWeight":"normal","fill":["#154360"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840},"successSceneTitle":{"fontFamily":"main","fontSize":40,"fontWeight":"normal","fill":["#ffffff"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840}}')},2583:t=>{"use strict";t.exports=JSON.parse('{"touch":[{"to":{"scale":{"x":0.9,"y":0.9}},"duration":150,"options":{"ease":"backIn"}},{"to":{"scale":{"x":1,"y":1}},"duration":150,"options":{"ease":"backOut"}}],"alpha0":{"to":"alpha0","duration":300,"options":{"ease":"backIn"}},"alpha1":{"to":"alpha1","duration":300,"options":{"ease":"backIn"}},"scale0":{"to":"scale0","duration":300,"options":{"ease":"backIn"}},"scale1":{"to":"scale1","duration":300,"options":{"ease":"backOut"}},"shake":[{"to":{"ox":-10},"duration":75,"options":{"ease":"cubicOut"}},{"to":{"ox":30},"duration":75,"options":{"ease":"cubicOut"}},{"to":{"ox":-30},"duration":75,"options":{"ease":"cubicOut"}},{"to":{"ox":30},"duration":75,"options":{"ease":"cubicOut"}},{"to":{"ox":-20},"duration":75,"options":{"ease":"cubicOut"}}],"pulsation":{"to":{"scale":{"x":0.9,"y":0.9}},"duration":900,"options":{"yoyo":true,"repeat":"Infinity","ease":"quadraticInOut"}}}')},77084:t=>{"use strict";t.exports=JSON.parse('{"key":"bg","cx":0,"cy":0,"texture":"bg2","width":"100%","height":"100%"}')},42434:t=>{"use strict";t.exports=JSON.parse('{"key":"gameScene","children":{"bg":{"type":"Background","layout":"bg"},"bgAnimation":{"type":"BackgroundAnimation"},"level":{"type":"Level","layout":"level"},"tasks":{"type":"Tasks","layout":"tasks"},"ui":{"type":"Ui","children":"ui"},"popupLives":{"type":"PopupLives","layout":"popupLives"}}}')},34373:t=>{"use strict";t.exports=JSON.parse('{"i1_40":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":156,"y":-38},"i1_39":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":299,"y":-433},"i1_38":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-11,"y":-164},"i1_37":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-283,"y":-179},"i1_36":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-376,"y":-142},"i1_35":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":291,"y":-145},"i1_34":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-375,"y":18},"i1_33":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-191,"y":101},"i1_32":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":129,"y":217},"i1_31":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":204,"y":238},"i1_30":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":245,"y":347},"i1_29":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":223,"y":-93},"i1_28":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":350,"y":-209},"i1_27":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-249,"y":295},"i1_26":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":223,"y":9},"i1_25":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":356,"y":261},"i1_24":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":31,"y":-292},"i1_23":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":199,"y":-272},"i1_22":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":131,"y":-261},"i1_21":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-186,"y":163},"i1_20":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-254,"y":162},"i1_19":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-70,"y":-355},"i1_18":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-80,"y":-126},"i1_17":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":16,"y":384},"i1_16":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":329,"y":100},"i1_15":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":106,"y":119},"i1_14":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-341,"y":-417},"i1_13":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-210,"y":360},"i1_12":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":39,"y":101},"i1_11":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":181,"y":-72},"i1_10":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":310,"y":-303},"i1_9":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":307,"y":-197},"i1_8":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-91,"y":-84},"i1_7":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":159,"y":384},"i1_6":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-32,"y":285},"i1_5":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-182,"y":153},"i1_4":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":64,"y":-197},"i1_3":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-311,"y":-389},"i1_2":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":148,"y":186},"i1_1":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":156,"y":-38}}')},9932:t=>{"use strict";t.exports=JSON.parse('{"i2_40":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-226,"y":29},"i2_39":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-67,"y":-512},"i2_38":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":233,"y":-473},"i2_37":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":58,"y":60},"i2_36":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":125,"y":353},"i2_35":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":178,"y":-375},"i2_34":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-47,"y":148},"i2_33":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-146,"y":264},"i2_32":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-168,"y":295},"i2_31":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":212,"y":-103},"i2_30":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":13,"y":22},"i2_29":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-271,"y":83},"i2_28":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-272,"y":90},"i2_27":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-326,"y":-383},"i2_26":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":192,"y":181},"i2_25":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-354,"y":-100},"i2_24":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":82,"y":310},"i2_23":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-119,"y":-312},"i2_22":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":90,"y":-212},"i2_21":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-224,"y":-309},"i2_20":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-227,"y":-50},"i2_19":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":167,"y":423},"i2_18":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-174,"y":146},"i2_17":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-113,"y":21},"i2_16":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":279,"y":60},"i2_15":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":10,"y":101},"i2_14":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":157,"y":472},"i2_13":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":267,"y":379},"i2_12":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-102,"y":-198},"i2_11":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-66,"y":109},"i2_10":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-346,"y":-114},"i2_9":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-359,"y":-179},"i2_8":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":328,"y":167},"i2_7":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-140,"y":-177},"i2_6":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-422,"y":140},"i2_5":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-321,"y":306},"i2_4":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-317,"y":299},"i2_3":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-203,"y":363},"i2_2":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-255,"y":341},"i2_1":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-120,"y":-74}}')},12150:t=>{"use strict";t.exports=JSON.parse('{"i3_41":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-336,"y":211},"i3_40":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-230,"y":259},"i3_39":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":4,"y":85},"i3_38":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":57,"y":-77},"i3_37":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-54,"y":248},"i3_36":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-411,"y":340},"i3_35":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":296,"y":49},"i3_34":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-263,"y":-98},"i3_33":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-232,"y":-70},"i3_32":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":285,"y":85},"i3_31":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":269,"y":146},"i3_30":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":67,"y":399},"i3_29":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-241,"y":91},"i3_28":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-258,"y":377},"i3_27":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-107,"y":262},"i3_26":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-27,"y":-112},"i3_25":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-245,"y":440},"i3_24":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-274,"y":7},"i3_23":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-328,"y":-9.5},"i3_22":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-20,"y":-336},"i3_21":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-82.5,"y":-334},"i3_20":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-22,"y":405.5},"i3_19":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":75,"y":319},"i3_18":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-144,"y":312},"i3_17":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-209.5,"y":262.5},"i3_16":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-126,"y":99},"i3_15":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":62.5,"y":170},"i3_14":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":52,"y":54},"i3_13":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":143.5,"y":290},"i3_12":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-313,"y":207.5},"i3_11":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":99,"y":394.5},"i3_10":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-258,"y":371},"i3_9":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":148.5,"y":42},"i3_8":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-205.5,"y":333.5},"i3_7":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":117,"y":0},"i3_6":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-340,"y":407},"i3_5":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-203.5,"y":381},"i3_4":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-37,"y":124.5},"i3_3":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-113.5,"y":-333},"i3_2":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":185.5,"y":1.5},"i3_1":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":241.5,"y":-12}}')},12649:t=>{"use strict";t.exports=JSON.parse('{"i4_40":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-31,"y":-37},"i4_39":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":273,"y":0},"i4_38":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-278,"y":6},"i4_37":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-268,"y":37},"i4_36":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-93,"y":350},"i4_35":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-95,"y":-151},"i4_34":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-310,"y":70},"i4_33":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-148,"y":-282},"i4_32":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-251,"y":-214},"i4_31":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":342,"y":143},"i4_30":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-170,"y":3},"i4_29":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-413,"y":49},"i4_28":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-362,"y":-53},"i4_27":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":237,"y":-51.5},"i4_26":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":204,"y":-260.5},"i4_25":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-360,"y":174.5},"i4_24":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":289,"y":-5},"i4_23":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-237,"y":307},"i4_22":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-256,"y":-151},"i4_21":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-418,"y":138},"i4_20":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":99,"y":141},"i4_19":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":47,"y":78},"i4_18":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":162,"y":-186},"i4_17":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":207,"y":-149},"i4_16":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-87,"y":-88},"i4_15":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-121,"y":89},"i4_14":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-53,"y":330},"i4_13":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":107,"y":195.5},"i4_12":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-27,"y":261},"i4_11":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":55,"y":221},"i4_10":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-135,"y":244},"i4_9":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-87.5,"y":83},"i4_8":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-147.5,"y":215},"i4_7":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":24,"y":325},"i4_6":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-26,"y":358.5},"i4_5":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":197.5,"y":224},"i4_4":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":202.5,"y":357.5},"i4_3":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":154,"y":311},"i4_2":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-48,"y":-300.5},"i4_1":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":49,"y":26}}')},34684:t=>{"use strict";t.exports=JSON.parse('{"i5_39":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":147,"y":-332},"i5_38":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-214.5,"y":182},"i5_37":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":65,"y":-70},"i5_36":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":262,"y":-207},"i5_35":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":249,"y":-217.5},"i5_34":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":263,"y":42},"i5_33":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":159.5,"y":259.5},"i5_32":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":307,"y":29},"i5_31":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":304,"y":-58},"i5_30":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-80,"y":7},"i5_29":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":126,"y":270},"i5_28":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-207,"y":-296},"i5_27":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-36,"y":-224},"i5_26":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-19,"y":20},"i5_25":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-423,"y":40},"i5_24":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-185,"y":-71},"i5_23":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":323,"y":-363},"i5_22":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-211,"y":-355},"i5_21":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-314,"y":23},"i5_20":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-318,"y":18},"i5_19":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-380,"y":-185},"i5_18":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-397,"y":-201},"i5_17":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":34,"y":22},"i5_16":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":84,"y":-77},"i5_15":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":100,"y":-72},"i5_14":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-398,"y":-191},"i5_13":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":302,"y":72},"i5_12":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-234,"y":-152},"i5_11":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-201,"y":348},"i5_10":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":116,"y":-127},"i5_9":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-30,"y":-514},"i5_8":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":290,"y":283},"i5_7":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-355,"y":218},"i5_6":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-103,"y":91},"i5_5":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-291,"y":14.5},"i5_4":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-203,"y":10},"i5_3":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-291,"y":255},"i5_2":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":155,"y":285},"i5_1":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":85,"y":302}}')},36986:t=>{"use strict";t.exports=JSON.parse('{"texture":"container","states":{"ver":{"scale":0.65,"cx":0,"cy":-50},"hor":{"scale":1,"cx":0,"cy":0},"hor narrow":{"scale":1.1,"cx":0,"cy":-50}},"tweens":{"complete":{"to":"alpha0","duration":300}},"children":{"image":{"type":"LevelImage","texture":"container","states":{"completed":{"visible":false}},"children":{"items":{"type":"LevelItems","states":{"completed":{"visible":false}}}}},"flash":{"visible":false,"texture":"splash","width":1024,"height":1024,"alpha":0,"tint":"0xfef5e7","tweens":{"show":{"to":"alpha1","duration":100,"options":{"ease":"cubicOut"}}}}}}')},82169:t=>{"use strict";t.exports=JSON.parse('{"anchor":0.5,"texture":"container","visible":true,"scale":{"x":0,"y":0},"cx":0,"cy":0,"states":{"scale1":{"scale":{"x":1,"y":1}}},"tweens":{"scale":{"on":"SuccessScene","to":"scale1","duration":1000,"options":{"ease":"cubicInOut"}},"rotation":{"on":"SuccessScene","to":{"angle":720},"duration":1000,"options":{"ease":"cubicInOut"}}},"children":{"cover":{"texture":"splash","tint":"0xffffff","x":0,"y":0,"width":400,"height":450},"black":{"texture":"splash","tint":"0x000000","width":350,"y":-25,"height":350},"picture":{"alpha":0,"texture":"level1","width":350,"y":-25,"height":350,"tweens":{"show":{"on":"SuccessScene","to":"alpha1","duration":2000,"options":{"delay":1000}}}},"stamp":{"visible":false,"x":-5000,"y":-5000,"states":{},"tweens":{"show":{"to":"visible","on":"SuccessScene","duration":0,"options":{"delay":1000}},"scale":{"on":"SuccessScene","to":{"scale":{"x":1,"y":1}},"duration":750,"options":{"delay":1250}},"move":{"on":"SuccessScene","to":{"x":80,"y":160},"duration":1500,"options":{"delay":250,"ease":"cubicOut"}}},"scale":{"x":20,"y":20}}}}')},28360:t=>{"use strict";t.exports=JSON.parse('{"anchor":0.5,"texture":"container","visible":false,"scale":{"x":0,"y":0},"cx":0,"cy":0,"states":{"active":{"visible":true,"scale":{"x":1,"y":1}}},"tweens":{"show":{"to":"active","duration":300,"options":{"ease":"backOut"}}},"children":{"popup":{"x":0,"y":0},"title":{"x":0,"y":-200,"text":"No Lives","style":"popupLivesTitle"},"lives1":{"scale":0.8,"x":0.5,"y":-40,"tweens":{"tween2":{"to":{"ox":-30,"oy":30,"angle":-20,"scale":{"x":0.8,"y":0.8}},"duration":600,"options":{"ease":"backOut"}},"tween1":{"to":{"scale":{"x":0.4,"y":0.8}},"duration":300,"options":{"ease":"backIn"}}}},"lives2":{"scale":0.8,"x":-0.5,"y":-40,"tweens":{"tween1":{"to":{"scale":{"x":0.4,"y":0.8}},"duration":300,"options":{"ease":"backIn"}},"tween2":{"to":{"ox":30,"oy":20,"angle":10,"scale":{"x":0.8,"y":0.8}},"duration":300,"options":{"ease":"backOut"}}}},"btn":{"x":0,"y":175,"scale":0.8,"children":{"label":{"text":"Restart","style":"button"}}}}}')},66454:t=>{"use strict";t.exports=JSON.parse('{"key":"startScene","children":{"bg":{"type":"Background","layout":"bg"},"bgAnimation":{"type":"BackgroundAnimation"},"btn":{"scale":{"x":0,"y":0},"cx":0,"cy":200,"children":{"label":{"text":"Start","style":"button"}}}}}')},25110:t=>{"use strict";t.exports=JSON.parse('{"key":"gameScene","children":{"bg":{"type":"Background","layout":"bg"},"bgAnimation":{"type":"BackgroundAnimation"},"title":{"cx":0,"cy":-1000,"states":{"visible":{"cx":0,"cy":-350}},"tweens":{"show":{"to":"visible","on":"SuccessScene","duration":600,"options":{"ease":"backOut"}}},"text":"Level Completed","style":"successSceneTitle"},"photo":{"type":"LevelPhoto","layout":"levelPhoto"},"btn":{"scale":{"x":0,"y":0},"cx":0,"cy":350,"tweens":{"show":{"on":"SuccessScene","to":"scale1","duration":600,"options":{"delay":2500,"ease":"backOut"}}},"children":{"label":{"text":"Continue","style":"button"}}}}}')},75132:t=>{"use strict";t.exports=JSON.parse('{"key":"tasks","texture":"container","states":{"ver":{"x":75,"bottom":100},"hor":{"right":200,"y":250}},"children":{"cover":{"anchor":{"x":0,"y":0.5},"texture":"splash","states":{"ver":{"x":-65,"y":0},"hor":{"x":0,"y":0}},"width":100,"height":100,"tint":"0xcccccc","alpha":0}},"components":{"scrollHorizontal":{"enabled":false},"scrollVertical":{"enabled":false}}}')},42779:t=>{"use strict";t.exports=JSON.parse('{"tasks":{"type":"UiTasks","texture":"container","states":{"ver":{"cx":0,"bottom":200,"scale":1},"hor":{"scale":2,"right":200,"y":65}},"tweens":{"hide":{"on":"completed","to":"alpha0","duration":500,"options":{"ease":"backIn"}}},"children":{"label":{"text":"Tasks: 0/30","style":"tasks"}}},"lives":{"type":"Lives","states":{"ver":{"scale":{"x":0.25,"y":0.25},"x":50,"y":65},"hor":{"scale":{"x":0.5,"y":0.5},"x":100,"y":100}},"tweens":{"hide":{"on":"completed","to":"scale0","duration":300,"options":{"ease":"backIn"}}},"children":{"circle":{"alpha":1,"x":100,"y":-100,"width":150,"height":150},"value":{"scale":4,"x":100,"y":-100,"text":"0","style":"lives"}}},"hint":{"tweens":{"hide":{"on":"completed","to":"scale0","duration":300,"options":{"ease":"backIn"}}},"states":{"ver":{"scale":{"x":0.25,"y":0.25},"y":65,"right":50},"hor":{"scale":{"x":0.5,"y":0.5},"x":100,"bottom":100}},"type":"Hint","children":{"circle":{"alpha":1,"x":100,"y":-100,"width":150,"height":150},"value":{"scale":4,"x":100,"y":-100,"text":"0","style":"lives"}}},"fail":{"scale":{"x":0,"y":0},"states":{},"tweens":{}},"shadow":{"type":"Shadow","texture":"splash","width":5000,"height":5000,"tint":"0x000000","alpha":0,"x":0,"y":0,"visible":false,"tweens":{"show":{"to":{"visible":true,"alpha":0.75},"duration":300},"hide":{"to":{"visible":false,"alpha":0},"duration":300}},"components":{"mask":{"texture":"circle","width":200,"height":200}}}}')}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t+"../"})();(()=>{"use strict";var t=r(80299),e=r(41476);window.addEventListener("DOMContentLoaded",(function(){return t.App.run(e.ProjectConfig)})),window.App=t.App})()})();