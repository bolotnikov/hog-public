/*! For license information please see bundle.min.js.LICENSE.txt */
(()=>{var s={76048:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191),m=c(79743),v=c(87373);y.DisplayObject.mixin(v.accessibleTarget);class AccessibilityManager{constructor(s){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(_.utils.isMobile.tablet||_.utils.isMobile.phone)&&this.createTouchHook();const l=document.createElement("div");l.style.width="100px",l.style.height="100px",l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.zIndex=2..toString(),this.div=l,this.renderer=s,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const s=document.createElement("button");s.style.width="1px",s.style.height="1px",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.style.zIndex=2..toString(),s.style.backgroundColor="#FF0000",s.title="select to enable accessibility for this content",s.addEventListener("focus",(()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()})),document.body.appendChild(s),this._hookDiv=s}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(s){if(!s.visible||!s.accessibleChildren)return;s.accessible&&s.isInteractive()&&(s._accessibleActive||this.addChild(s),s.renderId=this.renderId);const l=s.children;if(l)for(let s=0;s<l.length;s++)this.updateAccessibleObjects(l[s])}update(){const s=performance.now();if(_.utils.isMobile.android.device&&s<this.androidUpdateCount)return;if(this.androidUpdateCount=s+this.androidUpdateFrequency,!this.renderer.renderingToScreen)return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:l,y:c,width:y,height:m}=this.renderer.view.getBoundingClientRect(),{width:v,height:T,resolution:E}=this.renderer,S=y/v*E,A=m/T*E;let w=this.div;w.style.left=`${l}px`,w.style.top=`${c}px`,w.style.width=`${v}px`,w.style.height=`${T}px`;for(let s=0;s<this.children.length;s++){const l=this.children[s];if(l.renderId!==this.renderId)l._accessibleActive=!1,_.utils.removeItems(this.children,s,1),this.div.removeChild(l._accessibleDiv),this.pool.push(l._accessibleDiv),l._accessibleDiv=null,s--;else{w=l._accessibleDiv;let s=l.hitArea;const c=l.worldTransform;l.hitArea?(w.style.left=(c.tx+s.x*c.a)*S+"px",w.style.top=(c.ty+s.y*c.d)*A+"px",w.style.width=s.width*c.a*S+"px",w.style.height=s.height*c.d*A+"px"):(s=l.getBounds(),this.capHitArea(s),w.style.left=s.x*S+"px",w.style.top=s.y*A+"px",w.style.width=s.width*S+"px",w.style.height=s.height*A+"px",w.title!==l.accessibleTitle&&null!==l.accessibleTitle&&(w.title=l.accessibleTitle),w.getAttribute("aria-label")!==l.accessibleHint&&null!==l.accessibleHint&&w.setAttribute("aria-label",l.accessibleHint)),l.accessibleTitle===w.title&&l.tabIndex===w.tabIndex||(w.title=l.accessibleTitle,w.tabIndex=l.tabIndex,this.debug&&this.updateDebugHTML(w))}}this.renderId++}updateDebugHTML(s){s.innerHTML=`type: ${s.type}</br> title : ${s.title}</br> tabIndex: ${s.tabIndex}`}capHitArea(s){s.x<0&&(s.width+=s.x,s.x=0),s.y<0&&(s.height+=s.y,s.y=0);const{width:l,height:c}=this.renderer;s.x+s.width>l&&(s.width=l-s.x),s.y+s.height>c&&(s.height=c-s.y)}addChild(s){let l=this.pool.pop();l||(l=document.createElement("button"),l.style.width="100px",l.style.height="100px",l.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",l.style.position="absolute",l.style.zIndex=2..toString(),l.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?l.setAttribute("aria-live","off"):l.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?l.setAttribute("aria-relevant","additions"):l.setAttribute("aria-relevant","text"),l.addEventListener("click",this._onClick.bind(this)),l.addEventListener("focus",this._onFocus.bind(this)),l.addEventListener("focusout",this._onFocusOut.bind(this))),l.style.pointerEvents=s.accessiblePointerEvents,l.type=s.accessibleType,s.accessibleTitle&&null!==s.accessibleTitle?l.title=s.accessibleTitle:s.accessibleHint&&null!==s.accessibleHint||(l.title=`displayObject ${s.tabIndex}`),s.accessibleHint&&null!==s.accessibleHint&&l.setAttribute("aria-label",s.accessibleHint),this.debug&&this.updateDebugHTML(l),s._accessibleActive=!0,s._accessibleDiv=l,l.displayObject=s,this.children.push(s),this.div.appendChild(s._accessibleDiv),s._accessibleDiv.tabIndex=s.tabIndex}_dispatchEvent(s,l){const{displayObject:c}=s.target,_=this.renderer.events.rootBoundary,y=Object.assign(new m.FederatedEvent(_),{target:c});_.rootTarget=this.renderer.lastObjectRendered,l.forEach((s=>_.dispatchEvent(y,s)))}_onClick(s){this._dispatchEvent(s,["click","pointertap","tap"])}_onFocus(s){s.target.getAttribute("aria-live")||s.target.setAttribute("aria-live","assertive"),this._dispatchEvent(s,["mouseover"])}_onFocusOut(s){s.target.getAttribute("aria-live")||s.target.setAttribute("aria-live","polite"),this._dispatchEvent(s,["mouseout"])}_onKeyDown(s){9===s.keyCode&&this.activate()}_onMouseMove(s){0===s.movementX&&0===s.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}AccessibilityManager.extension={name:"accessibility",type:[_.ExtensionType.RendererPlugin,_.ExtensionType.CanvasRendererPlugin]},_.extensions.add(AccessibilityManager),l.AccessibilityManager=AccessibilityManager},87373:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1}},75649:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(76048),y=c(87373);l.AccessibilityManager=_.AccessibilityManager,l.accessibleTarget=y.accessibleTarget},57450:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191);const m=class{constructor(s){this.stage=new y.Container,s=Object.assign({forceCanvas:!1},s),this.renderer=_.autoDetectRenderer(s),m._plugins.forEach((l=>{l.init.call(this,s)}))}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(s,l){const c=m._plugins.slice(0);c.reverse(),c.forEach((s=>{s.destroy.call(this)})),this.stage.destroy(l),this.stage=null,this.renderer.destroy(s),this.renderer=null}};let v=m;v._plugins=[],_.extensions.handleByList(_.ExtensionType.Application,v._plugins),l.Application=v},45581:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);class ResizePlugin{static init(s){Object.defineProperty(this,"resizeTo",{set(s){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=s,s&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let s,l;if(this.cancelResize(),this._resizeTo===globalThis.window)s=globalThis.innerWidth,l=globalThis.innerHeight;else{const{clientWidth:c,clientHeight:_}=this._resizeTo;s=c,l=_}this.renderer.resize(s,l),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=s.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}ResizePlugin.extension=_.ExtensionType.Application,_.extensions.add(ResizePlugin),l.ResizePlugin=ResizePlugin},21827:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57450),y=c(45581);l.Application=_.Application,l.ResizePlugin=y.ResizePlugin},93238:(s,l,c)=>{"use strict";var _=c(48742);const y={loader:_.ExtensionType.LoadParser,resolver:_.ExtensionType.ResolveParser,cache:_.ExtensionType.CacheParser,detection:_.ExtensionType.DetectionParser};_.extensions.handle(_.ExtensionType.Asset,(s=>{const l=s.ref;Object.entries(y).filter((([s])=>!!l[s])).forEach((([s,c])=>_.extensions.add(Object.assign(l[s],{extension:l[s].extension??c}))))}),(s=>{const l=s.ref;Object.keys(y).filter((s=>!!l[s])).forEach((s=>_.extensions.remove(l[s])))}))},82961:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(36845),m=c(50241),v=c(76480);c(94498);var T=c(67847),E=c(51331),S=c(81114),A=c(63195);class AssetsClass{constructor(){this._detections=[],this._initialized=!1,this.resolver=new T.Resolver,this.loader=new v.Loader,this.cache=m.Cache,this._backgroundLoader=new y.BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(s={}){if(this._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");if(this._initialized=!0,s.defaultSearchParams&&this.resolver.setDefaultSearchParams(s.defaultSearchParams),s.basePath&&(this.resolver.basePath=s.basePath),s.bundleIdentifier&&this.resolver.setBundleIdentifier(s.bundleIdentifier),s.manifest){let l=s.manifest;"string"==typeof l&&(l=await this.load(l)),this.resolver.addManifest(l)}const l=s.texturePreference?.resolution??1,c="number"==typeof l?[l]:l;let _=[];if(s.texturePreference?.format){const l=s.texturePreference?.format;_="string"==typeof l?[l]:l;for(const s of this._detections)await s.test()||(_=await s.remove(_))}else for(const s of this._detections)await s.test()&&(_=await s.add(_));this.resolver.prefer({params:{format:_,resolution:c}}),s.preferences&&this.setPreferences(s.preferences)}add(s,l,c){this.resolver.add(s,l,c)}async load(s,l){this._initialized||await this.init();const c=S.isSingleItem(s),_=E.convertToList(s).map((s=>"string"!=typeof s?(this.resolver.add(s.src,s),s.src):(this.resolver.hasKey(s)||this.resolver.add(s,s),s))),y=this.resolver.resolve(_),m=await this._mapLoadToResolve(y,l);return c?m[_[0]]:m}addBundle(s,l){this.resolver.addBundle(s,l)}async loadBundle(s,l){this._initialized||await this.init();let c=!1;"string"==typeof s&&(c=!0,s=[s]);const _=this.resolver.resolveBundle(s),y={},m=Object.keys(_);let v=0,T=0;const _onProgress=()=>{l?.(++v/T)},E=m.map((s=>{const l=_[s];return T+=Object.keys(l).length,this._mapLoadToResolve(l,_onProgress).then((l=>{y[s]=l}))}));return await Promise.all(E),c?y[s[0]]:y}async backgroundLoad(s){this._initialized||await this.init(),"string"==typeof s&&(s=[s]);const l=this.resolver.resolve(s);this._backgroundLoader.add(Object.values(l))}async backgroundLoadBundle(s){this._initialized||await this.init(),"string"==typeof s&&(s=[s]);const l=this.resolver.resolveBundle(s);Object.values(l).forEach((s=>{this._backgroundLoader.add(Object.values(s))}))}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(s){if("string"==typeof s)return m.Cache.get(s);const l={};for(let c=0;c<s.length;c++)l[c]=m.Cache.get(s[c]);return l}async _mapLoadToResolve(s,l){const c=Object.values(s),_=Object.keys(s);this._backgroundLoader.active=!1;const y=await this.loader.load(c,l);this._backgroundLoader.active=!0;const v={};return c.forEach(((s,l)=>{const c=y[s.src],T=[s.src];s.alias&&T.push(...s.alias),v[_[l]]=c,m.Cache.set(T,c)})),v}async unload(s){this._initialized||await this.init();const l=E.convertToList(s).map((s=>"string"!=typeof s?s.src:s)),c=this.resolver.resolve(l);await this._unloadFromResolved(c)}async unloadBundle(s){this._initialized||await this.init(),s=E.convertToList(s);const l=this.resolver.resolveBundle(s),c=Object.keys(l).map((s=>this._unloadFromResolved(l[s])));await Promise.all(c)}async _unloadFromResolved(s){const l=Object.values(s);l.forEach((s=>{m.Cache.remove(s.src)})),await this.loader.unload(l)}get detections(){return this._detections}get preferWorkers(){return A.loadTextures.config.preferWorkers}set preferWorkers(s){_.utils.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:s})}setPreferences(s){this.loader.parsers.forEach((l=>{l.config&&Object.keys(l.config).filter((l=>l in s)).forEach((c=>{l.config[c]=s[c]}))}))}}const w=new AssetsClass;_.extensions.handleByList(_.ExtensionType.LoadParser,w.loader.parsers).handleByList(_.ExtensionType.ResolveParser,w.resolver.parsers).handleByList(_.ExtensionType.CacheParser,w.cache.parsers).handleByList(_.ExtensionType.DetectionParser,w.detections),l.Assets=w,l.AssetsClass=AssetsClass},36845:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.BackgroundLoader=class BackgroundLoader{constructor(s,l=!1){this._loader=s,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=l}add(s){s.forEach((s=>{this._assetList.push(s)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const s=[],l=Math.min(this._assetList.length,this._maxConcurrent);for(let c=0;c<l;c++)s.push(this._assetList.pop());await this._loader.load(s),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(s){this._isActive!==s&&(this._isActive=s,s&&!this._isLoading&&this._next())}}},50241:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);c(99973);var y=c(51331);const m=new class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(s){return this._cache.has(s)}get(s){const l=this._cache.get(s);return l||console.warn(`[Assets] Asset id ${s} was not found in the Cache`),l}set(s,l){const c=y.convertToList(s);let m;for(let s=0;s<this.parsers.length;s++){const _=this.parsers[s];if(_.test(l)){m=_.getCacheableAssets(c,l);break}}m||(m={},c.forEach((s=>{m[s]=l})));const v=Object.keys(m),T={cacheKeys:v,keys:c};if(c.forEach((s=>{this._cacheMap.set(s,T)})),v.forEach((s=>{this._cache.has(s)&&this._cache.get(s)!==l&&console.warn("[Cache] already has key:",s),this._cache.set(s,m[s])})),l instanceof _.Texture){const s=l;c.forEach((l=>{s.baseTexture!==_.Texture.EMPTY.baseTexture&&_.BaseTexture.addToCache(s.baseTexture,l),_.Texture.addToCache(s,l)}))}}remove(s){if(this._cacheMap.get(s),!this._cacheMap.has(s))return void console.warn(`[Assets] Asset id ${s} was not found in the Cache`);const l=this._cacheMap.get(s);l.cacheKeys.forEach((s=>{this._cache.delete(s)})),l.keys.forEach((s=>{this._cacheMap.delete(s)}))}get parsers(){return this._parsers}};l.Cache=m},28799:()=>{},38570:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(50241);c(28799),c(97911),l.Cache=_.Cache},47880:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);const y={extension:_.ExtensionType.CacheParser,test:s=>Array.isArray(s)&&s.every((s=>s instanceof _.Texture)),getCacheableAssets:(s,l)=>{const c={};return s.forEach((s=>{l.forEach(((l,_)=>{c[s+(0===_?"":_+1)]=l}))})),c}};_.extensions.add(y),l.cacheTextureArray=y},97911:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(47880);l.cacheTextureArray=_.cacheTextureArray},86158:(s,l,c)=>{"use strict";c(28001)},39231:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);const y={extension:{type:_.ExtensionType.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const s=await _.settings.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then((s=>s.blob()));return createImageBitmap(s).then((()=>!0),(()=>!1))},add:async s=>[...s,"avif"],remove:async s=>s.filter((s=>"avif"!==s))};_.extensions.add(y),l.detectAvif=y},94041:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);const y=["png","jpg","jpeg"],m={extension:{type:_.ExtensionType.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async s=>[...s,...y],remove:async s=>s.filter((s=>!y.includes(s)))};_.extensions.add(m),l.detectDefaults=m},91133:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);const y={extension:{type:_.ExtensionType.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const s=await _.settings.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((s=>s.blob()));return createImageBitmap(s).then((()=>!0),(()=>!1))},add:async s=>[...s,"webp"],remove:async s=>s.filter((s=>"webp"!==s))};_.extensions.add(y),l.detectWebp=y},28001:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(39231),y=c(91133),m=c(94041);l.detectAvif=_.detectAvif,l.detectWebp=y.detectWebp,l.detectDefaults=m.detectDefaults},8415:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(93238);var _=c(82961);c(38570),c(86158),c(30807),c(69076),c(99973);var y=c(50241),m=c(47880),v=c(39231),T=c(91133),E=c(94041),S=c(14265),A=c(64176),w=c(44899),P=c(12321),O=c(49568),C=c(63195),R=c(61002),L=c(80819),D=c(25458),B=c(39007),F=c(51331),k=c(66048),U=c(54878),G=c(81114);l.Assets=_.Assets,l.AssetsClass=_.AssetsClass,l.Cache=y.Cache,l.cacheTextureArray=m.cacheTextureArray,l.detectAvif=v.detectAvif,l.detectWebp=T.detectWebp,l.detectDefaults=E.detectDefaults,l.LoaderParserPriority=S.LoaderParserPriority,l.loadJson=A.loadJson,l.loadTxt=w.loadTxt,l.getFontFamilyName=P.getFontFamilyName,l.loadWebFont=P.loadWebFont,l.loadSVG=O.loadSVG,l.loadImageBitmap=C.loadImageBitmap,l.loadTextures=C.loadTextures,l.createTexture=R.createTexture,l.resolveTextureUrl=L.resolveTextureUrl,l.checkDataUrl=D.checkDataUrl,l.checkExtension=B.checkExtension,l.convertToList=F.convertToList,l.copySearchParams=k.copySearchParams,l.createStringVariations=U.createStringVariations,l.isSingleItem=G.isSingleItem},76480:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);c(99973);var y=c(81114),m=c(51331);l.Loader=class Loader{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(s,l,c)=>(this._parsersValidated=!1,s[l]=c,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(s,l){const c={promise:null,parser:null};return c.promise=(async()=>{let _=null,y=null;if(l.loadParser&&(y=this._parserHash[l.loadParser],y||console.warn(`[Assets] specified load parser "${l.loadParser}" not found while loading ${s}`)),!y){for(let c=0;c<this.parsers.length;c++){const _=this.parsers[c];if(_.load&&_.test?.(s,l,this)){y=_;break}}if(!y)return console.warn(`[Assets] ${s} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}_=await y.load(s,l,this),c.parser=y;for(let s=0;s<this.parsers.length;s++){const y=this.parsers[s];y.parse&&y.parse&&await(y.testParse?.(_,l,this))&&(_=await y.parse(_,l,this)||_,c.parser=y)}return _})(),c}async load(s,l){this._parsersValidated||this._validateParsers();let c=0;const v={},T=y.isSingleItem(s),E=m.convertToList(s,(s=>({src:s}))),S=E.length,A=E.map((async s=>{const y=_.utils.path.toAbsolute(s.src);if(!v[s.src])try{this.promiseCache[y]||(this.promiseCache[y]=this._getLoadPromiseAndParser(y,s)),v[s.src]=await this.promiseCache[y].promise,l&&l(++c/S)}catch(l){throw delete this.promiseCache[y],delete v[s.src],new Error(`[Loader.load] Failed to load ${y}.\n${l}`)}}));return await Promise.all(A),T?v[E[0].src]:v}async unload(s){const l=m.convertToList(s,(s=>({src:s}))).map((async s=>{const l=_.utils.path.toAbsolute(s.src),c=this.promiseCache[l];if(c){const _=await c.promise;c.parser?.unload?.(_,s,this),delete this.promiseCache[l]}}));await Promise.all(l)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((s=>s.name)).reduce(((s,l)=>(s[l.name]&&console.warn(`[Assets] loadParser name conflict "${l.name}"`),{...s,[l.name]:l})),{})}}},30807:(s,l,c)=>{"use strict";c(94498),c(40530)},14265:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(c||{});l.LoaderParserPriority=c},96585:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c,_=0;const y={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    "},m={id:"loadImageBitmap",code:"\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"};let v;const T=new class WorkerManagerClass{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((s=>{const l=URL.createObjectURL(new Blob([y.code],{type:"application/javascript"})),c=new Worker(l);c.addEventListener("message",(_=>{c.terminate(),URL.revokeObjectURL(l),s(_.data)}))}))),this._isImageBitmapSupported}loadImageBitmap(s){return this._run("loadImageBitmap",[s])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===c&&(c=navigator.hardwareConcurrency||4);let s=this.workerPool.pop();return!s&&this._createdWorkers<c&&(v||(v=URL.createObjectURL(new Blob([m.code],{type:"application/javascript"}))),this._createdWorkers++,s=new Worker(v),s.addEventListener("message",(s=>{this.complete(s.data),this.returnWorker(s.target),this.next()}))),s}returnWorker(s){this.workerPool.push(s)}complete(s){void 0!==s.error?this.resolveHash[s.uuid].reject(s.error):this.resolveHash[s.uuid].resolve(s.data),this.resolveHash[s.uuid]=null}async _run(s,l){await this._initWorkers();const c=new Promise(((c,_)=>{this.queue.push({id:s,arguments:l,resolve:c,reject:_})}));return this.next(),c}next(){if(!this.queue.length)return;const s=this.getWorker();if(!s)return;const l=this.queue.pop(),c=l.id;this.resolveHash[_]={resolve:l.resolve,reject:l.reject},s.postMessage({data:l.arguments,uuid:_++,id:c})}};l.WorkerManager=T},94498:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(14265),y=c(64176),m=c(44899),v=c(12321);c(36577),l.LoaderParserPriority=_.LoaderParserPriority,l.loadJson=y.loadJson,l.loadTxt=m.loadTxt,l.getFontFamilyName=v.getFontFamilyName,l.loadWebFont=v.loadWebFont},64176:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(25458),m=c(39007),v=c(14265);const T={extension:{type:_.ExtensionType.LoadParser,priority:v.LoaderParserPriority.Low},name:"loadJson",test:s=>y.checkDataUrl(s,"application/json")||m.checkExtension(s,".json"),async load(s){const l=await _.settings.ADAPTER.fetch(s);return await l.json()}};_.extensions.add(T),l.loadJson=T},44899:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(25458),m=c(39007),v=c(14265);const T={name:"loadTxt",extension:{type:_.ExtensionType.LoadParser,priority:v.LoaderParserPriority.Low},test:s=>y.checkDataUrl(s,"text/plain")||m.checkExtension(s,".txt"),async load(s){const l=await _.settings.ADAPTER.fetch(s);return await l.text()}};_.extensions.add(T),l.loadTxt=T},12321:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(25458),m=c(39007),v=c(14265);const T=["normal","bold","100","200","300","400","500","600","700","800","900"],E=[".ttf",".otf",".woff",".woff2"],S=["font/ttf","font/otf","font/woff","font/woff2"],A=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function getFontFamilyName(s){const l=_.utils.path.extname(s),c=_.utils.path.basename(s,l).replace(/(-|_)/g," ").toLowerCase().split(" ").map((s=>s.charAt(0).toUpperCase()+s.slice(1)));let y=c.length>0;for(const s of c)if(!s.match(A)){y=!1;break}let m=c.join(" ");return y||(m=`"${m.replace(/[\\"]/g,"\\$&")}"`),m}const w={extension:{type:_.ExtensionType.LoadParser,priority:v.LoaderParserPriority.Low},name:"loadWebFont",test:s=>y.checkDataUrl(s,S)||m.checkExtension(s,E),async load(s,l){const c=_.settings.ADAPTER.getFontFaceSet();if(c){const _=[],y=l.data?.family??getFontFamilyName(s),m=l.data?.weights?.filter((s=>T.includes(s)))??["normal"],v=l.data??{};for(let l=0;l<m.length;l++){const T=m[l],E=new FontFace(y,`url(${encodeURI(s)})`,{...v,weight:T});await E.load(),c.add(E),_.push(E)}return 1===_.length?_[0]:_}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(s){(Array.isArray(s)?s:[s]).forEach((s=>_.settings.ADAPTER.getFontFaceSet().delete(s)))}};_.extensions.add(w),l.getFontFamilyName=getFontFamilyName,l.loadWebFont=w},36577:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(49568),y=c(63195);c(26602),l.loadSVG=_.loadSVG,l.loadImageBitmap=y.loadImageBitmap,l.loadTextures=y.loadTextures},49568:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(25458),m=c(39007),v=c(14265),T=c(63195),E=c(61002);const S={extension:{type:_.ExtensionType.LoadParser,priority:v.LoaderParserPriority.High},name:"loadSVG",test:s=>y.checkDataUrl(s,"image/svg+xml")||m.checkExtension(s,".svg"),testParse:async s=>_.SVGResource.test(s),async parse(s,l,c){const y=new _.SVGResource(s,l?.data?.resourceOptions);await y.load();const m=new _.BaseTexture(y,{resolution:_.utils.getResolutionOfUrl(s),...l?.data});m.resource.src=s;return E.createTexture(m,c,s)},load:async(s,l)=>(await _.settings.ADAPTER.fetch(s)).text(),unload:T.loadTextures.unload};_.extensions.add(S),l.loadSVG=S},63195:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(25458),m=c(39007),v=c(14265),T=c(96585),E=c(61002);const S=[".jpeg",".jpg",".png",".webp",".avif"],A=["image/jpeg","image/png","image/webp","image/avif"];async function loadImageBitmap(s){const l=await _.settings.ADAPTER.fetch(s);if(!l.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${s}: ${l.status} ${l.statusText}`);const c=await l.blob();return await createImageBitmap(c)}const w={name:"loadTextures",extension:{type:_.ExtensionType.LoadParser,priority:v.LoaderParserPriority.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:s=>y.checkDataUrl(s,A)||m.checkExtension(s,S),async load(s,l,c){let y=null;y=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await T.WorkerManager.isImageBitmapSupported()?await T.WorkerManager.loadImageBitmap(s):await loadImageBitmap(s):await new Promise((l=>{y=new Image,y.crossOrigin=this.config.crossOrigin,y.src=s,y.complete?l(y):y.onload=()=>{l(y)}}));const m=new _.BaseTexture(y,{resolution:_.utils.getResolutionOfUrl(s),...l.data});return m.resource.src=s,E.createTexture(m,c,s)},unload(s){s.destroy(!0)}};_.extensions.add(w),l.loadImageBitmap=loadImageBitmap,l.loadTextures=w},61002:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);l.createTexture=function createTexture(s,l,c){const y=new _.Texture(s);return y.baseTexture.on("dispose",(()=>{delete l.promiseCache[c]})),y}},26602:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(61002);l.createTexture=_.createTexture},40530:()=>{},67847:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(51331),m=c(54878),v=c(81114);l.Resolver=class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(s,l)=>`${s}${this._bundleIdConnector}${l}`,extractAssetIdFromBundle:(s,l)=>l.replace(`${s}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(s){if(this._bundleIdConnector=s.connector??this._bundleIdConnector,this._createBundleAssetId=s.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=s.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...s){s.forEach((s=>{this._preferredOrder.push(s),s.priority||(s.priority=Object.keys(s.params))})),this._resolverHash={}}set basePath(s){this._basePath=s}get basePath(){return this._basePath}set rootPath(s){this._rootPath=s}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(s){if("string"==typeof s)this._defaultSearchParams=s;else{const l=s;this._defaultSearchParams=Object.keys(l).map((s=>`${encodeURIComponent(s)}=${encodeURIComponent(l[s])}`)).join("&")}}addManifest(s){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=s,s.bundles.forEach((s=>{this.addBundle(s.name,s.assets)}))}addBundle(s,l){const c=[];Array.isArray(l)?l.forEach((l=>{if("string"==typeof l.name){const _=this._createBundleAssetId(s,l.name);c.push(_),this.add([l.name,_],l.srcs,l.data)}else{const _=l.name.map((l=>this._createBundleAssetId(s,l)));_.forEach((s=>{c.push(s)})),this.add([...l.name,..._],l.srcs)}})):Object.keys(l).forEach((_=>{c.push(this._createBundleAssetId(s,_)),this.add([_,this._createBundleAssetId(s,_)],l[_])})),this._bundles[s]=c}add(s,l,c){const v=y.convertToList(s);v.forEach((s=>{this.hasKey(s)&&console.warn(`[Resolver] already has key: ${s} overwriting`)})),Array.isArray(l)||(l="string"==typeof l?m.createStringVariations(l):[l]);const T=l.map((s=>{let l=s;if("string"==typeof s){let c=!1;for(let _=0;_<this._parsers.length;_++){const y=this._parsers[_];if(y.test(s)){l=y.parse(s),c=!0;break}}c||(l={src:s})}return l.format||(l.format=l.src.split(".").pop()),l.alias||(l.alias=v),(this._basePath||this._rootPath)&&(l.src=_.utils.path.toAbsolute(l.src,this._basePath,this._rootPath)),l.src=this._appendDefaultSearchParams(l.src),l.data=l.data??c,l}));v.forEach((s=>{this._assetMap[s]=T}))}resolveBundle(s){const l=v.isSingleItem(s);s=y.convertToList(s);const c={};return s.forEach((s=>{const l=this._bundles[s];if(l){const _=this.resolve(l),y={};for(const l in _){const c=_[l];y[this._extractAssetIdFromBundle(s,l)]=c}c[s]=y}})),l?c[s[0]]:c}resolveUrl(s){const l=this.resolve(s);if("string"!=typeof s){const s={};for(const c in l)s[c]=l[c].src;return s}return l.src}resolve(s){const l=v.isSingleItem(s);s=y.convertToList(s);const c={};return s.forEach((s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let l=this._assetMap[s];const c=this._getPreferredOrder(l),_=l[0];c?.priority.forEach((s=>{c.params[s].forEach((c=>{const _=l.filter((l=>!!l[s]&&l[s]===c));_.length&&(l=_)}))})),this._resolverHash[s]=l[0]??_}else{let l=s;(this._basePath||this._rootPath)&&(l=_.utils.path.toAbsolute(l,this._basePath,this._rootPath)),l=this._appendDefaultSearchParams(l),this._resolverHash[s]={src:l}}c[s]=this._resolverHash[s]})),l?c[s[0]]:c}hasKey(s){return!!this._assetMap[s]}hasBundle(s){return!!this._bundles[s]}_getPreferredOrder(s){for(let l=0;l<s.length;l++){const l=s[0],c=this._preferredOrder.find((s=>s.params.format.includes(l.format)));if(c)return c}return this._preferredOrder[0]}_appendDefaultSearchParams(s){if(!this._defaultSearchParams)return s;return`${s}${/\?/.test(s)?"&":"?"}${this._defaultSearchParams}`}}},69076:(s,l,c)=>{"use strict";c(68404),c(41998)},68404:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(80819);l.resolveTextureUrl=_.resolveTextureUrl},80819:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);c(30807);var y=c(63195);const m={extension:_.ExtensionType.ResolveParser,test:y.loadTextures.test,parse:s=>({resolution:parseFloat(_.settings.RETINA_PREFIX.exec(s)?.[1]??"1"),format:s.split(".").pop(),src:s})};_.extensions.add(m),l.resolveTextureUrl=m},41998:()=>{},25458:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.checkDataUrl=function checkDataUrl(s,l){if(Array.isArray(l)){for(const c of l)if(s.startsWith(`data:${c}`))return!0;return!1}return s.startsWith(`data:${l}`)}},39007:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);l.checkExtension=function checkExtension(s,l){const c=s.split("?")[0],y=_.utils.path.extname(c).toLowerCase();return Array.isArray(l)?l.includes(y):y===l}},51331:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.convertToList=(s,l)=>(Array.isArray(s)||(s=[s]),l?s.map((s=>"string"==typeof s?l(s):s)):s)},66048:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.copySearchParams=(s,l)=>{const c=l.split("?")[1];return c&&(s+=`?${c}`),s}},54878:(s,l)=>{"use strict";function processX(s,l,c,_,y){const m=l[c];for(let v=0;v<m.length;v++){const T=m[v];c<l.length-1?processX(s.replace(_[c],T),l,c+1,_,y):y.push(s.replace(_[c],T))}}Object.defineProperty(l,"__esModule",{value:!0}),l.createStringVariations=function createStringVariations(s){const l=s.match(/\{(.*?)\}/g),c=[];if(l){const _=[];l.forEach((s=>{const l=s.substring(1,s.length-1).split(",");_.push(l)})),processX(s,_,0,l,c)}else c.push(s);return c}},99973:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(25458),y=c(39007),m=c(51331),v=c(66048),T=c(54878),E=c(81114);l.checkDataUrl=_.checkDataUrl,l.checkExtension=y.checkExtension,l.convertToList=m.convertToList,l.copySearchParams=v.copySearchParams,l.createStringVariations=T.createStringVariations,l.isSingleItem=E.isSingleItem},81114:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.isSingleItem=s=>!Array.isArray(s)},36250:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(96872);function _interopDefaultLegacy(s){return s&&"object"==typeof s&&"default"in s?s:{default:s}}var y=_interopDefaultLegacy(c(12121));_.extend([y.default]);const m=class{constructor(s=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=s}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(s){return this.value=s,this}set value(s){if(s instanceof m)this._value=this.cloneSource(s._value),this._int=s._int,this._components.set(s._components);else{if(null===s)throw new Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,s)||(this.normalize(s),this._value=this.cloneSource(s))}}get value(){return this._value}cloneSource(s){return"string"==typeof s||"number"==typeof s||s instanceof Number||null===s?s:Array.isArray(s)||ArrayBuffer.isView(s)?s.slice(0):"object"==typeof s&&null!==s?{...s}:s}isSourceEqual(s,l){const c=typeof s;if(c!==typeof l)return!1;if("number"===c||"string"===c||s instanceof Number)return s===l;if(Array.isArray(s)&&Array.isArray(l)||ArrayBuffer.isView(s)&&ArrayBuffer.isView(l))return s.length===l.length&&s.every(((s,c)=>s===l[c]));if(null!==s&&null!==l){const c=Object.keys(s),_=Object.keys(l);return c.length===_.length&&c.every((c=>s[c]===l[c]))}return s===l}toRgba(){const[s,l,c,_]=this._components;return{r:s,g:l,b:c,a:_}}toRgb(){const[s,l,c]=this._components;return{r:s,g:l,b:c}}toRgbaString(){const[s,l,c]=this.toUint8RgbArray();return`rgba(${s},${l},${c},${this.alpha})`}toUint8RgbArray(s){const[l,c,_]=this._components;return(s=s??[])[0]=Math.round(255*l),s[1]=Math.round(255*c),s[2]=Math.round(255*_),s}toRgbArray(s){s=s??[];const[l,c,_]=this._components;return s[0]=l,s[1]=c,s[2]=_,s}toNumber(){return this._int}toLittleEndianNumber(){const s=this._int;return(s>>16)+(65280&s)+((255&s)<<16)}multiply(s){const[l,c,_,y]=m.temp.setValue(s)._components;return this._components[0]*=l,this._components[1]*=c,this._components[2]*=_,this._components[3]*=y,this.refreshInt(),this._value=null,this}premultiply(s,l=!0){return l&&(this._components[0]*=s,this._components[1]*=s,this._components[2]*=s),this._components[3]=s,this.refreshInt(),this._value=null,this}toPremultiplied(s,l=!0){if(1===s)return(255<<24)+this._int;if(0===s)return l?0:this._int;let c=this._int>>16&255,_=this._int>>8&255,y=255&this._int;return l&&(c=c*s+.5|0,_=_*s+.5|0,y=y*s+.5|0),(255*s<<24)+(c<<16)+(_<<8)+y}toHex(){const s=this._int.toString(16);return`#${"000000".substring(0,6-s.length)+s}`}toHexa(){const s=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-s.length)+s}setAlpha(s){return this._components[3]=this._clamp(s),this}round(s){const[l,c,_]=this._components;return this._components[0]=Math.round(l*s)/s,this._components[1]=Math.round(c*s)/s,this._components[2]=Math.round(_*s)/s,this.refreshInt(),this._value=null,this}toArray(s){s=s??[];const[l,c,_,y]=this._components;return s[0]=l,s[1]=c,s[2]=_,s[3]=y,s}normalize(s){let l,c,y,v;if(("number"==typeof s||s instanceof Number)&&s>=0&&s<=16777215){l=(s>>16&255)/255,c=(s>>8&255)/255,y=(255&s)/255,v=1}else if((Array.isArray(s)||s instanceof Float32Array)&&s.length>=3&&s.length<=4)s=this._clamp(s),[l,c,y,v=1]=s;else if((s instanceof Uint8Array||s instanceof Uint8ClampedArray)&&s.length>=3&&s.length<=4)s=this._clamp(s,0,255),[l,c,y,v=255]=s,l/=255,c/=255,y/=255,v/=255;else if("string"==typeof s||"object"==typeof s){if("string"==typeof s){const l=m.HEX_PATTERN.exec(s);l&&(s=`#${l[2]}`)}const T=_.colord(s);T.isValid()&&(({r:l,g:c,b:y,a:v}=T.rgba),l/=255,c/=255,y/=255)}if(void 0===l)throw new Error(`Unable to convert color ${s}`);this._components[0]=l,this._components[1]=c,this._components[2]=y,this._components[3]=v,this.refreshInt()}refreshInt(){this._clamp(this._components);const[s,l,c]=this._components;this._int=(255*s<<16)+(255*l<<8)+(255*c|0)}_clamp(s,l=0,c=1){return"number"==typeof s?Math.min(Math.max(s,l),c):(s.forEach(((_,y)=>{s[y]=Math.min(Math.max(_,l),c)})),s)}};let v=m;v.shared=new m,v.temp=new m,v.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i,l.Color=v},1122:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(36250);l.Color=_.Color},9133:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c=(s=>(s[s.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",s[s.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",s[s.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",s[s.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",s[s.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",s[s.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",s[s.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",s[s.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",s[s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",s[s.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",s[s.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",s[s.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",s))(c||{});const _={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};l.INTERNAL_FORMATS=c,l.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=_},63438:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(9133);c(27424),c(71807),c(35534);var y=c(12005),m=c(80869),v=c(5192),T=c(83291),E=c(1620),S=c(42581),A=c(91788),w=c(49947);l.INTERNAL_FORMATS=_.INTERNAL_FORMATS,l.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=_.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,l.detectCompressedTextures=y.detectCompressedTextures,l.loadDDS=m.loadDDS,l.loadKTX=v.loadKTX,l.resolveCompressedTextureUrl=T.resolveCompressedTextureUrl,l.parseDDS=E.parseDDS,l.FORMATS_TO_COMPONENTS=S.FORMATS_TO_COMPONENTS,l.TYPES_TO_BYTES_PER_COMPONENT=S.TYPES_TO_BYTES_PER_COMPONENT,l.TYPES_TO_BYTES_PER_PIXEL=S.TYPES_TO_BYTES_PER_PIXEL,l.parseKTX=S.parseKTX,l.BlobResource=A.BlobResource,l.CompressedTextureResource=w.CompressedTextureResource},88256:()=>{},12005:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);let y,m;function getCompressedTextureExtensions(){m={s3tc:y.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:y.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:y.getExtension("WEBGL_compressed_texture_etc"),etc1:y.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:y.getExtension("WEBGL_compressed_texture_pvrtc")||y.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:y.getExtension("WEBGL_compressed_texture_atc"),astc:y.getExtension("WEBGL_compressed_texture_astc")}}const v={extension:{type:_.ExtensionType.DetectionParser,priority:2},test:async()=>{const s=_.settings.ADAPTER.createCanvas().getContext("webgl");return s?(y=s,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async s=>{m||getCompressedTextureExtensions();const l=[];for(const s in m){m[s]&&l.push(s)}return[...l,...s]},remove:async s=>(m||getCompressedTextureExtensions(),s.filter((s=>!(s in m))))};_.extensions.add(v),l.detectCompressedTextures=v},27424:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(88256);var _=c(12005),y=c(80869),m=c(5192),v=c(83291);l.detectCompressedTextures=_.detectCompressedTextures,l.loadDDS=y.loadDDS,l.loadKTX=m.loadKTX,l.resolveCompressedTextureUrl=v.resolveCompressedTextureUrl},80869:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(8415),y=c(48742);c(71807);var m=c(1620);const v={extension:{type:y.ExtensionType.LoadParser,priority:_.LoaderParserPriority.High},name:"loadDDS",test:s=>_.checkExtension(s,".dds"),async load(s,l,c){const v=await y.settings.ADAPTER.fetch(s),T=await v.arrayBuffer(),E=m.parseDDS(T).map((m=>{const v=new y.BaseTexture(m,{mipmap:y.MIPMAP_MODES.OFF,alphaMode:y.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:y.utils.getResolutionOfUrl(s),...l.data});return _.createTexture(v,c,s)}));return 1===E.length?E[0]:E},unload(s){Array.isArray(s)?s.forEach((s=>s.destroy(!0))):s.destroy(!0)}};y.extensions.add(v),l.loadDDS=v},5192:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(8415),y=c(48742);c(71807);var m=c(42581);const v={extension:{type:y.ExtensionType.LoadParser,priority:_.LoaderParserPriority.High},name:"loadKTX",test:s=>_.checkExtension(s,".ktx"),async load(s,l,c){const v=await y.settings.ADAPTER.fetch(s),T=await v.arrayBuffer(),{compressed:E,uncompressed:S,kvData:A}=m.parseKTX(s,T),w=E??S,P={mipmap:y.MIPMAP_MODES.OFF,alphaMode:y.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:y.utils.getResolutionOfUrl(s),...l.data},O=w.map((l=>{w===S&&Object.assign(P,{type:l.type,format:l.format});const m=new y.BaseTexture(l,P);return m.ktxKeyValueData=A,_.createTexture(m,c,s)}));return 1===O.length?O[0]:O},unload(s){Array.isArray(s)?s.forEach((s=>s.destroy(!0))):s.destroy(!0)}};y.extensions.add(v),l.loadKTX=v},83291:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);const y={extension:_.ExtensionType.ResolveParser,test:s=>{const l=s.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(l)},parse:s=>{if("ktx"===s.split("?")[0].split(".").pop()){const l=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(l.some((l=>s.endsWith(l))))return{resolution:parseFloat(_.settings.RETINA_PREFIX.exec(s)?.[1]??"1"),format:l.find((l=>s.endsWith(l))),src:s}}return{resolution:parseFloat(_.settings.RETINA_PREFIX.exec(s)?.[1]??"1"),format:s.split(".").pop(),src:s}}};_.extensions.add(y),l.resolveCompressedTextureUrl=y},71807:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(1620),y=c(42581);l.parseDDS=_.parseDDS,l.FORMATS_TO_COMPONENTS=y.FORMATS_TO_COMPONENTS,l.TYPES_TO_BYTES_PER_COMPONENT=y.TYPES_TO_BYTES_PER_COMPONENT,l.TYPES_TO_BYTES_PER_PIXEL=y.TYPES_TO_BYTES_PER_PIXEL,l.parseKTX=y.parseKTX},1620:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(9133);c(35534);var y=c(49947);const m=124,v=3,T=4,E=7,S=19,A=2,w=0,P=1,O=2,C=3;const R={827611204:_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT},L={70:_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:_.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:_.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:_.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};l.parseDDS=function parseDDS(s){const l=new Uint32Array(s);if(542327876!==l[0])throw new Error("Invalid DDS file magic word");const c=new Uint32Array(s,0,m/Uint32Array.BYTES_PER_ELEMENT),D=c[v],B=c[T],F=c[E],k=new Uint32Array(s,S*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),U=k[1];if(4&U){const c=k[A];if(808540228!==c){const l=R[c],_=new Uint8Array(s,128);return[new y.CompressedTextureResource(_,{format:l,width:B,height:D,levels:F})]}const m=128,v=new Uint32Array(l.buffer,m,20/Uint32Array.BYTES_PER_ELEMENT),T=v[w],E=v[P],S=v[O],U=v[C],G=L[T];if(void 0===G)throw new Error(`DDSParser cannot parse texture data with DXGI format ${T}`);if(4===S)throw new Error("DDSParser does not support cubemap textures");if(6===E)throw new Error("DDSParser does not supported 3D texture data");const V=new Array,W=148;if(1===U)V.push(new Uint8Array(s,W));else{const l=_.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[G];let c=0,y=B,m=D;for(let s=0;s<F;s++){c+=Math.max(1,y+3&-4)*Math.max(1,m+3&-4)*l,y>>>=1,m>>>=1}let v=W;for(let l=0;l<U;l++)V.push(new Uint8Array(s,v,c)),v+=c}return V.map((s=>new y.CompressedTextureResource(s,{format:G,width:B,height:D,levels:F})))}if(64&U)throw new Error("DDSParser does not support uncompressed texture data.");if(512&U)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(131072&U)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(2&U)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}},42581:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(9133);c(35534);var m=c(49947);const v=[171,75,84,88,32,49,49,187,13,10,26,10],T=12,E=16,S=24,A=28,w=36,P=40,O=44,C=48,R=52,L=56,D=60,B=64,F={[_.TYPES.UNSIGNED_BYTE]:1,[_.TYPES.UNSIGNED_SHORT]:2,[_.TYPES.INT]:4,[_.TYPES.UNSIGNED_INT]:4,[_.TYPES.FLOAT]:4,[_.TYPES.HALF_FLOAT]:8},k={[_.FORMATS.RGBA]:4,[_.FORMATS.RGB]:3,[_.FORMATS.RG]:2,[_.FORMATS.RED]:1,[_.FORMATS.LUMINANCE]:1,[_.FORMATS.LUMINANCE_ALPHA]:2,[_.FORMATS.ALPHA]:1},U={[_.TYPES.UNSIGNED_SHORT_4_4_4_4]:2,[_.TYPES.UNSIGNED_SHORT_5_5_5_1]:2,[_.TYPES.UNSIGNED_SHORT_5_6_5]:2};function convertFormatToInteger(s){switch(s){case _.FORMATS.RGBA:return _.FORMATS.RGBA_INTEGER;case _.FORMATS.RGB:return _.FORMATS.RGB_INTEGER;case _.FORMATS.RG:return _.FORMATS.RG_INTEGER;case _.FORMATS.RED:return _.FORMATS.RED_INTEGER;default:return s}}l.FORMATS_TO_COMPONENTS=k,l.TYPES_TO_BYTES_PER_COMPONENT=F,l.TYPES_TO_BYTES_PER_PIXEL=U,l.parseKTX=function parseKTX(s,l,c=!1){const G=new DataView(l);if(!function validate(s,l){for(let c=0;c<v.length;c++)if(l.getUint8(c)!==v[c])return console.error(`${s} is not a valid *.ktx file!`),!1;return!0}(s,G))return null;const V=67305985===G.getUint32(T,!0),W=G.getUint32(E,V),z=G.getUint32(S,V),X=G.getUint32(A,V),Y=G.getUint32(w,V),$=G.getUint32(P,V)||1,q=G.getUint32(O,V)||1,K=G.getUint32(C,V)||1,Q=G.getUint32(R,V),J=G.getUint32(L,V),Z=G.getUint32(D,V);if(0===$||1!==q)throw new Error("Only 2D textures are supported");if(1!==Q)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==K)throw new Error("WebGL does not support array textures");const ee=Y+3&-4,te=$+3&-4,re=new Array(K);let ie,ne=Y*$;if(0===W&&(ne=ee*te),ie=0!==W?F[W]?F[W]*k[z]:U[W]:y.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[X],void 0===ie)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const se=c?function parseKvData(s,l,c){const _=new Map;let y=0;for(;y<l;){const m=s.getUint32(B+y,c),v=B+y+4,T=3-(m+3)%4;if(0===m||m>l-y){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let E=0;for(;E<m&&0!==s.getUint8(v+E);E++);if(-1===E){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const S=(new TextDecoder).decode(new Uint8Array(s.buffer,v,E)),A=new DataView(s.buffer,v+E+1,m-E-1);_.set(S,A),y+=4+m+T}return _}(G,Z,V):null;let oe=ne*ie,ae=Y,ue=$,le=ee,ce=te,he=B+Z;for(let s=0;s<J;s++){const c=G.getUint32(he,V);let _=he+4;for(let c=0;c<K;c++){let y=re[c];y||(y=re[c]=new Array(J)),y[s]={levelID:s,levelWidth:J>1||0!==W?ae:le,levelHeight:J>1||0!==W?ue:ce,levelBuffer:new Uint8Array(l,_,oe)},_+=oe}he+=c+4,he=he%4!=0?he+4-he%4:he,ae=ae>>1||1,ue=ue>>1||1,le=ae+4-1&-4,ce=ue+4-1&-4,oe=le*ce*ie}return 0!==W?{uncompressed:re.map((s=>{let l=s[0].levelBuffer,c=!1;return W===_.TYPES.FLOAT?l=new Float32Array(s[0].levelBuffer.buffer,s[0].levelBuffer.byteOffset,s[0].levelBuffer.byteLength/4):W===_.TYPES.UNSIGNED_INT?(c=!0,l=new Uint32Array(s[0].levelBuffer.buffer,s[0].levelBuffer.byteOffset,s[0].levelBuffer.byteLength/4)):W===_.TYPES.INT&&(c=!0,l=new Int32Array(s[0].levelBuffer.buffer,s[0].levelBuffer.byteOffset,s[0].levelBuffer.byteLength/4)),{resource:new _.BufferResource(l,{width:s[0].levelWidth,height:s[0].levelHeight}),type:W,format:c?convertFormatToInteger(z):z}})),kvData:se}:{compressed:re.map((s=>new m.CompressedTextureResource(null,{format:X,width:Y,height:$,levels:J,levelBuffers:s}))),kvData:se}}},91788:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);class BlobResource extends _.BufferResource{constructor(s,l={width:1,height:1,autoLoad:!0}){let c,y;"string"==typeof s?(c=s,y=new Uint8Array):(c=null,y=s),super(y,l),this.origin=c,this.buffer=y?new _.ViewableBuffer(y):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==l.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(s){}load(){return this._load||(this._load=fetch(this.origin).then((s=>s.blob())).then((s=>s.arrayBuffer())).then((s=>(this.data=new Uint32Array(s),this.buffer=new _.ViewableBuffer(s),this.loaded=!0,this.onBlobLoaded(s),this.update(),this)))),this._load}}l.BlobResource=BlobResource},49947:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(9133),y=c(91788);class CompressedTextureResource extends y.BlobResource{constructor(s,l){super(s,l),this.format=l.format,this.levels=l.levels||1,this._width=l.width,this._height=l.height,this._extension=CompressedTextureResource._formatToExtension(this.format),(l.levelBuffers||this.buffer)&&(this._levelBuffers=l.levelBuffers||CompressedTextureResource._createLevelBuffers(s instanceof Uint8Array?s:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(s,l,c){const _=s.gl;if(!s.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let s=0,l=this.levels;s<l;s++){const{levelID:l,levelWidth:c,levelHeight:y,levelBuffer:m}=this._levelBuffers[s];_.compressedTexImage2D(_.TEXTURE_2D,l,this.format,c,y,0,m)}return!0}onBlobLoaded(){this._levelBuffers=CompressedTextureResource._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(s){if(s>=33776&&s<=33779)return"s3tc";if(s>=37488&&s<=37497)return"etc";if(s>=35840&&s<=35843)return"pvrtc";if(s>=36196)return"etc1";if(s>=35986&&s<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(s,l,c,y,m,v,T){const E=new Array(c);let S=s.byteOffset,A=v,w=T,P=A+y-1&~(y-1),O=w+m-1&~(m-1),C=P*O*_.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[l];for(let v=0;v<c;v++)E[v]={levelID:v,levelWidth:c>1?A:P,levelHeight:c>1?w:O,levelBuffer:new Uint8Array(s.buffer,S,C)},S+=C,A=A>>1||1,w=w>>1||1,P=A+y-1&~(y-1),O=w+m-1&~(m-1),C=P*O*_.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[l];return E}}l.CompressedTextureResource=CompressedTextureResource},35534:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(91788),y=c(49947);l.BlobResource=_.BlobResource,l.CompressedTextureResource=y.CompressedTextureResource},57616:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c=(s=>(s[s.WEBGL_LEGACY=0]="WEBGL_LEGACY",s[s.WEBGL=1]="WEBGL",s[s.WEBGL2=2]="WEBGL2",s))(c||{}),_=(s=>(s[s.UNKNOWN=0]="UNKNOWN",s[s.WEBGL=1]="WEBGL",s[s.CANVAS=2]="CANVAS",s))(_||{}),y=(s=>(s[s.COLOR=16384]="COLOR",s[s.DEPTH=256]="DEPTH",s[s.STENCIL=1024]="STENCIL",s))(y||{}),m=(s=>(s[s.NORMAL=0]="NORMAL",s[s.ADD=1]="ADD",s[s.MULTIPLY=2]="MULTIPLY",s[s.SCREEN=3]="SCREEN",s[s.OVERLAY=4]="OVERLAY",s[s.DARKEN=5]="DARKEN",s[s.LIGHTEN=6]="LIGHTEN",s[s.COLOR_DODGE=7]="COLOR_DODGE",s[s.COLOR_BURN=8]="COLOR_BURN",s[s.HARD_LIGHT=9]="HARD_LIGHT",s[s.SOFT_LIGHT=10]="SOFT_LIGHT",s[s.DIFFERENCE=11]="DIFFERENCE",s[s.EXCLUSION=12]="EXCLUSION",s[s.HUE=13]="HUE",s[s.SATURATION=14]="SATURATION",s[s.COLOR=15]="COLOR",s[s.LUMINOSITY=16]="LUMINOSITY",s[s.NORMAL_NPM=17]="NORMAL_NPM",s[s.ADD_NPM=18]="ADD_NPM",s[s.SCREEN_NPM=19]="SCREEN_NPM",s[s.NONE=20]="NONE",s[s.SRC_OVER=0]="SRC_OVER",s[s.SRC_IN=21]="SRC_IN",s[s.SRC_OUT=22]="SRC_OUT",s[s.SRC_ATOP=23]="SRC_ATOP",s[s.DST_OVER=24]="DST_OVER",s[s.DST_IN=25]="DST_IN",s[s.DST_OUT=26]="DST_OUT",s[s.DST_ATOP=27]="DST_ATOP",s[s.ERASE=26]="ERASE",s[s.SUBTRACT=28]="SUBTRACT",s[s.XOR=29]="XOR",s))(m||{}),v=(s=>(s[s.POINTS=0]="POINTS",s[s.LINES=1]="LINES",s[s.LINE_LOOP=2]="LINE_LOOP",s[s.LINE_STRIP=3]="LINE_STRIP",s[s.TRIANGLES=4]="TRIANGLES",s[s.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",s[s.TRIANGLE_FAN=6]="TRIANGLE_FAN",s))(v||{}),T=(s=>(s[s.RGBA=6408]="RGBA",s[s.RGB=6407]="RGB",s[s.RG=33319]="RG",s[s.RED=6403]="RED",s[s.RGBA_INTEGER=36249]="RGBA_INTEGER",s[s.RGB_INTEGER=36248]="RGB_INTEGER",s[s.RG_INTEGER=33320]="RG_INTEGER",s[s.RED_INTEGER=36244]="RED_INTEGER",s[s.ALPHA=6406]="ALPHA",s[s.LUMINANCE=6409]="LUMINANCE",s[s.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",s[s.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",s[s.DEPTH_STENCIL=34041]="DEPTH_STENCIL",s))(T||{}),E=(s=>(s[s.TEXTURE_2D=3553]="TEXTURE_2D",s[s.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",s[s.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",s[s.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",s[s.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",s[s.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",s[s.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",s))(E||{}),S=(s=>(s[s.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",s[s.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",s[s.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",s[s.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",s[s.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",s[s.UNSIGNED_INT=5125]="UNSIGNED_INT",s[s.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",s[s.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",s[s.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",s[s.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",s[s.BYTE=5120]="BYTE",s[s.SHORT=5122]="SHORT",s[s.INT=5124]="INT",s[s.FLOAT=5126]="FLOAT",s[s.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",s[s.HALF_FLOAT=36193]="HALF_FLOAT",s))(S||{}),A=(s=>(s[s.FLOAT=0]="FLOAT",s[s.INT=1]="INT",s[s.UINT=2]="UINT",s))(A||{}),w=(s=>(s[s.NEAREST=0]="NEAREST",s[s.LINEAR=1]="LINEAR",s))(w||{}),P=(s=>(s[s.CLAMP=33071]="CLAMP",s[s.REPEAT=10497]="REPEAT",s[s.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",s))(P||{}),O=(s=>(s[s.OFF=0]="OFF",s[s.POW2=1]="POW2",s[s.ON=2]="ON",s[s.ON_MANUAL=3]="ON_MANUAL",s))(O||{}),C=(s=>(s[s.NPM=0]="NPM",s[s.UNPACK=1]="UNPACK",s[s.PMA=2]="PMA",s[s.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",s[s.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",s[s.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",s))(C||{}),R=(s=>(s[s.NO=0]="NO",s[s.YES=1]="YES",s[s.AUTO=2]="AUTO",s[s.BLEND=0]="BLEND",s[s.CLEAR=1]="CLEAR",s[s.BLIT=2]="BLIT",s))(R||{}),L=(s=>(s[s.AUTO=0]="AUTO",s[s.MANUAL=1]="MANUAL",s))(L||{}),D=(s=>(s.LOW="lowp",s.MEDIUM="mediump",s.HIGH="highp",s))(D||{}),B=(s=>(s[s.NONE=0]="NONE",s[s.SCISSOR=1]="SCISSOR",s[s.STENCIL=2]="STENCIL",s[s.SPRITE=3]="SPRITE",s[s.COLOR=4]="COLOR",s))(B||{}),F=(s=>(s[s.RED=1]="RED",s[s.GREEN=2]="GREEN",s[s.BLUE=4]="BLUE",s[s.ALPHA=8]="ALPHA",s))(F||{}),k=(s=>(s[s.NONE=0]="NONE",s[s.LOW=2]="LOW",s[s.MEDIUM=4]="MEDIUM",s[s.HIGH=8]="HIGH",s))(k||{}),U=(s=>(s[s.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",s[s.ARRAY_BUFFER=34962]="ARRAY_BUFFER",s[s.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",s))(U||{});l.ALPHA_MODES=C,l.BLEND_MODES=m,l.BUFFER_BITS=y,l.BUFFER_TYPE=U,l.CLEAR_MODES=R,l.COLOR_MASK_BITS=F,l.DRAW_MODES=v,l.ENV=c,l.FORMATS=T,l.GC_MODES=L,l.MASK_TYPES=B,l.MIPMAP_MODES=O,l.MSAA_QUALITY=k,l.PRECISION=D,l.RENDERER_TYPE=_,l.SAMPLER_TYPES=A,l.SCALE_MODES=w,l.TARGETS=E,l.TYPES=S,l.WRAP_MODES=P},64665:()=>{},97032:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(71648),m=c(40435),v=c(82101),T=c(12191),E=c(44240),S=c(8065);const A=class extends S.SystemManager{constructor(s){super(),this.type=_.RENDERER_TYPE.WEBGL,s=Object.assign({},v.settings.RENDER_OPTIONS,s),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new E.UniformGroup({projectionMatrix:new m.Matrix},!0);const l={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:A.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(l),"useContextAlpha"in s&&(T.deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),s.premultipliedAlpha=s.useContextAlpha&&"notMultiplied"!==s.useContextAlpha,s.backgroundAlpha=!1===s.useContextAlpha?1:s.backgroundAlpha),this._plugin.rendererPlugins=A.__plugins,this.options=s,this.startup.run(this.options)}static test(s){return!s?.forceCanvas&&T.isWebGLSupported()}render(s,l){this.objectRenderer.render(s,l)}resize(s,l){this._view.resizeView(s,l)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(s=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:s}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(s){this._view.resolution=s,this.runners.resolutionChange.emit(s)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return T.deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return T.deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return T.deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return T.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(s){T.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=s}get backgroundAlpha(){return T.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(s){T.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=s}get powerPreference(){return T.deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(s,l){return this.textureGenerator.generateTexture(s,l)}};let w=A;w.extension={type:y.ExtensionType.Renderer,priority:1},w.__plugins={},w.__systems={},y.extensions.handleByMap(y.ExtensionType.RendererPlugin,w.__plugins),y.extensions.handleByMap(y.ExtensionType.RendererSystem,w.__systems),y.extensions.add(w),l.Renderer=w},83947:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648);const y=[];_.extensions.handleByList(_.ExtensionType.Renderer,y),l.autoDetectRenderer=function autoDetectRenderer(s){for(const l of y)if(l.test(s))return new l(s);throw new Error("Unable to auto-detect a suitable renderer.")}},31110:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(1122),y=c(71648);class BackgroundSystem{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new _.Color(0),this.alpha=1}init(s){this.clearBeforeRender=s.clearBeforeRender;const{backgroundColor:l,background:c,backgroundAlpha:_}=s,y=c??l;void 0!==y&&(this.color=y),this.alpha=_}get color(){return this._backgroundColor.value}set color(s){this._backgroundColor.setValue(s)}get alpha(){return this._backgroundColor.alpha}set alpha(s){this._backgroundColor.setAlpha(s)}get backgroundColor(){return this._backgroundColor}destroy(){}}BackgroundSystem.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},BackgroundSystem.extension={type:[y.ExtensionType.RendererSystem,y.ExtensionType.CanvasRendererSystem],name:"background"},y.extensions.add(BackgroundSystem),l.BackgroundSystem=BackgroundSystem},49731:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616);l.BatchDrawCall=class BatchDrawCall{constructor(){this.texArray=null,this.blend=0,this.type=_.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}},91197:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(44518),m=c(82736);class BatchGeometry extends m.Geometry{constructor(s=!1){super(),this._buffer=new y.Buffer(null,s,!1),this._indexBuffer=new y.Buffer(null,s,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,_.TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,_.TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,_.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,_.TYPES.FLOAT).addIndex(this._indexBuffer)}}l.BatchGeometry=BatchGeometry},68615:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(1122),y=c(57616),m=c(71648),v=c(82101),T=c(12191),E=c(60403),S=c(27863),A=c(37387),w=c(43396),P=c(49731),O=c(91197),C=c(24616),R=c(26512),L=c(24332),D=c(15278),B=c(40619),F=c(43873),k=c(42525);const U=class extends B.ObjectRenderer{constructor(s){super(s),this.setShaderGenerator(),this.geometryClass=O.BatchGeometry,this.vertexSize=6,this.state=A.State.for2d(),this.size=4*U.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),s.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??D.maxRecommendedTextures(32),this._defaultMaxTextures}static set defaultMaxTextures(s){this._defaultMaxTextures=s}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??L.canUploadSameBuffer(),this._canUploadSameBuffer}static set canUploadSameBuffer(s){this._canUploadSameBuffer=s}get MAX_TEXTURES(){return T.deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return k.default}static get defaultFragmentTemplate(){return F.default}setShaderGenerator({vertex:s=U.defaultVertexSrc,fragment:l=U.defaultFragmentTemplate}={}){this.shaderGenerator=new C.BatchShaderGenerator(s,l)}contextChange(){const s=this.renderer.gl;v.settings.PREFER_ENV===y.ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),U.defaultMaxTextures),this.maxTextures=S.checkMaxIfStatementsInShader(this.maxTextures,s)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let s=0;s<this._packedGeometryPoolSize;s++)this._packedGeometries[s]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:s,_textureArrayPool:l}=U,c=this.size/4,_=Math.floor(c/this.maxTextures)+1;for(;s.length<c;)s.push(new P.BatchDrawCall);for(;l.length<_;)l.push(new R.BatchTextureArray);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(s){s._texture.valid&&(this._vertexCount+s.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=s.vertexData.length/2,this._indexCount+=s.indices.length,this._bufferedTextures[this._bufferSize]=s._texture.baseTexture,this._bufferedElements[this._bufferSize++]=s)}buildTexturesAndDrawCalls(){const{_bufferedTextures:s,maxTextures:l}=this,c=U._textureArrayPool,_=this.renderer.batch,y=this._tempBoundTextures,m=this.renderer.textureGC.count;let v=++w.BaseTexture._globalBatch,T=0,E=c[0],S=0;_.copyBoundTextures(y,l);for(let A=0;A<this._bufferSize;++A){const w=s[A];s[A]=null,w._batchEnabled!==v&&(E.count>=l&&(_.boundArray(E,y,v,l),this.buildDrawCalls(E,S,A),S=A,E=c[++T],++v),w._batchEnabled=v,w.touched=m,E.elements[E.count++]=w)}E.count>0&&(_.boundArray(E,y,v,l),this.buildDrawCalls(E,S,this._bufferSize),++T,++v);for(let s=0;s<y.length;s++)y[s]=null;w.BaseTexture._globalBatch=v}buildDrawCalls(s,l,c){const{_bufferedElements:_,_attributeBuffer:y,_indexBuffer:m,vertexSize:v}=this,E=U._drawCallPool;let S=this._dcIndex,A=this._aIndex,w=this._iIndex,P=E[S];P.start=this._iIndex,P.texArray=s;for(let O=l;O<c;++O){const c=_[O],C=c._texture.baseTexture,R=T.premultiplyBlendMode[C.alphaMode?1:0][c.blendMode];_[O]=null,l<O&&P.blend!==R&&(P.size=w-P.start,l=O,P=E[++S],P.texArray=s,P.start=w),this.packInterleavedGeometry(c,y,m,A,w),A+=c.vertexData.length/2*v,w+=c.indices.length,P.blend=R}l<c&&(P.size=w-P.start,++S),this._dcIndex=S,this._aIndex=A,this._iIndex=w}bindAndClearTexArray(s){const l=this.renderer.texture;for(let c=0;c<s.count;c++)l.bind(s.elements[c],s.ids[c]),s.elements[c]=null;s.count=0}updateGeometry(){const{_packedGeometries:s,_attributeBuffer:l,_indexBuffer:c}=this;U.canUploadSameBuffer?(s[this._flushId]._buffer.update(l.rawBinaryData),s[this._flushId]._indexBuffer.update(c),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,s[this._flushId]=new this.geometryClass),s[this._flushId]._buffer.update(l.rawBinaryData),s[this._flushId]._indexBuffer.update(c),this.renderer.geometry.bind(s[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const s=this._dcIndex,{gl:l,state:c}=this.renderer,_=U._drawCallPool;let y=null;for(let m=0;m<s;m++){const{texArray:s,type:v,size:T,start:E,blend:S}=_[m];y!==s&&(y=s,this.bindAndClearTexArray(s)),this.state.blendMode=S,c.set(this.state),l.drawElements(v,T,l.UNSIGNED_SHORT,2*E)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),U.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let s=0;s<this._packedGeometryPoolSize;s++)this._packedGeometries[s]&&this._packedGeometries[s].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(s){const l=T.nextPow2(Math.ceil(s/8)),c=T.log2(l),_=8*l;this._aBuffers.length<=c&&(this._iBuffers.length=c+1);let y=this._aBuffers[_];return y||(this._aBuffers[_]=y=new E.ViewableBuffer(_*this.vertexSize*4)),y}getIndexBuffer(s){const l=T.nextPow2(Math.ceil(s/12)),c=T.log2(l),_=12*l;this._iBuffers.length<=c&&(this._iBuffers.length=c+1);let y=this._iBuffers[c];return y||(this._iBuffers[c]=y=new Uint16Array(_)),y}packInterleavedGeometry(s,l,c,y,m){const{uint32View:v,float32View:T}=l,E=y/this.vertexSize,S=s.uvs,A=s.indices,w=s.vertexData,P=s._texture.baseTexture._batchLocation,O=Math.min(s.worldAlpha,1),C=_.Color.shared.setValue(s._tintRGB).toPremultiplied(O,s._texture.baseTexture.alphaMode>0);for(let s=0;s<w.length;s+=2)T[y++]=w[s],T[y++]=w[s+1],T[y++]=S[s],T[y++]=S[s+1],v[y++]=C,T[y++]=P;for(let s=0;s<A.length;s++)c[m++]=E+A[s]}};let G=U;G.defaultBatchSize=4096,G.extension={name:"batch",type:m.ExtensionType.RendererPlugin},G._drawCallPool=[],G._textureArrayPool=[],m.extensions.add(G),l.BatchRenderer=G},24616:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(40435),y=c(89906),m=c(87398),v=c(44240);l.BatchShaderGenerator=class BatchShaderGenerator{constructor(s,l){if(this.vertexSrc=s,this.fragTemplate=l,this.programCache={},this.defaultGroupCache={},!l.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!l.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(s){if(!this.programCache[s]){const l=new Int32Array(s);for(let c=0;c<s;c++)l[c]=c;this.defaultGroupCache[s]=v.UniformGroup.from({uSamplers:l},!0);let c=this.fragTemplate;c=c.replace(/%count%/gi,`${s}`),c=c.replace(/%forloop%/gi,this.generateSampleSrc(s)),this.programCache[s]=new y.Program(this.vertexSrc,c)}const l={tint:new Float32Array([1,1,1,1]),translationMatrix:new _.Matrix,default:this.defaultGroupCache[s]};return new m.Shader(this.programCache[s],l)}generateSampleSrc(s){let l="";l+="\n",l+="\n";for(let c=0;c<s;c++)c>0&&(l+="\nelse "),c<s-1&&(l+=`if(vTextureId < ${c}.5)`),l+="\n{",l+=`\n\tcolor = texture2D(uSamplers[${c}], vTextureCoord);`,l+="\n}";return l+="\n",l+="\n",l}}},95309:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648),y=c(40619);class BatchSystem{constructor(s){this.renderer=s,this.emptyRenderer=new y.ObjectRenderer(s),this.currentRenderer=this.emptyRenderer}setObjectRenderer(s){this.currentRenderer!==s&&(this.currentRenderer.stop(),this.currentRenderer=s,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(s,l){const{boundTextures:c}=this.renderer.texture;for(let _=l-1;_>=0;--_)s[_]=c[_]||null,s[_]&&(s[_]._batchLocation=_)}boundArray(s,l,c,_){const{elements:y,ids:m,count:v}=s;let T=0;for(let s=0;s<v;s++){const v=y[s],E=v._batchLocation;if(E>=0&&E<_&&l[E]===v)m[s]=E;else for(;T<_;){const _=l[T];if(!_||_._batchEnabled!==c||_._batchLocation!==T){m[s]=T,v._batchLocation=T,l[T]=v;break}T++}}}destroy(){this.renderer=null}}BatchSystem.extension={type:_.ExtensionType.RendererSystem,name:"batch"},_.extensions.add(BatchSystem),l.BatchSystem=BatchSystem},26512:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.BatchTextureArray=class BatchTextureArray{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let s=0;s<this.count;s++)this.elements[s]=null;this.count=0}}},40619:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.ObjectRenderer=class ObjectRenderer{constructor(s){this.renderer=s}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(s){}}},24332:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82101);l.canUploadSameBuffer=function canUploadSameBuffer(){return!_.isMobile.apple.device}},15278:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82101);l.maxRecommendedTextures=function maxRecommendedTextures(s){let l=!0;const c=_.settings.ADAPTER.getNavigator();if(_.isMobile.tablet||_.isMobile.phone){if(_.isMobile.apple.device){const s=c.userAgent.match(/OS (\d+)_(\d+)?/);if(s){parseInt(s[1],10)<11&&(l=!1)}}if(_.isMobile.android.device){const s=c.userAgent.match(/Android\s([0-9.]*)/);if(s){parseInt(s[1],10)<7&&(l=!1)}}}return l?s:4}},43873:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"},42525:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"},21673:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(71648),m=c(82101);let v=0;class ContextSystem{constructor(s){this.renderer=s,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(s){this.gl=s,this.renderer.gl=s,this.renderer.CONTEXT_UID=v++}init(s){if(s.context)this.initFromContext(s.context);else{const l=this.renderer.background.alpha<1,c=s.premultipliedAlpha;this.preserveDrawingBuffer=s.preserveDrawingBuffer,this.useContextAlpha=s.useContextAlpha,this.powerPreference=s.powerPreference,this.initFromOptions({alpha:l,premultipliedAlpha:c,antialias:s.antialias,stencil:!0,preserveDrawingBuffer:s.preserveDrawingBuffer,powerPreference:s.powerPreference})}}initFromContext(s){this.gl=s,this.validateContext(s),this.renderer.gl=s,this.renderer.CONTEXT_UID=v++,this.renderer.runners.contextChange.emit(s);const l=this.renderer.view;void 0!==l.addEventListener&&(l.addEventListener("webglcontextlost",this.handleContextLost,!1),l.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(s){const l=this.createContext(this.renderer.view,s);this.initFromContext(l)}createContext(s,l){let c;if(m.settings.PREFER_ENV>=_.ENV.WEBGL2&&(c=s.getContext("webgl2",l)),c)this.webGLVersion=2;else if(this.webGLVersion=1,c=s.getContext("webgl",l)||s.getContext("experimental-webgl",l),!c)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=c,this.getExtensions(),this.gl}getExtensions(){const{gl:s}=this,l={loseContext:s.getExtension("WEBGL_lose_context"),anisotropicFiltering:s.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:s.getExtension("OES_texture_float_linear"),s3tc:s.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:s.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:s.getExtension("WEBGL_compressed_texture_etc"),etc1:s.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:s.getExtension("WEBGL_compressed_texture_atc"),astc:s.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,l,{drawBuffers:s.getExtension("WEBGL_draw_buffers"),depthTexture:s.getExtension("WEBGL_depth_texture"),vertexArrayObject:s.getExtension("OES_vertex_array_object")||s.getExtension("MOZ_OES_vertex_array_object")||s.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:s.getExtension("OES_element_index_uint"),floatTexture:s.getExtension("OES_texture_float"),floatTextureLinear:s.getExtension("OES_texture_float_linear"),textureHalfFloat:s.getExtension("OES_texture_half_float"),textureHalfFloatLinear:s.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,l,{colorBufferFloat:s.getExtension("EXT_color_buffer_float")})}handleContextLost(s){s.preventDefault(),setTimeout((()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()}),0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const s=this.renderer.view;this.renderer=null,void 0!==s.removeEventListener&&(s.removeEventListener("webglcontextlost",this.handleContextLost),s.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(s){const l=s.getContextAttributes(),c="WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext;c&&(this.webGLVersion=2),l&&!l.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const _=c||!!s.getExtension("OES_element_index_uint");this.supports.uint32Indices=_,_||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}ContextSystem.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},ContextSystem.extension={type:y.ExtensionType.RendererSystem,name:"context"},y.extensions.add(ContextSystem),l.ContextSystem=ContextSystem},21316:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(89906),m=c(87398),v=c(37387),T=c(89400),E=c(40459);const S=class extends m.Shader{constructor(s,l,c){super(y.Program.from(s||S.defaultVertexSrc,l||S.defaultFragmentSrc),c),this.padding=0,this.resolution=S.defaultResolution,this.multisample=S.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new v.State}apply(s,l,c,_,y){s.applyFilter(this,l,c,_)}get blendMode(){return this.state.blendMode}set blendMode(s){this.state.blendMode=s}get resolution(){return this._resolution}set resolution(s){this._resolution=s}static get defaultVertexSrc(){return E.default}static get defaultFragmentSrc(){return T.default}};let A=S;A.defaultResolution=1,A.defaultMultisample=_.MSAA_QUALITY.NONE,l.Filter=A},33092:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(40435);l.FilterState=class FilterState{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=_.MSAA_QUALITY.NONE,this.sourceFrame=new y.Rectangle,this.destinationFrame=new y.Rectangle,this.bindingSourceFrame=new y.Rectangle,this.bindingDestinationFrame=new y.Rectangle,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}},28994:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(71648),m=c(40435),v=c(26516),T=c(44240),E=c(342),S=c(72953),A=c(33092);const w=[new m.Point,new m.Point,new m.Point,new m.Point],P=new m.Matrix;class FilterSystem{constructor(s){this.renderer=s,this.defaultFilterStack=[{}],this.texturePool=new v.RenderTexturePool,this.statePool=[],this.quad=new E.Quad,this.quadUv=new S.QuadUv,this.tempRect=new m.Rectangle,this.activeState={},this.globalUniforms=new T.UniformGroup({outputFrame:new m.Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(s,l){const c=this.renderer,_=this.defaultFilterStack,y=this.statePool.pop()||new A.FilterState,m=this.renderer.renderTexture;let v=l[0].resolution,T=l[0].multisample,E=l[0].padding,S=l[0].autoFit,w=l[0].legacy??!0;for(let s=1;s<l.length;s++){const c=l[s];v=Math.min(v,c.resolution),T=Math.min(T,c.multisample),E=this.useMaxPadding?Math.max(E,c.padding):E+c.padding,S=S&&c.autoFit,w=w||(c.legacy??!0)}1===_.length&&(this.defaultFilterStack[0].renderTexture=m.current),_.push(y),y.resolution=v,y.multisample=T,y.legacy=w,y.target=s,y.sourceFrame.copyFrom(s.filterArea||s.getBounds(!0)),y.sourceFrame.pad(E);const O=this.tempRect.copyFrom(m.sourceFrame);c.projection.transform&&this.transformAABB(P.copyFrom(c.projection.transform).invert(),O),S?(y.sourceFrame.fit(O),(y.sourceFrame.width<=0||y.sourceFrame.height<=0)&&(y.sourceFrame.width=0,y.sourceFrame.height=0)):y.sourceFrame.intersects(O)||(y.sourceFrame.width=0,y.sourceFrame.height=0),this.roundFrame(y.sourceFrame,m.current?m.current.resolution:c.resolution,m.sourceFrame,m.destinationFrame,c.projection.transform),y.renderTexture=this.getOptimalFilterTexture(y.sourceFrame.width,y.sourceFrame.height,v,T),y.filters=l,y.destinationFrame.width=y.renderTexture.width,y.destinationFrame.height=y.renderTexture.height;const C=this.tempRect;C.x=0,C.y=0,C.width=y.sourceFrame.width,C.height=y.sourceFrame.height,y.renderTexture.filterFrame=y.sourceFrame,y.bindingSourceFrame.copyFrom(m.sourceFrame),y.bindingDestinationFrame.copyFrom(m.destinationFrame),y.transform=c.projection.transform,c.projection.transform=null,m.bind(y.renderTexture,y.sourceFrame,C),c.framebuffer.clear(0,0,0,0)}pop(){const s=this.defaultFilterStack,l=s.pop(),c=l.filters;this.activeState=l;const y=this.globalUniforms.uniforms;y.outputFrame=l.sourceFrame,y.resolution=l.resolution;const m=y.inputSize,v=y.inputPixel,T=y.inputClamp;if(m[0]=l.destinationFrame.width,m[1]=l.destinationFrame.height,m[2]=1/m[0],m[3]=1/m[1],v[0]=Math.round(m[0]*l.resolution),v[1]=Math.round(m[1]*l.resolution),v[2]=1/v[0],v[3]=1/v[1],T[0]=.5*v[2],T[1]=.5*v[3],T[2]=l.sourceFrame.width*m[2]-.5*v[2],T[3]=l.sourceFrame.height*m[3]-.5*v[3],l.legacy){const s=y.filterArea;s[0]=l.destinationFrame.width,s[1]=l.destinationFrame.height,s[2]=l.sourceFrame.x,s[3]=l.sourceFrame.y,y.filterClamp=y.inputClamp}this.globalUniforms.update();const E=s[s.length-1];if(this.renderer.framebuffer.blit(),1===c.length)c[0].apply(this,l.renderTexture,E.renderTexture,_.CLEAR_MODES.BLEND,l),this.returnFilterTexture(l.renderTexture);else{let s=l.renderTexture,y=this.getOptimalFilterTexture(s.width,s.height,l.resolution);y.filterFrame=s.filterFrame;let m=0;for(m=0;m<c.length-1;++m){1===m&&l.multisample>1&&(y=this.getOptimalFilterTexture(s.width,s.height,l.resolution),y.filterFrame=s.filterFrame),c[m].apply(this,s,y,_.CLEAR_MODES.CLEAR,l);const v=s;s=y,y=v}c[m].apply(this,s,E.renderTexture,_.CLEAR_MODES.BLEND,l),m>1&&l.multisample>1&&this.returnFilterTexture(l.renderTexture),this.returnFilterTexture(s),this.returnFilterTexture(y)}l.clear(),this.statePool.push(l)}bindAndClear(s,l=_.CLEAR_MODES.CLEAR){const{renderTexture:c,state:y}=this.renderer;if(s===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,s?.filterFrame){const l=this.tempRect;l.x=0,l.y=0,l.width=s.filterFrame.width,l.height=s.filterFrame.height,c.bind(s,s.filterFrame,l)}else s!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?c.bind(s):this.renderer.renderTexture.bind(s,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const m=1&y.stateId||this.forceClear;(l===_.CLEAR_MODES.CLEAR||l===_.CLEAR_MODES.BLIT&&m)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(s,l,c,y){const m=this.renderer;m.state.set(s.state),this.bindAndClear(c,y),s.uniforms.uSampler=l,s.uniforms.filterGlobals=this.globalUniforms,m.shader.bind(s),s.legacy=!!s.program.attributeData.aTextureCoord,s.legacy?(this.quadUv.map(l._frame,l.filterFrame),m.geometry.bind(this.quadUv),m.geometry.draw(_.DRAW_MODES.TRIANGLES)):(m.geometry.bind(this.quad),m.geometry.draw(_.DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(s,l){const{sourceFrame:c,destinationFrame:_}=this.activeState,{orig:y}=l._texture,v=s.set(_.width,0,0,_.height,c.x,c.y),T=l.worldTransform.copyTo(m.Matrix.TEMP_MATRIX);return T.invert(),v.prepend(T),v.scale(1/y.width,1/y.height),v.translate(l.anchor.x,l.anchor.y),v}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(s,l,c=1,y=_.MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(s,l,c,y)}getFilterTexture(s,l,c){if("number"==typeof s){const c=s;s=l,l=c}s=s||this.activeState.renderTexture;const y=this.texturePool.getOptimalTexture(s.width,s.height,l||s.resolution,c||_.MSAA_QUALITY.NONE);return y.filterFrame=s.filterFrame,y}returnFilterTexture(s){this.texturePool.returnTexture(s)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(s,l){const c=w[0],_=w[1],y=w[2],m=w[3];c.set(l.left,l.top),_.set(l.left,l.bottom),y.set(l.right,l.top),m.set(l.right,l.bottom),s.apply(c,c),s.apply(_,_),s.apply(y,y),s.apply(m,m);const v=Math.min(c.x,_.x,y.x,m.x),T=Math.min(c.y,_.y,y.y,m.y),E=Math.max(c.x,_.x,y.x,m.x),S=Math.max(c.y,_.y,y.y,m.y);l.x=v,l.y=T,l.width=E-v,l.height=S-T}roundFrame(s,l,c,_,y){if(!(s.width<=0||s.height<=0||c.width<=0||c.height<=0)){if(y){const{a:s,b:l,c,d:_}=y;if((Math.abs(l)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(_)>1e-4))return}(y=y?P.copyFrom(y):P.identity()).translate(-c.x,-c.y).scale(_.width/c.width,_.height/c.height).translate(_.x,_.y),this.transformAABB(y,s),s.ceil(l),this.transformAABB(y.invert(),s)}}}FilterSystem.extension={type:y.ExtensionType.RendererSystem,name:"filter"},y.extensions.add(FilterSystem),l.FilterSystem=FilterSystem},11975:()=>{},89400:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},40459:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},48977:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(40435),y=c(67772),m=c(21316),v=c(79058),T=c(67231);class SpriteMaskFilter extends m.Filter{constructor(s,l,c){let y=null;"string"!=typeof s&&void 0===l&&void 0===c&&(y=s,s=void 0,l=void 0,c=void 0),super(s||T.default,l||v.default,c),this.maskSprite=y,this.maskMatrix=new _.Matrix}get maskSprite(){return this._maskSprite}set maskSprite(s){this._maskSprite=s,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(s,l,c,_){const m=this._maskSprite,v=m._texture;v.valid&&(v.uvMatrix||(v.uvMatrix=new y.TextureMatrix(v,0)),v.uvMatrix.update(),this.uniforms.npmAlpha=v.baseTexture.alphaMode?0:1,this.uniforms.mask=v,this.uniforms.otherMatrix=s.calculateSpriteMatrix(this.maskMatrix,m).prepend(v.uvMatrix.mapCoord),this.uniforms.alpha=m.worldAlpha,this.uniforms.maskClamp=v.uvMatrix.uClampFrame,s.applyFilter(this,l,c,_))}}l.SpriteMaskFilter=SpriteMaskFilter},79058:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"},67231:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n"},30979:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}"},23412:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},11517:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(30979),y=c(23412);const m=_.default,v=y.default;l.defaultFilterVertex=v,l.defaultVertex=m},96268:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(82156),m=c(43396),v=c(50911);l.Framebuffer=class Framebuffer{constructor(s,l){this.width=Math.round(s||100),this.height=Math.round(l||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new y.Runner("disposeFramebuffer"),this.multisample=_.MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(s=0,l){return this.colorTextures[s]=l||new m.BaseTexture(null,{scaleMode:_.SCALE_MODES.NEAREST,resolution:1,mipmap:_.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(s){return this.depthTexture=s||new m.BaseTexture(new v.DepthResource(null,{width:this.width,height:this.height}),{scaleMode:_.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:_.MIPMAP_MODES.OFF,format:_.FORMATS.DEPTH_COMPONENT,type:_.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(s,l){if(s=Math.round(s),l=Math.round(l),s!==this.width||l!==this.height){this.width=s,this.height=l,this.dirtyId++,this.dirtySize++;for(let c=0;c<this.colorTextures.length;c++){const _=this.colorTextures[c],y=_.resolution;_.setSize(s/y,l/y)}if(this.depthTexture){const c=this.depthTexture.resolution;this.depthTexture.setSize(s/c,l/c)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}},66548:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(71648),m=c(40435),v=c(82101),T=c(96268),E=c(15465);const S=new m.Rectangle;class FramebufferSystem{constructor(s){this.renderer=s,this.managedFramebuffers=[],this.unknownFramebuffer=new T.Framebuffer(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const s=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new m.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let l=this.renderer.context.extensions.drawBuffers,c=this.renderer.context.extensions.depthTexture;v.settings.PREFER_ENV===_.ENV.WEBGL_LEGACY&&(l=null,c=null),l?s.drawBuffers=s=>l.drawBuffersWEBGL(s):(this.hasMRT=!1,s.drawBuffers=()=>{}),c||(this.writeDepthTexture=!1)}else this.msaaSamples=s.getInternalformatParameter(s.RENDERBUFFER,s.RGBA8,s.SAMPLES)}bind(s,l,c=0){const{gl:_}=this;if(s){const y=s.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(s);this.current!==s&&(this.current=s,_.bindFramebuffer(_.FRAMEBUFFER,y.framebuffer)),y.mipLevel!==c&&(s.dirtyId++,s.dirtyFormat++,y.mipLevel=c),y.dirtyId!==s.dirtyId&&(y.dirtyId=s.dirtyId,y.dirtyFormat!==s.dirtyFormat?(y.dirtyFormat=s.dirtyFormat,y.dirtySize=s.dirtySize,this.updateFramebuffer(s,c)):y.dirtySize!==s.dirtySize&&(y.dirtySize=s.dirtySize,this.resizeFramebuffer(s)));for(let l=0;l<s.colorTextures.length;l++){const c=s.colorTextures[l];this.renderer.texture.unbind(c.parentTextureArray||c)}if(s.depthTexture&&this.renderer.texture.unbind(s.depthTexture),l){const s=l.width>>c,_=l.height>>c,y=s/l.width;this.setViewport(l.x*y,l.y*y,s,_)}else{const l=s.width>>c,_=s.height>>c;this.setViewport(0,0,l,_)}}else this.current&&(this.current=null,_.bindFramebuffer(_.FRAMEBUFFER,null)),l?this.setViewport(l.x,l.y,l.width,l.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(s,l,c,_){const y=this.viewport;s=Math.round(s),l=Math.round(l),c=Math.round(c),_=Math.round(_),y.width===c&&y.height===_&&y.x===s&&y.y===l||(y.x=s,y.y=l,y.width=c,y.height=_,this.gl.viewport(s,l,c,_))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(s,l,c,y,m=_.BUFFER_BITS.COLOR|_.BUFFER_BITS.DEPTH){const{gl:v}=this;v.clearColor(s,l,c,y),v.clear(m)}initFramebuffer(s){const{gl:l}=this,c=new E.GLFramebuffer(l.createFramebuffer());return c.multisample=this.detectSamples(s.multisample),s.glFramebuffers[this.CONTEXT_UID]=c,this.managedFramebuffers.push(s),s.disposeRunner.add(this),c}resizeFramebuffer(s){const{gl:l}=this,c=s.glFramebuffers[this.CONTEXT_UID];c.stencil&&(l.bindRenderbuffer(l.RENDERBUFFER,c.stencil),c.msaaBuffer?l.renderbufferStorageMultisample(l.RENDERBUFFER,c.multisample,l.DEPTH24_STENCIL8,s.width,s.height):l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,s.width,s.height));const _=s.colorTextures;let y=_.length;l.drawBuffers||(y=Math.min(y,1));for(let m=0;m<y;m++){const y=_[m],v=y.parentTextureArray||y;this.renderer.texture.bind(v,0),0===m&&c.msaaBuffer&&(l.bindRenderbuffer(l.RENDERBUFFER,c.msaaBuffer),l.renderbufferStorageMultisample(l.RENDERBUFFER,c.multisample,v._glTextures[this.CONTEXT_UID].internalFormat,s.width,s.height))}s.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(s.depthTexture,0)}updateFramebuffer(s,l){const{gl:c}=this,_=s.glFramebuffers[this.CONTEXT_UID],y=s.colorTextures;let m=y.length;c.drawBuffers||(m=Math.min(m,1)),_.multisample>1&&this.canMultisampleFramebuffer(s)?_.msaaBuffer=_.msaaBuffer||c.createRenderbuffer():_.msaaBuffer&&(c.deleteRenderbuffer(_.msaaBuffer),_.msaaBuffer=null,_.blitFramebuffer&&(_.blitFramebuffer.dispose(),_.blitFramebuffer=null));const v=[];for(let T=0;T<m;T++){const m=y[T],E=m.parentTextureArray||m;this.renderer.texture.bind(E,0),0===T&&_.msaaBuffer?(c.bindRenderbuffer(c.RENDERBUFFER,_.msaaBuffer),c.renderbufferStorageMultisample(c.RENDERBUFFER,_.multisample,E._glTextures[this.CONTEXT_UID].internalFormat,s.width,s.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,_.msaaBuffer)):(c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+T,m.target,E._glTextures[this.CONTEXT_UID].texture,l),v.push(c.COLOR_ATTACHMENT0+T))}if(v.length>1&&c.drawBuffers(v),s.depthTexture){if(this.writeDepthTexture){const _=s.depthTexture;this.renderer.texture.bind(_,0),c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,_._glTextures[this.CONTEXT_UID].texture,l)}}!s.stencil&&!s.depth||s.depthTexture&&this.writeDepthTexture?_.stencil&&(c.deleteRenderbuffer(_.stencil),_.stencil=null):(_.stencil=_.stencil||c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,_.stencil),_.msaaBuffer?c.renderbufferStorageMultisample(c.RENDERBUFFER,_.multisample,c.DEPTH24_STENCIL8,s.width,s.height):c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,s.width,s.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,_.stencil))}canMultisampleFramebuffer(s){return 1!==this.renderer.context.webGLVersion&&s.colorTextures.length<=1&&!s.depthTexture}detectSamples(s){const{msaaSamples:l}=this;let c=_.MSAA_QUALITY.NONE;if(s<=1||null===l)return c;for(let _=0;_<l.length;_++)if(l[_]<=s){c=l[_];break}return 1===c&&(c=_.MSAA_QUALITY.NONE),c}blit(s,l,c){const{current:_,renderer:y,gl:m,CONTEXT_UID:v}=this;if(2!==y.context.webGLVersion)return;if(!_)return;const E=_.glFramebuffers[v];if(!E)return;if(!s){if(!E.msaaBuffer)return;const l=_.colorTextures[0];if(!l)return;E.blitFramebuffer||(E.blitFramebuffer=new T.Framebuffer(_.width,_.height),E.blitFramebuffer.addColorTexture(0,l)),(s=E.blitFramebuffer).colorTextures[0]!==l&&(s.colorTextures[0]=l,s.dirtyId++,s.dirtyFormat++),s.width===_.width&&s.height===_.height||(s.width=_.width,s.height=_.height,s.dirtyId++,s.dirtySize++)}l||((l=S).width=_.width,l.height=_.height),c||(c=l);const A=l.width===c.width&&l.height===c.height;this.bind(s),m.bindFramebuffer(m.READ_FRAMEBUFFER,E.framebuffer),m.blitFramebuffer(l.left,l.top,l.right,l.bottom,c.left,c.top,c.right,c.bottom,m.COLOR_BUFFER_BIT,A?m.NEAREST:m.LINEAR),m.bindFramebuffer(m.READ_FRAMEBUFFER,s.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(s,l){const c=s.glFramebuffers[this.CONTEXT_UID],_=this.gl;if(!c)return;delete s.glFramebuffers[this.CONTEXT_UID];const y=this.managedFramebuffers.indexOf(s);y>=0&&this.managedFramebuffers.splice(y,1),s.disposeRunner.remove(this),l||(_.deleteFramebuffer(c.framebuffer),c.msaaBuffer&&_.deleteRenderbuffer(c.msaaBuffer),c.stencil&&_.deleteRenderbuffer(c.stencil)),c.blitFramebuffer&&this.disposeFramebuffer(c.blitFramebuffer,l)}disposeAll(s){const l=this.managedFramebuffers;this.managedFramebuffers=[];for(let c=0;c<l.length;c++)this.disposeFramebuffer(l[c],s)}forceStencil(){const s=this.current;if(!s)return;const l=s.glFramebuffers[this.CONTEXT_UID];if(!l||l.stencil)return;s.stencil=!0;const c=s.width,_=s.height,y=this.gl,m=y.createRenderbuffer();y.bindRenderbuffer(y.RENDERBUFFER,m),l.msaaBuffer?y.renderbufferStorageMultisample(y.RENDERBUFFER,l.multisample,y.DEPTH24_STENCIL8,c,_):y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_STENCIL,c,_),l.stencil=m,y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.RENDERBUFFER,m)}reset(){this.current=this.unknownFramebuffer,this.viewport=new m.Rectangle}destroy(){this.renderer=null}}FramebufferSystem.extension={type:y.ExtensionType.RendererSystem,name:"framebuffer"},y.extensions.add(FramebufferSystem),l.FramebufferSystem=FramebufferSystem},15465:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616);l.GLFramebuffer=class GLFramebuffer{constructor(s){this.framebuffer=s,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=_.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}},82124:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(71648);class MultisampleSystem{constructor(s){this.renderer=s}contextChange(s){let l;if(1===this.renderer.context.webGLVersion){const c=s.getParameter(s.FRAMEBUFFER_BINDING);s.bindFramebuffer(s.FRAMEBUFFER,null),l=s.getParameter(s.SAMPLES),s.bindFramebuffer(s.FRAMEBUFFER,c)}else{const c=s.getParameter(s.DRAW_FRAMEBUFFER_BINDING);s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),l=s.getParameter(s.SAMPLES),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,c)}l>=_.MSAA_QUALITY.HIGH?this.multisample=_.MSAA_QUALITY.HIGH:l>=_.MSAA_QUALITY.MEDIUM?this.multisample=_.MSAA_QUALITY.MEDIUM:l>=_.MSAA_QUALITY.LOW?this.multisample=_.MSAA_QUALITY.LOW:this.multisample=_.MSAA_QUALITY.NONE}destroy(){}}MultisampleSystem.extension={type:y.ExtensionType.RendererSystem,name:"_multisample"},y.extensions.add(MultisampleSystem),l.MultisampleSystem=MultisampleSystem},8069:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616);class Attribute{constructor(s,l=0,c=!1,y=_.TYPES.FLOAT,m,v,T,E=1){this.buffer=s,this.size=l,this.normalized=c,this.type=y,this.stride=m,this.start=v,this.instance=T,this.divisor=E}destroy(){this.buffer=null}static from(s,l,c,_,y){return new Attribute(s,l,c,_,y)}}l.Attribute=Attribute},44518:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(82156);let m=0;class Buffer{constructor(s,l=!0,c=!1){this.data=s||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=c,this.static=l,this.id=m++,this.disposeRunner=new y.Runner("disposeBuffer")}update(s){s instanceof Array&&(s=new Float32Array(s)),this.data=s||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(s){this.type=s?_.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:_.BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===_.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(s){return s instanceof Array&&(s=new Float32Array(s)),new Buffer(s)}}l.Buffer=Buffer},13313:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648),y=c(81204);class BufferSystem{constructor(s){this.renderer=s,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(s){const{gl:l,CONTEXT_UID:c}=this,_=s._glBuffers[c]||this.createGLBuffer(s);l.bindBuffer(s.type,_.buffer)}unbind(s){const{gl:l}=this;l.bindBuffer(s,null)}bindBufferBase(s,l){const{gl:c,CONTEXT_UID:_}=this;if(this.boundBufferBases[l]!==s){const y=s._glBuffers[_]||this.createGLBuffer(s);this.boundBufferBases[l]=s,c.bindBufferBase(c.UNIFORM_BUFFER,l,y.buffer)}}bindBufferRange(s,l,c){const{gl:_,CONTEXT_UID:y}=this;c=c||0;const m=s._glBuffers[y]||this.createGLBuffer(s);_.bindBufferRange(_.UNIFORM_BUFFER,l||0,m.buffer,256*c,256)}update(s){const{gl:l,CONTEXT_UID:c}=this,_=s._glBuffers[c]||this.createGLBuffer(s);if(s._updateID!==_.updateID)if(_.updateID=s._updateID,l.bindBuffer(s.type,_.buffer),_.byteLength>=s.data.byteLength)l.bufferSubData(s.type,0,s.data);else{const c=s.static?l.STATIC_DRAW:l.DYNAMIC_DRAW;_.byteLength=s.data.byteLength,l.bufferData(s.type,s.data,c)}}dispose(s,l){if(!this.managedBuffers[s.id])return;delete this.managedBuffers[s.id];const c=s._glBuffers[this.CONTEXT_UID],_=this.gl;s.disposeRunner.remove(this),c&&(l||_.deleteBuffer(c.buffer),delete s._glBuffers[this.CONTEXT_UID])}disposeAll(s){const l=Object.keys(this.managedBuffers);for(let c=0;c<l.length;c++)this.dispose(this.managedBuffers[l[c]],s)}createGLBuffer(s){const{CONTEXT_UID:l,gl:c}=this;return s._glBuffers[l]=new y.GLBuffer(c.createBuffer()),this.managedBuffers[s.id]=s,s.disposeRunner.add(this),s._glBuffers[l]}}BufferSystem.extension={type:_.ExtensionType.RendererSystem,name:"buffer"},_.extensions.add(BufferSystem),l.BufferSystem=BufferSystem},81204:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.GLBuffer=class GLBuffer{constructor(s){this.buffer=s||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}},82736:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(82156),m=c(12191),v=c(8069),T=c(44518),E=c(72281);const S={5126:4,5123:2,5121:1};let A=0;const w={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Geometry{constructor(s=[],l={}){this.buffers=s,this.indexBuffer=null,this.attributes=l,this.glVertexArrayObjects={},this.id=A++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new y.Runner("disposeGeometry"),this.refCount=0}addAttribute(s,l,c=0,_=!1,y,m,E,S=!1){if(!l)throw new Error("You must pass a buffer when creating an attribute");l instanceof T.Buffer||(l instanceof Array&&(l=new Float32Array(l)),l=new T.Buffer(l));const A=s.split("|");if(A.length>1){for(let s=0;s<A.length;s++)this.addAttribute(A[s],l,c,_,y);return this}let w=this.buffers.indexOf(l);return-1===w&&(this.buffers.push(l),w=this.buffers.length-1),this.attributes[s]=new v.Attribute(w,c,_,y,m,E,S),this.instanced=this.instanced||S,this}getAttribute(s){return this.attributes[s]}getBuffer(s){return this.buffers[this.getAttribute(s).buffer]}addIndex(s){return s instanceof T.Buffer||(s instanceof Array&&(s=new Uint16Array(s)),s=new T.Buffer(s)),s.type=_.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=s,this.buffers.includes(s)||this.buffers.push(s),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const s=[],l=[],c=new T.Buffer;let _;for(_ in this.attributes){const c=this.attributes[_],y=this.buffers[c.buffer];s.push(y.data),l.push(c.size*S[c.type]/4),c.buffer=0}for(c.data=E.interleaveTypedArrays(s,l),_=0;_<this.buffers.length;_++)this.buffers[_]!==this.indexBuffer&&this.buffers[_].destroy();return this.buffers=[c],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const s in this.attributes){const l=this.attributes[s];return this.buffers[l.buffer].data.length/(l.stride/4||l.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const s=new Geometry;for(let l=0;l<this.buffers.length;l++)s.buffers[l]=new T.Buffer(this.buffers[l].data.slice(0));for(const l in this.attributes){const c=this.attributes[l];s.attributes[l]=new v.Attribute(c.buffer,c.size,c.normalized,c.type,c.stride,c.start,c.instance)}return this.indexBuffer&&(s.indexBuffer=s.buffers[this.buffers.indexOf(this.indexBuffer)],s.indexBuffer.type=_.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),s}static merge(s){const l=new Geometry,c=[],y=[],v=[];let E;for(let l=0;l<s.length;l++){E=s[l];for(let s=0;s<E.buffers.length;s++)y[s]=y[s]||0,y[s]+=E.buffers[s].data.length,v[s]=0}for(let s=0;s<E.buffers.length;s++)c[s]=new(w[m.getBufferType(E.buffers[s].data)])(y[s]),l.buffers[s]=new T.Buffer(c[s]);for(let l=0;l<s.length;l++){E=s[l];for(let s=0;s<E.buffers.length;s++)c[s].set(E.buffers[s].data,v[s]),v[s]+=E.buffers[s].data.length}if(l.attributes=E.attributes,E.indexBuffer){l.indexBuffer=l.buffers[E.buffers.indexOf(E.indexBuffer)],l.indexBuffer.type=_.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;let c=0,y=0,m=0,v=0;for(let s=0;s<E.buffers.length;s++)if(E.buffers[s]!==E.indexBuffer){v=s;break}for(const s in E.attributes){const l=E.attributes[s];(0|l.buffer)===v&&(y+=l.size*S[l.type]/4)}for(let _=0;_<s.length;_++){const T=s[_].indexBuffer.data;for(let s=0;s<T.length;s++)l.indexBuffer.data[s+m]+=c;c+=s[_].buffers[v].data.length/y,m+=T.length}}return l}}l.Geometry=Geometry},98911:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(71648),m=c(82101);const v={5126:4,5123:2,5121:1};class GeometrySystem{constructor(s){this.renderer=s,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const s=this.gl=this.renderer.gl,l=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==l.webGLVersion){let l=this.renderer.context.extensions.vertexArrayObject;m.settings.PREFER_ENV===_.ENV.WEBGL_LEGACY&&(l=null),l?(s.createVertexArray=()=>l.createVertexArrayOES(),s.bindVertexArray=s=>l.bindVertexArrayOES(s),s.deleteVertexArray=s=>l.deleteVertexArrayOES(s)):(this.hasVao=!1,s.createVertexArray=()=>null,s.bindVertexArray=()=>null,s.deleteVertexArray=()=>null)}if(2!==l.webGLVersion){const l=s.getExtension("ANGLE_instanced_arrays");l?(s.vertexAttribDivisor=(s,c)=>l.vertexAttribDivisorANGLE(s,c),s.drawElementsInstanced=(s,c,_,y,m)=>l.drawElementsInstancedANGLE(s,c,_,y,m),s.drawArraysInstanced=(s,c,_,y)=>l.drawArraysInstancedANGLE(s,c,_,y)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===l.webGLVersion||!!l.extensions.uint32ElementIndex}bind(s,l){l=l||this.renderer.shader.shader;const{gl:c}=this;let _=s.glVertexArrayObjects[this.CONTEXT_UID],y=!1;_||(this.managedGeometries[s.id]=s,s.disposeRunner.add(this),s.glVertexArrayObjects[this.CONTEXT_UID]=_={},y=!0);const m=_[l.program.id]||this.initGeometryVao(s,l,y);this._activeGeometry=s,this._activeVao!==m&&(this._activeVao=m,this.hasVao?c.bindVertexArray(m):this.activateVao(s,l.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const s=this._activeGeometry,l=this.renderer.buffer;for(let c=0;c<s.buffers.length;c++){const _=s.buffers[c];l.update(_)}}checkCompatibility(s,l){const c=s.attributes,_=l.attributeData;for(const s in _)if(!c[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(s,l){const c=s.attributes,_=l.attributeData,y=["g",s.id];for(const s in c)_[s]&&y.push(s,_[s].location);return y.join("-")}initGeometryVao(s,l,c=!0){const y=this.gl,m=this.CONTEXT_UID,T=this.renderer.buffer,E=l.program;E.glPrograms[m]||this.renderer.shader.generateProgram(l),this.checkCompatibility(s,E);const S=this.getSignature(s,E),A=s.glVertexArrayObjects[this.CONTEXT_UID];let w=A[S];if(w)return A[E.id]=w,w;const P=s.buffers,O=s.attributes,C={},R={};for(const s in P)C[s]=0,R[s]=0;for(const s in O)!O[s].size&&E.attributeData[s]?O[s].size=E.attributeData[s].size:O[s].size||console.warn(`PIXI Geometry attribute '${s}' size cannot be determined (likely the bound shader does not have the attribute)`),C[O[s].buffer]+=O[s].size*v[O[s].type];for(const s in O){const l=O[s],c=l.size;void 0===l.stride&&(C[l.buffer]===c*v[l.type]?l.stride=0:l.stride=C[l.buffer]),void 0===l.start&&(l.start=R[l.buffer],R[l.buffer]+=c*v[l.type])}w=y.createVertexArray(),y.bindVertexArray(w);for(let s=0;s<P.length;s++){const l=P[s];T.bind(l),c&&l._glBuffers[m].refCount++}return this.activateVao(s,E),A[E.id]=w,A[S]=w,y.bindVertexArray(null),T.unbind(_.BUFFER_TYPE.ARRAY_BUFFER),w}disposeGeometry(s,l){if(!this.managedGeometries[s.id])return;delete this.managedGeometries[s.id];const c=s.glVertexArrayObjects[this.CONTEXT_UID],_=this.gl,y=s.buffers,m=this.renderer?.buffer;if(s.disposeRunner.remove(this),c){if(m)for(let s=0;s<y.length;s++){const c=y[s]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0!==c.refCount||l||m.dispose(y[s],l))}if(!l)for(const s in c)if("g"===s[0]){const l=c[s];this._activeVao===l&&this.unbind(),_.deleteVertexArray(l)}delete s.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(s){const l=Object.keys(this.managedGeometries);for(let c=0;c<l.length;c++)this.disposeGeometry(this.managedGeometries[l[c]],s)}activateVao(s,l){const c=this.gl,_=this.CONTEXT_UID,y=this.renderer.buffer,m=s.buffers,v=s.attributes;s.indexBuffer&&y.bind(s.indexBuffer);let T=null;for(const s in v){const E=v[s],S=m[E.buffer],A=S._glBuffers[_];if(l.attributeData[s]){T!==A&&(y.bind(S),T=A);const _=l.attributeData[s].location;if(c.enableVertexAttribArray(_),c.vertexAttribPointer(_,E.size,E.type||c.FLOAT,E.normalized,E.stride,E.start),E.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");c.vertexAttribDivisor(_,E.divisor)}}}}draw(s,l,c,_){const{gl:y}=this,m=this._activeGeometry;if(m.indexBuffer){const v=m.indexBuffer.data.BYTES_PER_ELEMENT,T=2===v?y.UNSIGNED_SHORT:y.UNSIGNED_INT;2===v||4===v&&this.canUseUInt32ElementIndex?m.instanced?y.drawElementsInstanced(s,l||m.indexBuffer.data.length,T,(c||0)*v,_||1):y.drawElements(s,l||m.indexBuffer.data.length,T,(c||0)*v):console.warn("unsupported index buffer type: uint32")}else m.instanced?y.drawArraysInstanced(s,c,l||m.getSize(),_||1):y.drawArrays(s,c,l||m.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}GeometrySystem.extension={type:y.ExtensionType.RendererSystem,name:"geometry"},y.extensions.add(GeometrySystem),l.GeometrySystem=GeometrySystem},60403:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.ViewableBuffer=class ViewableBuffer{constructor(s){"number"==typeof s?this.rawBinaryData=new ArrayBuffer(s):s instanceof Uint8Array?this.rawBinaryData=s.buffer:this.rawBinaryData=s,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(s){return this[`${s}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(s){switch(s){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${s} isn't a valid view type`)}}}},72281:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(12191);const y={Float32Array,Uint32Array,Int32Array,Uint8Array};l.interleaveTypedArrays=function interleaveTypedArrays(s,l){let c=0,m=0;const v={};for(let _=0;_<s.length;_++)m+=l[_],c+=s[_].length;const T=new ArrayBuffer(4*c);let E=null,S=0;for(let c=0;c<s.length;c++){const A=l[c],w=s[c],P=_.getBufferType(w);v[P]||(v[P]=new y[P](T)),E=v[P];for(let s=0;s<w.length;s++){E[(s/A|0)*m+S+s%A]=w[s]}S+=A}return new Float32Array(T)}},48742:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(31970);var _=c(1122),y=c(57616),m=c(71648),v=c(40435),T=c(82156),E=c(82101),S=c(36082),A=c(12191),w=c(83947),P=c(31110),O=c(49731),C=c(91197),R=c(68615),L=c(24616),D=c(95309),B=c(26512),F=c(40619),k=c(21673),U=c(21316),G=c(33092),V=c(28994);c(11975);var W=c(48977),z=c(11517),X=c(96268),Y=c(66548),$=c(15465),q=c(82124),K=c(8069),Q=c(44518),J=c(13313),Z=c(82736),ee=c(98911),te=c(60403);c(64665);var re=c(96676),ie=c(73839),ne=c(9832),se=c(25782),oe=c(34800),ae=c(64910),ue=c(54353),le=c(97032),ce=c(8399),he=c(34914),de=c(41020),pe=c(26516),fe=c(62109),_e=c(73784),ye=c(89906),me=c(87398),ge=c(49535),ve=c(44240),be=c(27863),xe=c(91366),Te=c(9124),Ee=c(47465),Se=c(49145),Ae=c(94652),we=c(3382),Pe=c(37387),Oe=c(8389);c(64807),c(69774);var Me=c(43396),Ce=c(50701);c(64535);var Re=c(65453),Ie=c(21811),Le=c(67772),De=c(1546),Be=c(46487),Fe=c(23574),ke=c(58228),Ne=c(342),je=c(72953),Ue=c(45711),Ge=c(8065),He=c(93748),Ve=c(79421),We=c(34627),ze=c(82696),Xe=c(11105),Ye=c(95737),$e=c(30544),qe=c(40073),Ke=c(11638),Qe=c(79137),Je=c(23868),Ze=c(41540);function _interopNamespace(s){if(s&&s.__esModule)return s;var l=Object.create(null);return s&&Object.keys(s).forEach((function(c){if("default"!==c){var _=Object.getOwnPropertyDescriptor(s,c);Object.defineProperty(l,c,_.get?_:{enumerable:!0,get:function(){return s[c]}})}})),l.default=s,l}var et=_interopNamespace(A);l.utils=et,l.autoDetectRenderer=w.autoDetectRenderer,l.BackgroundSystem=P.BackgroundSystem,l.BatchDrawCall=O.BatchDrawCall,l.BatchGeometry=C.BatchGeometry,l.BatchRenderer=R.BatchRenderer,l.BatchShaderGenerator=L.BatchShaderGenerator,l.BatchSystem=D.BatchSystem,l.BatchTextureArray=B.BatchTextureArray,l.ObjectRenderer=F.ObjectRenderer,l.ContextSystem=k.ContextSystem,l.Filter=U.Filter,l.FilterState=G.FilterState,l.FilterSystem=V.FilterSystem,l.SpriteMaskFilter=W.SpriteMaskFilter,l.defaultFilterVertex=z.defaultFilterVertex,l.defaultVertex=z.defaultVertex,l.Framebuffer=X.Framebuffer,l.FramebufferSystem=Y.FramebufferSystem,l.GLFramebuffer=$.GLFramebuffer,l.MultisampleSystem=q.MultisampleSystem,l.Attribute=K.Attribute,l.Buffer=Q.Buffer,l.BufferSystem=J.BufferSystem,l.Geometry=Z.Geometry,l.GeometrySystem=ee.GeometrySystem,l.ViewableBuffer=te.ViewableBuffer,l.MaskData=re.MaskData,l.MaskSystem=ie.MaskSystem,l.ScissorSystem=ne.ScissorSystem,l.StencilSystem=se.StencilSystem,l.PluginSystem=oe.PluginSystem,l.ProjectionSystem=ae.ProjectionSystem,l.ObjectRendererSystem=ue.ObjectRendererSystem,l.Renderer=le.Renderer,l.BaseRenderTexture=ce.BaseRenderTexture,l.GenerateTextureSystem=he.GenerateTextureSystem,l.RenderTexture=de.RenderTexture,l.RenderTexturePool=pe.RenderTexturePool,l.RenderTextureSystem=fe.RenderTextureSystem,l.GLProgram=_e.GLProgram,l.IGLUniformData=_e.IGLUniformData,l.Program=ye.Program,l.Shader=me.Shader,l.ShaderSystem=ge.ShaderSystem,l.UniformGroup=ve.UniformGroup,l.checkMaxIfStatementsInShader=be.checkMaxIfStatementsInShader,l.generateProgram=xe.generateProgram,l.createUBOElements=Te.createUBOElements,l.generateUniformBufferSync=Te.generateUniformBufferSync,l.getUBOData=Te.getUBOData,l.getTestContext=Ee.getTestContext,l.uniformParsers=Se.uniformParsers,l.unsafeEvalSupported=Ae.unsafeEvalSupported,l.StartupSystem=we.StartupSystem,l.State=Pe.State,l.StateSystem=Oe.StateSystem,l.BaseTexture=Me.BaseTexture,l.GLTexture=Ce.GLTexture,l.Texture=Re.Texture,l.TextureGCSystem=Ie.TextureGCSystem,l.TextureMatrix=Le.TextureMatrix,l.TextureSystem=De.TextureSystem,l.TextureUvs=Be.TextureUvs,l.TransformFeedback=Fe.TransformFeedback,l.TransformFeedbackSystem=ke.TransformFeedbackSystem,l.Quad=Ne.Quad,l.QuadUv=je.QuadUv,l.ViewSystem=Ue.ViewSystem,l.SystemManager=Ge.SystemManager,l.BaseImageResource=He.BaseImageResource,l.Resource=Ve.Resource,l.AbstractMultiResource=We.AbstractMultiResource,l.ArrayResource=ze.ArrayResource,l.INSTALLED=Xe.INSTALLED,l.autoDetectResource=Xe.autoDetectResource,l.BufferResource=Ye.BufferResource,l.CanvasResource=$e.CanvasResource,l.CubeResource=qe.CubeResource,l.ImageBitmapResource=Ke.ImageBitmapResource,l.ImageResource=Qe.ImageResource,l.SVGResource=Je.SVGResource,l.VideoResource=Ze.VideoResource,l.VERSION="7.2.4",Object.keys(_).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return _[s]}})})),Object.keys(y).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return y[s]}})})),Object.keys(m).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return m[s]}})})),Object.keys(v).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return v[s]}})})),Object.keys(T).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return T[s]}})})),Object.keys(E).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return E[s]}})})),Object.keys(S).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return S[s]}})}))},86510:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.AbstractMaskSystem=class AbstractMaskSystem{constructor(s){this.renderer=s,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(s){const{gl:l}=this.renderer,c=this.getStackLength();this.maskStack=s;const _=this.getStackLength();_!==c&&(0===_?l.disable(this.glConst):(l.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}},96676:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(21316);l.MaskData=class MaskData{constructor(s=null){this.type=_.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=s||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=y.Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(s){s?this._filters?this._filters[0]=s:this._filters=[s]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=_.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(s){s?(this._stencilCounter=s._stencilCounter,this._scissorCounter=s._scissorCounter,this._scissorRect=s._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}},73839:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(71648),m=c(48977),v=c(96676);class MaskSystem{constructor(s){this.renderer=s,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(s){this.maskStack=s,this.renderer.scissor.setMaskStack(s),this.renderer.stencil.setMaskStack(s)}push(s,l){let c=l;if(!c.isMaskData){const s=this.maskDataPool.pop()||new v.MaskData;s.pooled=!0,s.maskObject=l,c=s}const y=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(c.copyCountersOrReset(y),c._colorMask=y?y._colorMask:15,c.autoDetect&&this.detect(c),c._target=s,c.type!==_.MASK_TYPES.SPRITE&&this.maskStack.push(c),c.enabled)switch(c.type){case _.MASK_TYPES.SCISSOR:this.renderer.scissor.push(c);break;case _.MASK_TYPES.STENCIL:this.renderer.stencil.push(c);break;case _.MASK_TYPES.SPRITE:c.copyCountersOrReset(null),this.pushSpriteMask(c);break;case _.MASK_TYPES.COLOR:this.pushColorMask(c)}c.type===_.MASK_TYPES.SPRITE&&this.maskStack.push(c)}pop(s){const l=this.maskStack.pop();if(l&&l._target===s){if(l.enabled)switch(l.type){case _.MASK_TYPES.SCISSOR:this.renderer.scissor.pop(l);break;case _.MASK_TYPES.STENCIL:this.renderer.stencil.pop(l.maskObject);break;case _.MASK_TYPES.SPRITE:this.popSpriteMask(l);break;case _.MASK_TYPES.COLOR:this.popColorMask(l)}if(l.reset(),l.pooled&&this.maskDataPool.push(l),0!==this.maskStack.length){const s=this.maskStack[this.maskStack.length-1];s.type===_.MASK_TYPES.SPRITE&&s._filters&&(s._filters[0].maskSprite=s.maskObject)}}}detect(s){const l=s.maskObject;l?l.isSprite?s.type=_.MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(s)?s.type=_.MASK_TYPES.SCISSOR:s.type=_.MASK_TYPES.STENCIL:s.type=_.MASK_TYPES.COLOR}pushSpriteMask(s){const{maskObject:l}=s,c=s._target;let _=s._filters;_||(_=this.alphaMaskPool[this.alphaMaskIndex],_||(_=this.alphaMaskPool[this.alphaMaskIndex]=[new m.SpriteMaskFilter]));const y=this.renderer,v=y.renderTexture;let T,E;if(v.current){const l=v.current;T=s.resolution||l.resolution,E=s.multisample??l.multisample}else T=s.resolution||y.resolution,E=s.multisample??y.multisample;_[0].resolution=T,_[0].multisample=E,_[0].maskSprite=l;const S=c.filterArea;c.filterArea=l.getBounds(!0),y.filter.push(c,_),c.filterArea=S,s._filters||this.alphaMaskIndex++}popSpriteMask(s){this.renderer.filter.pop(),s._filters?s._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(s){const l=s._colorMask,c=s._colorMask=l&s.colorMask;c!==l&&this.renderer.gl.colorMask(0!=(1&c),0!=(2&c),0!=(4&c),0!=(8&c))}popColorMask(s){const l=s._colorMask,c=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;c!==l&&this.renderer.gl.colorMask(0!=(1&c),0!=(2&c),0!=(4&c),0!=(8&c))}destroy(){this.renderer=null}}MaskSystem.extension={type:y.ExtensionType.RendererSystem,name:"mask"},y.extensions.add(MaskSystem),l.MaskSystem=MaskSystem},9832:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648),y=c(40435),m=c(82101),v=c(86510);const T=new y.Matrix,E=[],S=class extends v.AbstractMaskSystem{constructor(s){super(s),this.glConst=m.settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const s=this.maskStack[this.maskStack.length-1];return s?s._scissorCounter:0}calcScissorRect(s){if(s._scissorRectLocal)return;const l=s._scissorRect,{maskObject:c}=s,{renderer:_}=this,m=_.renderTexture,v=c.getBounds(!0,E.pop()??new y.Rectangle);this.roundFrameToPixels(v,m.current?m.current.resolution:_.resolution,m.sourceFrame,m.destinationFrame,_.projection.transform),l&&v.fit(l),s._scissorRectLocal=v}static isMatrixRotated(s){if(!s)return!1;const{a:l,b:c,c:_,d:y}=s;return(Math.abs(c)>1e-4||Math.abs(_)>1e-4)&&(Math.abs(l)>1e-4||Math.abs(y)>1e-4)}testScissor(s){const{maskObject:l}=s;if(!l.isFastRect||!l.isFastRect())return!1;if(S.isMatrixRotated(l.worldTransform))return!1;if(S.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(s);const c=s._scissorRectLocal;return c.width>0&&c.height>0}roundFrameToPixels(s,l,c,_,y){S.isMatrixRotated(y)||((y=y?T.copyFrom(y):T.identity()).translate(-c.x,-c.y).scale(_.width/c.width,_.height/c.height).translate(_.x,_.y),this.renderer.filter.transformAABB(y,s),s.fit(_),s.x=Math.round(s.x*l),s.y=Math.round(s.y*l),s.width=Math.round(s.width*l),s.height=Math.round(s.height*l))}push(s){s._scissorRectLocal||this.calcScissorRect(s);const{gl:l}=this.renderer;s._scissorRect||l.enable(l.SCISSOR_TEST),s._scissorCounter++,s._scissorRect=s._scissorRectLocal,this._useCurrent()}pop(s){const{gl:l}=this.renderer;s&&E.push(s._scissorRectLocal),this.getStackLength()>0?this._useCurrent():l.disable(l.SCISSOR_TEST)}_useCurrent(){const s=this.maskStack[this.maskStack.length-1]._scissorRect;let l;l=this.renderer.renderTexture.current?s.y:this.renderer.height-s.height-s.y,this.renderer.gl.scissor(s.x,l,s.width,s.height)}};let A=S;A.extension={type:_.ExtensionType.RendererSystem,name:"scissor"},_.extensions.add(A),l.ScissorSystem=A},25782:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648),y=c(82101),m=c(86510);class StencilSystem extends m.AbstractMaskSystem{constructor(s){super(s),this.glConst=y.settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const s=this.maskStack[this.maskStack.length-1];return s?s._stencilCounter:0}push(s){const l=s.maskObject,{gl:c}=this.renderer,_=s._stencilCounter;0===_&&(this.renderer.framebuffer.forceStencil(),c.clearStencil(0),c.clear(c.STENCIL_BUFFER_BIT),c.enable(c.STENCIL_TEST)),s._stencilCounter++;const y=s._colorMask;0!==y&&(s._colorMask=0,c.colorMask(!1,!1,!1,!1)),c.stencilFunc(c.EQUAL,_,4294967295),c.stencilOp(c.KEEP,c.KEEP,c.INCR),l.renderable=!0,l.render(this.renderer),this.renderer.batch.flush(),l.renderable=!1,0!==y&&(s._colorMask=y,c.colorMask(0!=(1&y),0!=(2&y),0!=(4&y),0!=(8&y))),this._useCurrent()}pop(s){const l=this.renderer.gl;if(0===this.getStackLength())l.disable(l.STENCIL_TEST);else{const c=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,_=c?c._colorMask:15;0!==_&&(c._colorMask=0,l.colorMask(!1,!1,!1,!1)),l.stencilOp(l.KEEP,l.KEEP,l.DECR),s.renderable=!0,s.render(this.renderer),this.renderer.batch.flush(),s.renderable=!1,0!==_&&(c._colorMask=_,l.colorMask(0!=(1&_),0!=(2&_),0!=(4&_),0!=(8&_))),this._useCurrent()}}_useCurrent(){const s=this.renderer.gl;s.stencilFunc(s.EQUAL,this.getStackLength(),4294967295),s.stencilOp(s.KEEP,s.KEEP,s.KEEP)}}StencilSystem.extension={type:_.ExtensionType.RendererSystem,name:"stencil"},_.extensions.add(StencilSystem),l.StencilSystem=StencilSystem},34800:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648),y=c(12191);class PluginSystem{constructor(s){this.renderer=s,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(y.deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract"),s.extract)},prepare:{enumerable:!1,get:()=>(y.deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),s.prepare)},interaction:{enumerable:!1,get:()=>(y.deprecation("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),s.events)}})}init(){const s=this.rendererPlugins;for(const l in s)this.plugins[l]=new s[l](this.renderer)}destroy(){for(const s in this.plugins)this.plugins[s].destroy(),this.plugins[s]=null}}PluginSystem.extension={type:[_.ExtensionType.RendererSystem,_.ExtensionType.CanvasRendererSystem],name:"_plugin"},_.extensions.add(PluginSystem),l.PluginSystem=PluginSystem},64910:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648),y=c(40435);class ProjectionSystem{constructor(s){this.renderer=s,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new y.Matrix,this.transform=null}update(s,l,c,_){this.destinationFrame=s||this.destinationFrame||this.defaultFrame,this.sourceFrame=l||this.sourceFrame||s,this.calculateProjection(this.destinationFrame,this.sourceFrame,c,_),this.transform&&this.projectionMatrix.append(this.transform);const y=this.renderer;y.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,y.globalUniforms.update(),y.shader.shader&&y.shader.syncUniformGroup(y.shader.shader.uniforms.globals)}calculateProjection(s,l,c,_){const y=this.projectionMatrix,m=_?-1:1;y.identity(),y.a=1/l.width*2,y.d=m*(1/l.height*2),y.tx=-1-l.x*y.a,y.ty=-m-l.y*y.d}setTransform(s){}destroy(){this.renderer=null}}ProjectionSystem.extension={type:_.ExtensionType.RendererSystem,name:"projection"},_.extensions.add(ProjectionSystem),l.ProjectionSystem=ProjectionSystem},54353:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648);class ObjectRendererSystem{constructor(s){this.renderer=s}render(s,l){const c=this.renderer;let _,y,m,v;if(l&&(_=l.renderTexture,y=l.clear,m=l.transform,v=l.skipUpdateTransform),this.renderingToScreen=!_,c.runners.prerender.emit(),c.emit("prerender"),c.projection.transform=m,!c.context.isLost){if(_||(this.lastObjectRendered=s),!v){const l=s.enableTempParent();s.updateTransform(),s.disableTempParent(l)}c.renderTexture.bind(_),c.batch.currentRenderer.start(),(y??c.background.clearBeforeRender)&&c.renderTexture.clear(),s.render(c),c.batch.currentRenderer.flush(),_&&(l.blit&&c.framebuffer.blit(),_.baseTexture.update()),c.runners.postrender.emit(),c.projection.transform=null,c.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ObjectRendererSystem.extension={type:_.ExtensionType.RendererSystem,name:"objectRenderer"},_.extensions.add(ObjectRendererSystem),l.ObjectRendererSystem=ObjectRendererSystem},8399:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(1122),y=c(57616),m=c(96268),v=c(43396);class BaseRenderTexture extends v.BaseTexture{constructor(s={}){if("number"==typeof s){s={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}}s.width=s.width||100,s.height=s.height||100,s.multisample??(s.multisample=y.MSAA_QUALITY.NONE),super(null,s),this.mipmap=y.MIPMAP_MODES.OFF,this.valid=!0,this._clear=new _.Color([0,0,0,0]),this.framebuffer=new m.Framebuffer(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=s.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(s){this._clear.setValue(s)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(s,l){this.framebuffer.resize(s*this.resolution,l*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}l.BaseRenderTexture=BaseRenderTexture},34914:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648),y=c(40435),m=c(41020);const v=new y.Transform;class GenerateTextureSystem{constructor(s){this.renderer=s,this._tempMatrix=new y.Matrix}generateTexture(s,l){const{region:c,..._}=l||{},y=c||s.getLocalBounds(null,!0);0===y.width&&(y.width=1),0===y.height&&(y.height=1);const T=m.RenderTexture.create({width:y.width,height:y.height,..._});this._tempMatrix.tx=-y.x,this._tempMatrix.ty=-y.y;const E=s.transform;return s.transform=v,this.renderer.render(s,{renderTexture:T,transform:this._tempMatrix,skipUpdateTransform:!!s.parent,blit:!0}),s.transform=E,T}destroy(){}}GenerateTextureSystem.extension={type:[_.ExtensionType.RendererSystem,_.ExtensionType.CanvasRendererSystem],name:"textureGenerator"},_.extensions.add(GenerateTextureSystem),l.GenerateTextureSystem=GenerateTextureSystem},41020:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(65453),y=c(8399);class RenderTexture extends _.Texture{constructor(s,l){super(s,l),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(s){this.framebuffer.multisample=s}resize(s,l,c=!0){const _=this.baseTexture.resolution,y=Math.round(s*_)/_,m=Math.round(l*_)/_;this.valid=y>0&&m>0,this._frame.width=this.orig.width=y,this._frame.height=this.orig.height=m,c&&this.baseTexture.resize(y,m),this.updateUvs()}setResolution(s){const{baseTexture:l}=this;l.resolution!==s&&(l.setResolution(s),this.resize(l.width,l.height,!1))}static create(s){return new RenderTexture(new y.BaseRenderTexture(s))}}l.RenderTexture=RenderTexture},26516:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(12191),m=c(8399),v=c(41020);class RenderTexturePool{constructor(s){this.texturePool={},this.textureOptions=s||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(s,l,c=_.MSAA_QUALITY.NONE){const y=new m.BaseRenderTexture(Object.assign({width:s,height:l,resolution:1,multisample:c},this.textureOptions));return new v.RenderTexture(y)}getOptimalTexture(s,l,c=1,m=_.MSAA_QUALITY.NONE){let v;s=Math.ceil(s*c-1e-6),l=Math.ceil(l*c-1e-6),this.enableFullScreen&&s===this._pixelsWidth&&l===this._pixelsHeight?v=m>1?-m:-1:(v=((65535&(s=y.nextPow2(s)))<<16|65535&(l=y.nextPow2(l)))>>>0,m>1&&(v+=4294967296*m)),this.texturePool[v]||(this.texturePool[v]=[]);let T=this.texturePool[v].pop();return T||(T=this.createTexture(s,l,m)),T.filterPoolKey=v,T.setResolution(c),T}getFilterTexture(s,l,c){const y=this.getOptimalTexture(s.width,s.height,l||s.resolution,c||_.MSAA_QUALITY.NONE);return y.filterFrame=s.filterFrame,y}returnTexture(s){const l=s.filterPoolKey;s.filterFrame=null,this.texturePool[l].push(s)}returnFilterTexture(s){this.returnTexture(s)}clear(s){if(s=!1!==s)for(const s in this.texturePool){const l=this.texturePool[s];if(l)for(let s=0;s<l.length;s++)l[s].destroy(!0)}this.texturePool={}}setScreenSize(s){if(s.width!==this._pixelsWidth||s.height!==this._pixelsHeight){this.enableFullScreen=s.width>0&&s.height>0;for(const s in this.texturePool){if(!(Number(s)<0))continue;const l=this.texturePool[s];if(l)for(let s=0;s<l.length;s++)l[s].destroy(!0);this.texturePool[s]=[]}this._pixelsWidth=s.width,this._pixelsHeight=s.height}}}RenderTexturePool.SCREEN_KEY=-1,l.RenderTexturePool=RenderTexturePool},62109:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(1122),y=c(71648),m=c(40435);const v=new m.Rectangle,T=new m.Rectangle;class RenderTextureSystem{constructor(s){this.renderer=s,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new m.Rectangle,this.destinationFrame=new m.Rectangle,this.viewportFrame=new m.Rectangle}contextChange(){const s=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(s&&s.alpha&&s.premultipliedAlpha)}bind(s=null,l,c){const _=this.renderer;let y,m,E;this.current=s,s?(y=s.baseTexture,E=y.resolution,l||(v.width=s.frame.width,v.height=s.frame.height,l=v),c||(T.x=s.frame.x,T.y=s.frame.y,T.width=l.width,T.height=l.height,c=T),m=y.framebuffer):(E=_.resolution,l||(v.width=_._view.screen.width,v.height=_._view.screen.height,l=v),c||((c=v).width=l.width,c.height=l.height));const S=this.viewportFrame;S.x=c.x*E,S.y=c.y*E,S.width=c.width*E,S.height=c.height*E,s||(S.y=_.view.height-(S.y+S.height)),S.ceil(),this.renderer.framebuffer.bind(m,S),this.renderer.projection.update(c,l,E,!m),s?this.renderer.mask.setMaskStack(y.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(l),this.destinationFrame.copyFrom(c)}clear(s,l){const c=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,y=_.Color.shared.setValue(s||c);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&y.premultiply(y.alpha);const m=this.destinationFrame,v=this.current?this.current.baseTexture:this.renderer._view.screen,T=m.width!==v.width||m.height!==v.height;if(T){let{x:s,y:l,width:c,height:_}=this.viewportFrame;s=Math.round(s),l=Math.round(l),c=Math.round(c),_=Math.round(_),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,l,c,_)}this.renderer.framebuffer.clear(y.red,y.green,y.blue,y.alpha,l),T&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}RenderTextureSystem.extension={type:y.ExtensionType.RendererSystem,name:"renderTexture"},y.extensions.add(RenderTextureSystem),l.RenderTextureSystem=RenderTextureSystem},31970:(s,l,c)=>{"use strict";var _=c(57616),y=c(82101),m=c(12191),v=c(68615),T=c(21316),E=c(89906);c(69774);var S=c(43396),A=c(21673),w=c(31110),P=c(45711),O=c(3382),C=c(21811);y.settings.PREFER_ENV=_.ENV.WEBGL2,y.settings.STRICT_TEXTURE_CACHE=!1,y.settings.RENDER_OPTIONS={...A.ContextSystem.defaultOptions,...w.BackgroundSystem.defaultOptions,...P.ViewSystem.defaultOptions,...O.StartupSystem.defaultOptions},Object.defineProperties(y.settings,{WRAP_MODE:{get:()=>S.BaseTexture.defaultOptions.wrapMode,set(s){m.deprecation("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),S.BaseTexture.defaultOptions.wrapMode=s}},SCALE_MODE:{get:()=>S.BaseTexture.defaultOptions.scaleMode,set(s){m.deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),S.BaseTexture.defaultOptions.scaleMode=s}},MIPMAP_TEXTURES:{get:()=>S.BaseTexture.defaultOptions.mipmap,set(s){m.deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),S.BaseTexture.defaultOptions.mipmap=s}},ANISOTROPIC_LEVEL:{get:()=>S.BaseTexture.defaultOptions.anisotropicLevel,set(s){m.deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),S.BaseTexture.defaultOptions.anisotropicLevel=s}},FILTER_RESOLUTION:{get:()=>(m.deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),T.Filter.defaultResolution),set(s){T.Filter.defaultResolution=s}},FILTER_MULTISAMPLE:{get:()=>(m.deprecation("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),T.Filter.defaultMultisample),set(s){T.Filter.defaultMultisample=s}},SPRITE_MAX_TEXTURES:{get:()=>v.BatchRenderer.defaultMaxTextures,set(s){m.deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),v.BatchRenderer.defaultMaxTextures=s}},SPRITE_BATCH_SIZE:{get:()=>v.BatchRenderer.defaultBatchSize,set(s){m.deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),v.BatchRenderer.defaultBatchSize=s}},CAN_UPLOAD_SAME_BUFFER:{get:()=>v.BatchRenderer.canUploadSameBuffer,set(s){m.deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),v.BatchRenderer.canUploadSameBuffer=s}},GC_MODE:{get:()=>C.TextureGCSystem.defaultMode,set(s){m.deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),C.TextureGCSystem.defaultMode=s}},GC_MAX_IDLE:{get:()=>C.TextureGCSystem.defaultMaxIdle,set(s){m.deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),C.TextureGCSystem.defaultMaxIdle=s}},GC_MAX_CHECK_COUNT:{get:()=>C.TextureGCSystem.defaultCheckCountMax,set(s){m.deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),C.TextureGCSystem.defaultCheckCountMax=s}},PRECISION_VERTEX:{get:()=>E.Program.defaultVertexPrecision,set(s){m.deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),E.Program.defaultVertexPrecision=s}},PRECISION_FRAGMENT:{get:()=>E.Program.defaultFragmentPrecision,set(s){m.deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),E.Program.defaultFragmentPrecision=s}}})},73784:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.GLProgram=class GLProgram{constructor(s,l){this.program=s,this.uniformData=l,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}},l.IGLUniformData=class IGLUniformData{}},89906:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(12191),m=c(85928),v=c(75705);c(54956);var T=c(54400),E=c(91565);let S=0;const A={},w=class{constructor(s,l,c="pixi-shader",y={}){this.extra={},this.id=S++,this.vertexSrc=s||w.defaultVertexSrc,this.fragmentSrc=l||w.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=y,"#version"!==this.vertexSrc.substring(0,8)&&(c=c.replace(/\s+/g,"-"),A[c]?(A[c]++,c+=`-${A[c]}`):A[c]=1,this.vertexSrc=`#define SHADER_NAME ${c}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${c}\n${this.fragmentSrc}`,this.vertexSrc=T.setPrecision(this.vertexSrc,w.defaultVertexPrecision,_.PRECISION.HIGH),this.fragmentSrc=T.setPrecision(this.fragmentSrc,w.defaultFragmentPrecision,E.getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return v.default}static get defaultFragmentSrc(){return m.default}static from(s,l,c){const _=s+l;let m=y.ProgramCache[_];return m||(y.ProgramCache[_]=m=new w(s,l,c)),m}};let P=w;P.defaultVertexPrecision=_.PRECISION.HIGH,P.defaultFragmentPrecision=y.isMobile.apple.device?_.PRECISION.HIGH:_.PRECISION.MEDIUM,l.Program=P},87398:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82156),y=c(89906),m=c(44240);class Shader{constructor(s,l){this.uniformBindCount=0,this.program=s,l?l instanceof m.UniformGroup?this.uniformGroup=l:this.uniformGroup=new m.UniformGroup(l):this.uniformGroup=new m.UniformGroup({}),this.disposeRunner=new _.Runner("disposeShader")}checkUniformExists(s,l){if(l.uniforms[s])return!0;for(const c in l.uniforms){const _=l.uniforms[c];if(_.group&&this.checkUniformExists(s,_))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(s,l,c){const _=y.Program.from(s,l);return new Shader(_,c)}}l.Shader=Shader},49535:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648);c(54956);var y=c(91366),m=c(9124),v=c(94652),T=c(53738);let E=0;const S={textureCount:0,uboCount:0};class ShaderSystem{constructor(s){this.destroyed=!1,this.renderer=s,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=E++}systemCheck(){if(!v.unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(s){this.gl=s,this.reset()}bind(s,l){s.disposeRunner.add(this),s.uniforms.globals=this.renderer.globalUniforms;const c=s.program,_=c.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(s);return this.shader=s,this.program!==c&&(this.program=c,this.gl.useProgram(_.program)),l||(S.textureCount=0,S.uboCount=0,this.syncUniformGroup(s.uniformGroup,S)),_}setUniforms(s){const l=this.shader.program,c=l.glPrograms[this.renderer.CONTEXT_UID];l.syncUniforms(c.uniformData,s,this.renderer)}syncUniformGroup(s,l){const c=this.getGlProgram();s.static&&s.dirtyId===c.uniformDirtyGroups[s.id]||(c.uniformDirtyGroups[s.id]=s.dirtyId,this.syncUniforms(s,c,l))}syncUniforms(s,l,c){(s.syncUniforms[this.shader.program.id]||this.createSyncGroups(s))(l.uniformData,s.uniforms,this.renderer,c)}createSyncGroups(s){const l=this.getSignature(s,this.shader.program.uniformData,"u");return this.cache[l]||(this.cache[l]=T.generateUniformsSync(s,this.shader.program.uniformData)),s.syncUniforms[this.shader.program.id]=this.cache[l],s.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(s,l){const c=this.getGlProgram();if(!s.static||0!==s.dirtyId||!c.uniformGroups[s.id]){s.dirtyId=0;const _=c.uniformGroups[s.id]||this.createSyncBufferGroup(s,c,l);s.buffer.update(),_(c.uniformData,s.uniforms,this.renderer,S,s.buffer)}this.renderer.buffer.bindBufferBase(s.buffer,c.uniformBufferBindings[l])}createSyncBufferGroup(s,l,c){const{gl:_}=this.renderer;this.renderer.buffer.bind(s.buffer);const y=this.gl.getUniformBlockIndex(l.program,c);l.uniformBufferBindings[c]=this.shader.uniformBindCount,_.uniformBlockBinding(l.program,y,this.shader.uniformBindCount),this.shader.uniformBindCount++;const v=this.getSignature(s,this.shader.program.uniformData,"ubo");let T=this._uboCache[v];if(T||(T=this._uboCache[v]=m.generateUniformBufferSync(s,this.shader.program.uniformData)),s.autoManage){const l=new Float32Array(T.size/4);s.buffer.update(l)}return l.uniformGroups[s.id]=T.syncFunc,l.uniformGroups[s.id]}getSignature(s,l,c){const _=s.uniforms,y=[`${c}-`];for(const s in _)y.push(s),l[s]&&y.push(l[s].type);return y.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(s){const l=this.gl,c=s.program,_=y.generateProgram(l,c);return c.glPrograms[this.renderer.CONTEXT_UID]=_,_}reset(){this.program=null,this.shader=null}disposeShader(s){this.shader===s&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ShaderSystem.extension={type:_.ExtensionType.RendererSystem,name:"shader"},_.extensions.add(ShaderSystem),l.ShaderSystem=ShaderSystem},44240:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(44518);let m=0;class UniformGroup{constructor(s,l,c){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=m++,this.static=!!l,this.ubo=!!c,s instanceof y.Buffer?(this.buffer=s,this.buffer.type=_.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=s,this.ubo&&(this.buffer=new y.Buffer(new Float32Array(1)),this.buffer.type=_.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(s,l,c){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[s]=new UniformGroup(l,c)}static from(s,l,c){return new UniformGroup(s,l,c)}static uboFrom(s,l){return new UniformGroup(s,l??!0,!0)}}l.UniformGroup=UniformGroup},85928:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},75705:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},27863:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function generateIfTestSrc(s){let l="";for(let c=0;c<s;++c)c>0&&(l+="\nelse "),c<s-1&&(l+=`if(test == ${c}.0){}`);return l}l.checkMaxIfStatementsInShader=function checkMaxIfStatementsInShader(s,l){if(0===s)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const _=l.createShader(l.FRAGMENT_SHADER);for(;;){const y=c.replace(/%forloop%/gi,generateIfTestSrc(s));if(l.shaderSource(_,y),l.compileShader(_),l.getShaderParameter(_,l.COMPILE_STATUS))break;s=s/2|0}return s}},72896:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.compileShader=function compileShader(s,l,c){const _=s.createShader(l);return s.shaderSource(_,c),s.compileShader(_),_}},58663:(s,l)=>{"use strict";function booleanArray(s){const l=new Array(s);for(let s=0;s<l.length;s++)l[s]=!1;return l}Object.defineProperty(l,"__esModule",{value:!0}),l.defaultValue=function defaultValue(s,l){switch(s){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*l);case"vec3":return new Float32Array(3*l);case"vec4":return new Float32Array(4*l);case"ivec2":return new Int32Array(2*l);case"ivec3":return new Int32Array(3*l);case"ivec4":return new Int32Array(4*l);case"uvec2":return new Uint32Array(2*l);case"uvec3":return new Uint32Array(3*l);case"uvec4":return new Uint32Array(4*l);case"bool":return!1;case"bvec2":return booleanArray(2*l);case"bvec3":return booleanArray(3*l);case"bvec4":return booleanArray(4*l);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}},91366:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(73784),y=c(72896),m=c(58663),v=c(88884),T=c(7153),E=c(91652);l.generateProgram=function generateProgram(s,l){const c=y.compileShader(s,s.VERTEX_SHADER,l.vertexSrc),S=y.compileShader(s,s.FRAGMENT_SHADER,l.fragmentSrc),A=s.createProgram();s.attachShader(A,c),s.attachShader(A,S);const w=l.extra?.transformFeedbackVaryings;if(w&&("function"!=typeof s.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):s.transformFeedbackVaryings(A,w.names,"separate"===w.bufferMode?s.SEPARATE_ATTRIBS:s.INTERLEAVED_ATTRIBS)),s.linkProgram(A),s.getProgramParameter(A,s.LINK_STATUS)||E.logProgramError(s,A,c,S),l.attributeData=v.getAttributeData(A,s),l.uniformData=T.getUniformData(A,s),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(l.vertexSrc)){const c=Object.keys(l.attributeData);c.sort(((s,l)=>s>l?1:-1));for(let _=0;_<c.length;_++)l.attributeData[c[_]].location=_,s.bindAttribLocation(A,_,c[_]);s.linkProgram(A)}s.deleteShader(c),s.deleteShader(S);const P={};for(const c in l.uniformData){const _=l.uniformData[c];P[c]={location:s.getUniformLocation(A,c),value:m.defaultValue(_.type,_.size)}}return new _.GLProgram(A,P)}},9124:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(54956);var _=c(49145),y=c(74442);function uboUpdate(s,l,c,_,y){c.buffer.update(y)}const m={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},v={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function createUBOElements(s){const l=s.map((s=>({data:s,offset:0,dataLen:0,dirty:0})));let c=0,_=0,y=0;for(let s=0;s<l.length;s++){const m=l[s];if(c=v[m.data.type],m.data.size>1&&(c=Math.max(c,16)*m.data.size),m.dataLen=c,_%c!=0&&_<16){const s=_%c%16;_+=s,y+=s}_+c>16?(y=16*Math.ceil(y/16),m.offset=y,y+=c,_=c):(m.offset=y,_+=c,y+=c)}return y=16*Math.ceil(y/16),{uboElements:l,size:y}}function getUBOData(s,l){const c=[];for(const _ in s)l[_]&&c.push(l[_]);return c.sort(((s,l)=>s.index-l.index)),c}l.createUBOElements=createUBOElements,l.generateUniformBufferSync=function generateUniformBufferSync(s,l){if(!s.autoManage)return{size:0,syncFunc:uboUpdate};const c=getUBOData(s.uniforms,l),{uboElements:T,size:E}=createUBOElements(c),S=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let l=0;l<T.length;l++){const c=T[l],E=s.uniforms[c.data.name],A=c.data.name;let w=!1;for(let s=0;s<_.uniformParsers.length;s++){const l=_.uniformParsers[s];if(l.codeUbo&&l.test(c.data,E)){S.push(`offset = ${c.offset/4};`,_.uniformParsers[s].codeUbo(c.data.name,E)),w=!0;break}}if(!w)if(c.data.size>1){const s=y.mapSize(c.data.type),l=Math.max(v[c.data.type]/16,1),_=s/l,m=(4-_%4)%4;S.push(`\n                cv = ud.${A}.value;\n                v = uv.${A};\n                offset = ${c.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${c.data.size*l}; i++)\n                {\n                    for(var j = 0; j < ${_}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${m};\n                }\n\n                `)}else{const s=m[c.data.type];S.push(`\n                cv = ud.${A}.value;\n                v = uv.${A};\n                offset = ${c.offset/4};\n                ${s};\n                `)}}return S.push("\n       renderer.buffer.update(buffer);\n    "),{size:E,syncFunc:new Function("ud","uv","renderer","syncData","buffer",S.join("\n"))}},l.getUBOData=getUBOData},53738:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(49145);const y={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},m={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};l.generateUniformsSync=function generateUniformsSync(s,l){const c=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const v in s.uniforms){const T=l[v];if(!T){s.uniforms[v]?.group&&(s.uniforms[v].ubo?c.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.${v}, '${v}');\n                    `):c.push(`\n                        renderer.shader.syncUniformGroup(uv.${v}, syncData);\n                    `));continue}const E=s.uniforms[v];let S=!1;for(let s=0;s<_.uniformParsers.length;s++)if(_.uniformParsers[s].test(T,E)){c.push(_.uniformParsers[s].code(v,E)),S=!0;break}if(!S){const s=(1!==T.size||T.isArray?m:y)[T.type].replace("location",`ud["${v}"].location`);c.push(`\n            cu = ud["${v}"];\n            cv = cu.value;\n            v = uv["${v}"];\n            ${s};`)}}return new Function("ud","uv","renderer","syncData",c.join("\n"))}},88884:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(74442),y=c(10190);l.getAttributeData=function getAttributeData(s,l){const c={},m=l.getProgramParameter(s,l.ACTIVE_ATTRIBUTES);for(let v=0;v<m;v++){const m=l.getActiveAttrib(s,v);if(m.name.startsWith("gl_"))continue;const T=y.mapType(l,m.type),E={type:T,name:m.name,size:_.mapSize(T),location:l.getAttribLocation(s,m.name)};c[m.name]=E}return c}},91565:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(47465);let m;l.getMaxFragmentPrecision=function getMaxFragmentPrecision(){if(!m){m=_.PRECISION.MEDIUM;const s=y.getTestContext();if(s&&s.getShaderPrecisionFormat){const l=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT);m=l.precision?_.PRECISION.HIGH:_.PRECISION.MEDIUM}}return m}},47465:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(82101);const m={};let v=m;l.getTestContext=function getTestContext(){if(v===m||v?.isContextLost()){const s=y.settings.ADAPTER.createCanvas();let l;y.settings.PREFER_ENV>=_.ENV.WEBGL2&&(l=s.getContext("webgl2",{})),l||(l=s.getContext("webgl",{})||s.getContext("experimental-webgl",{}),l?l.getExtension("WEBGL_draw_buffers"):l=null),v=l}return v}},7153:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(58663),y=c(10190);l.getUniformData=function getUniformData(s,l){const c={},m=l.getProgramParameter(s,l.ACTIVE_UNIFORMS);for(let v=0;v<m;v++){const m=l.getActiveUniform(s,v),T=m.name.replace(/\[.*?\]$/,""),E=!!m.name.match(/\[.*?\]$/),S=y.mapType(l,m.type);c[T]={name:T,index:v,type:S,size:m.size,isArray:E,value:_.defaultValue(S,m.size)}}return c}},54956:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(27863),y=c(72896),m=c(58663),v=c(53738),T=c(91565),E=c(47465),S=c(91652),A=c(74442),w=c(10190),P=c(54400),O=c(49145),C=c(94652);l.checkMaxIfStatementsInShader=_.checkMaxIfStatementsInShader,l.compileShader=y.compileShader,l.defaultValue=m.defaultValue,l.generateUniformsSync=v.generateUniformsSync,l.getMaxFragmentPrecision=T.getMaxFragmentPrecision,l.getTestContext=E.getTestContext,l.logProgramError=S.logProgramError,l.mapSize=A.mapSize,l.mapType=w.mapType,l.setPrecision=P.setPrecision,l.uniformParsers=O.uniformParsers,l.unsafeEvalSupported=C.unsafeEvalSupported},91652:(s,l)=>{"use strict";function logPrettyShaderError(s,l){const c=s.getShaderSource(l).split("\n").map(((s,l)=>`${l}: ${s}`)),_=s.getShaderInfoLog(l),y=_.split("\n"),m={},v=y.map((s=>parseFloat(s.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1")))).filter((s=>!(!s||m[s])&&(m[s]=!0,!0))),T=[""];v.forEach((s=>{c[s-1]=`%c${c[s-1]}%c`,T.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));const E=c.join("\n");T[0]=E,console.error(_),console.groupCollapsed("click to view full shader code"),console.warn(...T),console.groupEnd()}Object.defineProperty(l,"__esModule",{value:!0}),l.logProgramError=function logProgramError(s,l,c,_){s.getProgramParameter(l,s.LINK_STATUS)||(s.getShaderParameter(c,s.COMPILE_STATUS)||logPrettyShaderError(s,c),s.getShaderParameter(_,s.COMPILE_STATUS)||logPrettyShaderError(s,_),console.error("PixiJS Error: Could not initialize shader."),""!==s.getProgramInfoLog(l)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",s.getProgramInfoLog(l)))}},74442:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};l.mapSize=function mapSize(s){return c[s]}},10190:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=null;const _={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};l.mapType=function mapType(s,l){if(!c){const l=Object.keys(_);c={};for(let y=0;y<l.length;++y){const m=l[y];c[s[m]]=_[m]}}return c[l]}},54400:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616);l.setPrecision=function setPrecision(s,l,c){if("precision"!==s.substring(0,9)){let y=l;return l===_.PRECISION.HIGH&&c!==_.PRECISION.HIGH&&(y=_.PRECISION.MEDIUM),`precision ${y} float;\n${s}`}return c!==_.PRECISION.HIGH&&"precision highp"===s.substring(0,15)?s.replace("precision highp","precision mediump"):s}},49145:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.uniformParsers=[{test:s=>"float"===s.type&&1===s.size&&!s.isArray,code:s=>`\n            if(uv["${s}"] !== ud["${s}"].value)\n            {\n                ud["${s}"].value = uv["${s}"]\n                gl.uniform1f(ud["${s}"].location, uv["${s}"])\n            }\n            `},{test:(s,l)=>!("sampler2D"!==s.type&&"samplerCube"!==s.type&&"sampler2DArray"!==s.type||1!==s.size||s.isArray||null!=l&&void 0===l.castToBaseTexture),code:s=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${s}"], t);\n\n            if(ud["${s}"].value !== t)\n            {\n                ud["${s}"].value = t;\n                gl.uniform1i(ud["${s}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(s,l)=>"mat3"===s.type&&1===s.size&&!s.isArray&&void 0!==l.a,code:s=>`\n            gl.uniformMatrix3fv(ud["${s}"].location, false, uv["${s}"].toArray(true));\n            `,codeUbo:s=>`\n                var ${s}_matrix = uv.${s}.toArray(true);\n\n                data[offset] = ${s}_matrix[0];\n                data[offset+1] = ${s}_matrix[1];\n                data[offset+2] = ${s}_matrix[2];\n        \n                data[offset + 4] = ${s}_matrix[3];\n                data[offset + 5] = ${s}_matrix[4];\n                data[offset + 6] = ${s}_matrix[5];\n        \n                data[offset + 8] = ${s}_matrix[6];\n                data[offset + 9] = ${s}_matrix[7];\n                data[offset + 10] = ${s}_matrix[8];\n            `},{test:(s,l)=>"vec2"===s.type&&1===s.size&&!s.isArray&&void 0!==l.x,code:s=>`\n                cv = ud["${s}"].value;\n                v = uv["${s}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${s}"].location, v.x, v.y);\n                }`,codeUbo:s=>`\n                v = uv.${s};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:s=>"vec2"===s.type&&1===s.size&&!s.isArray,code:s=>`\n                cv = ud["${s}"].value;\n                v = uv["${s}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${s}"].location, v[0], v[1]);\n                }\n            `},{test:(s,l)=>"vec4"===s.type&&1===s.size&&!s.isArray&&void 0!==l.width,code:s=>`\n                cv = ud["${s}"].value;\n                v = uv["${s}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${s}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:s=>`\n                    v = uv.${s};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:(s,l)=>"vec4"===s.type&&1===s.size&&!s.isArray&&void 0!==l.red,code:s=>`\n                cv = ud["${s}"].value;\n                v = uv["${s}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["${s}"].location, v.red, v.green, v.blue, v.alpha)\n                }`,codeUbo:s=>`\n                    v = uv.${s};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `},{test:(s,l)=>"vec3"===s.type&&1===s.size&&!s.isArray&&void 0!==l.red,code:s=>`\n                cv = ud["${s}"].value;\n                v = uv["${s}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["${s}"].location, v.red, v.green, v.blue)\n                }`,codeUbo:s=>`\n                    v = uv.${s};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `},{test:s=>"vec4"===s.type&&1===s.size&&!s.isArray,code:s=>`\n                cv = ud["${s}"].value;\n                v = uv["${s}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${s}"].location, v[0], v[1], v[2], v[3])\n                }`}]},94652:(s,l)=>{"use strict";let c;Object.defineProperty(l,"__esModule",{value:!0}),l.unsafeEvalSupported=function unsafeEvalSupported(){if("boolean"==typeof c)return c;try{const s=new Function("param1","param2","param3","return param1[param2] === param3;");c=!0===s({a:"b"},"a","b")}catch(s){c=!1}return c}},3382:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648);class StartupSystem{constructor(s){this.renderer=s}run(s){const{renderer:l}=this;l.runners.init.emit(l.options),s.hello&&console.log(`PixiJS 7.2.4 - ${l.rendererLogId} - https://pixijs.com`),l.resize(l.screen.width,l.screen.height)}destroy(){}}StartupSystem.defaultOptions={hello:!1},StartupSystem.extension={type:[_.ExtensionType.RendererSystem,_.ExtensionType.CanvasRendererSystem],name:"startup"},_.extensions.add(StartupSystem),l.StartupSystem=StartupSystem},37387:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616);class State{constructor(){this.data=0,this.blendMode=_.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(s){!!(1&this.data)!==s&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(s){!!(2&this.data)!==s&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(s){!!(4&this.data)!==s&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(s){!!(8&this.data)!==s&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(s){!!(32&this.data)!==s&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(s){!!(16&this.data)!==s&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(s){this.blend=s!==_.BLEND_MODES.NONE,this._blendMode=s}get polygonOffset(){return this._polygonOffset}set polygonOffset(s){this.offsets=!!s,this._polygonOffset=s}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const s=new State;return s.depthTest=!1,s.blend=!0,s}}l.State=State},8389:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(71648),m=c(37387),v=c(38568);const T=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_.BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new m.State,this.defaultState.blend=!0}contextChange(s){this.gl=s,this.blendModes=v.mapWebGLBlendModesToPixi(s),this.set(this.defaultState),this.reset()}set(s){if(s=s||this.defaultState,this.stateId!==s.data){let l=this.stateId^s.data,c=0;for(;l;)1&l&&this.map[c].call(this,!!(s.data&1<<c)),l>>=1,c++;this.stateId=s.data}for(let l=0;l<this.checks.length;l++)this.checks[l](this,s)}forceState(s){s=s||this.defaultState;for(let l=0;l<this.map.length;l++)this.map[l].call(this,!!(s.data&1<<l));for(let l=0;l<this.checks.length;l++)this.checks[l](this,s);this.stateId=s.data}setBlend(s){this.updateCheck(T.checkBlendMode,s),this.gl[s?"enable":"disable"](this.gl.BLEND)}setOffset(s){this.updateCheck(T.checkPolygonOffset,s),this.gl[s?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(s){this.gl[s?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(s){this.gl.depthMask(s)}setCullFace(s){this.gl[s?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(s){this.gl.frontFace(this.gl[s?"CW":"CCW"])}setBlendMode(s){if(s===this.blendMode)return;this.blendMode=s;const l=this.blendModes[s],c=this.gl;2===l.length?c.blendFunc(l[0],l[1]):c.blendFuncSeparate(l[0],l[1],l[2],l[3]),6===l.length?(this._blendEq=!0,c.blendEquationSeparate(l[4],l[5])):this._blendEq&&(this._blendEq=!1,c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD))}setPolygonOffset(s,l){this.gl.polygonOffset(s,l)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(s,l){const c=this.checks.indexOf(s);l&&-1===c?this.checks.push(s):l||-1===c||this.checks.splice(c,1)}static checkBlendMode(s,l){s.setBlendMode(l.blendMode)}static checkPolygonOffset(s,l){s.setPolygonOffset(1,l.polygonOffset)}destroy(){this.gl=null}};let E=T;E.extension={type:y.ExtensionType.RendererSystem,name:"state"},y.extensions.add(E),l.StateSystem=E},38568:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616);l.mapWebGLBlendModesToPixi=function mapWebGLBlendModesToPixi(s,l=[]){return l[_.BLEND_MODES.NORMAL]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.ADD]=[s.ONE,s.ONE],l[_.BLEND_MODES.MULTIPLY]=[s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.SCREEN]=[s.ONE,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.OVERLAY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.DARKEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.LIGHTEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.COLOR_DODGE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.COLOR_BURN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.HARD_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.SOFT_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.DIFFERENCE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.EXCLUSION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.HUE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.SATURATION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.COLOR]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.LUMINOSITY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.NONE]=[0,0],l[_.BLEND_MODES.NORMAL_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.ADD_NPM]=[s.SRC_ALPHA,s.ONE,s.ONE,s.ONE],l[_.BLEND_MODES.SCREEN_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.SRC_IN]=[s.DST_ALPHA,s.ZERO],l[_.BLEND_MODES.SRC_OUT]=[s.ONE_MINUS_DST_ALPHA,s.ZERO],l[_.BLEND_MODES.SRC_ATOP]=[s.DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.DST_OVER]=[s.ONE_MINUS_DST_ALPHA,s.ONE],l[_.BLEND_MODES.DST_IN]=[s.ZERO,s.SRC_ALPHA],l[_.BLEND_MODES.DST_OUT]=[s.ZERO,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.DST_ATOP]=[s.ONE_MINUS_DST_ALPHA,s.SRC_ALPHA],l[_.BLEND_MODES.XOR]=[s.ONE_MINUS_DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],l[_.BLEND_MODES.SUBTRACT]=[s.ONE,s.ONE,s.ONE,s.ONE,s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD],l}},64807:()=>{},8065:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82156),y=c(12191);class SystemManager extends y.EventEmitter{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(s){this.addRunners(...s.runners);const l=(s.priority??[]).filter((l=>s.systems[l])),c=[...l,...Object.keys(s.systems).filter((s=>!l.includes(s)))];for(const l of c)this.addSystem(s.systems[l],l)}addRunners(...s){s.forEach((s=>{this.runners[s]=new _.Runner(s)}))}addSystem(s,l){const c=new s(this);if(this[l])throw new Error(`Whoops! The name "${l}" is already in use`);this[l]=c,this._systemsHash[l]=c;for(const s in this.runners)this.runners[s].add(c);return this}emitWithCustomOptions(s,l){const c=Object.keys(this._systemsHash);s.items.forEach((_=>{const y=c.find((s=>this._systemsHash[s]===_));_[s.name](l[y])}))}destroy(){Object.values(this.runners).forEach((s=>{s.destroy()})),this._systemsHash={}}}l.SystemManager=SystemManager},69774:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(31110),y=c(95309),m=c(21673),v=c(28994),T=c(66548),E=c(98911),S=c(73839),A=c(9832),w=c(25782),P=c(34800),O=c(64910),C=c(34914),R=c(62109),L=c(49535),D=c(3382),B=c(8389),F=c(8065),k=c(21811),U=c(1546),G=c(58228),V=c(45711);l.BackgroundSystem=_.BackgroundSystem,l.BatchSystem=y.BatchSystem,l.ContextSystem=m.ContextSystem,l.FilterSystem=v.FilterSystem,l.FramebufferSystem=T.FramebufferSystem,l.GeometrySystem=E.GeometrySystem,l.MaskSystem=S.MaskSystem,l.ScissorSystem=A.ScissorSystem,l.StencilSystem=w.StencilSystem,l.PluginSystem=P.PluginSystem,l.ProjectionSystem=O.ProjectionSystem,l.GenerateTextureSystem=C.GenerateTextureSystem,l.RenderTextureSystem=R.RenderTextureSystem,l.ShaderSystem=L.ShaderSystem,l.StartupSystem=D.StartupSystem,l.StateSystem=B.StateSystem,l.SystemManager=F.SystemManager,l.TextureGCSystem=k.TextureGCSystem,l.TextureSystem=U.TextureSystem,l.TransformFeedbackSystem=G.TransformFeedbackSystem,l.ViewSystem=V.ViewSystem},43396:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(82101),m=c(12191),v=c(11105),T=c(95737),E=c(79421);const S={scaleMode:_.SCALE_MODES.NEAREST,format:_.FORMATS.RGBA,alphaMode:_.ALPHA_MODES.NPM},A=class extends m.EventEmitter{constructor(s=null,l=null){super(),l=Object.assign({},A.defaultOptions,l);const{alphaMode:c,mipmap:_,anisotropicLevel:T,scaleMode:S,width:w,height:P,wrapMode:O,format:C,type:R,target:L,resolution:D,resourceOptions:B}=l;!s||s instanceof E.Resource||((s=v.autoDetectResource(s,B)).internal=!0),this.resolution=D||y.settings.RESOLUTION,this.width=Math.round((w||0)*this.resolution)/this.resolution,this.height=Math.round((P||0)*this.resolution)/this.resolution,this._mipmap=_,this.anisotropicLevel=T,this._wrapMode=O,this._scaleMode=S,this.format=C,this.type=R,this.target=L,this.alphaMode=c,this.uid=m.uid(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=w>0&&P>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(s)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(s){this._mipmap!==s&&(this._mipmap=s,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(s){this._scaleMode!==s&&(this._scaleMode=s,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(s){this._wrapMode!==s&&(this._wrapMode=s,this.dirtyStyleId++)}setStyle(s,l){let c;return void 0!==s&&s!==this.scaleMode&&(this.scaleMode=s,c=!0),void 0!==l&&l!==this.mipmap&&(this.mipmap=l,c=!0),c&&this.dirtyStyleId++,this}setSize(s,l,c){return c=c||this.resolution,this.setRealSize(s*c,l*c,c)}setRealSize(s,l,c){return this.resolution=c||this.resolution,this.width=Math.round(s)/this.resolution,this.height=Math.round(l)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=m.isPow2(this.realWidth)&&m.isPow2(this.realHeight)}setResolution(s){const l=this.resolution;return l===s||(this.resolution=s,this.valid&&(this.width=Math.round(this.width*l)/s,this.height=Math.round(this.height*l)/s,this.emit("update",this)),this._refreshPOT()),this}setResource(s){if(this.resource===s)return this;if(this.resource)throw new Error("Resource can be set only once");return s.bind(this),this.resource=s,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(s){this.emit("error",this,s)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete m.BaseTextureCache[this.cacheId],delete m.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),A.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(s,l,c=y.settings.STRICT_TEXTURE_CACHE){const _="string"==typeof s;let v=null;if(_)v=s;else{if(!s._pixiId){const c=l?.pixiIdPrefix||"pixiid";s._pixiId=`${c}_${m.uid()}`}v=s._pixiId}let T=m.BaseTextureCache[v];if(_&&c&&!T)throw new Error(`The cacheId "${v}" does not exist in BaseTextureCache.`);return T||(T=new A(s,l),T.cacheId=v,A.addToCache(T,v)),T}static fromBuffer(s,l,c,y){s=s||new Float32Array(l*c*4);const m=new T.BufferResource(s,{width:l,height:c}),v=s instanceof Float32Array?_.TYPES.FLOAT:_.TYPES.UNSIGNED_BYTE;return new A(m,Object.assign({},S,{type:v},y))}static addToCache(s,l){l&&(s.textureCacheIds.includes(l)||s.textureCacheIds.push(l),m.BaseTextureCache[l]&&m.BaseTextureCache[l]!==s&&console.warn(`BaseTexture added to the cache with an id [${l}] that already had an entry`),m.BaseTextureCache[l]=s)}static removeFromCache(s){if("string"==typeof s){const l=m.BaseTextureCache[s];if(l){const c=l.textureCacheIds.indexOf(s);return c>-1&&l.textureCacheIds.splice(c,1),delete m.BaseTextureCache[s],l}}else if(s?.textureCacheIds){for(let l=0;l<s.textureCacheIds.length;++l)delete m.BaseTextureCache[s.textureCacheIds[l]];return s.textureCacheIds.length=0,s}return null}};let w=A;w.defaultOptions={mipmap:_.MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:_.SCALE_MODES.LINEAR,wrapMode:_.WRAP_MODES.CLAMP,alphaMode:_.ALPHA_MODES.UNPACK,target:_.TARGETS.TEXTURE_2D,format:_.FORMATS.RGBA,type:_.TYPES.UNSIGNED_BYTE},w._globalBatch=0,l.BaseTexture=w},50701:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616);l.GLTexture=class GLTexture{constructor(s){this.texture=s,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=_.TYPES.UNSIGNED_BYTE,this.internalFormat=_.FORMATS.RGBA,this.samplerType=0}}},65453:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(40435),y=c(82101),m=c(12191),v=c(43396),T=c(79137),E=c(46487);const S=new E.TextureUvs;function removeAllHandlers(s){s.destroy=function _emptyDestroy(){},s.on=function _emptyOn(){},s.once=function _emptyOnce(){},s.emit=function _emptyEmit(){}}class Texture extends m.EventEmitter{constructor(s,l,c,y,m,v,T){if(super(),this.noFrame=!1,l||(this.noFrame=!0,l=new _.Rectangle(0,0,1,1)),s instanceof Texture&&(s=s.baseTexture),this.baseTexture=s,this._frame=l,this.trim=y,this.valid=!1,this._uvs=S,this.uvMatrix=null,this.orig=c||l,this._rotate=Number(m||0),!0===m)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=v?new _.Point(v.x,v.y):new _.Point(0,0),this.defaultBorders=T,this._updateID=0,this.textureCacheIds=[],s.valid?this.noFrame?s.valid&&this.onBaseTextureUpdated(s):this.frame=l:s.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&s.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(s){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=s.width,this._frame.height=s.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(s){if(this.baseTexture){if(s){const{resource:s}=this.baseTexture;s?.url&&m.TextureCache[s.url]&&Texture.removeFromCache(s.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Texture.removeFromCache(this),this.textureCacheIds=null}clone(){const s=this._frame.clone(),l=this._frame===this.orig?s:this.orig.clone(),c=new Texture(this.baseTexture,!this.noFrame&&s,l,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(c._frame=s),c}updateUvs(){this._uvs===S&&(this._uvs=new E.TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(s,l={},c=y.settings.STRICT_TEXTURE_CACHE){const _="string"==typeof s;let T=null;if(_)T=s;else if(s instanceof v.BaseTexture){if(!s.cacheId){const c=l?.pixiIdPrefix||"pixiid";s.cacheId=`${c}-${m.uid()}`,v.BaseTexture.addToCache(s,s.cacheId)}T=s.cacheId}else{if(!s._pixiId){const c=l?.pixiIdPrefix||"pixiid";s._pixiId=`${c}_${m.uid()}`}T=s._pixiId}let E=m.TextureCache[T];if(_&&c&&!E)throw new Error(`The cacheId "${T}" does not exist in TextureCache.`);return E||s instanceof v.BaseTexture?!E&&s instanceof v.BaseTexture&&(E=new Texture(s),Texture.addToCache(E,T)):(l.resolution||(l.resolution=m.getResolutionOfUrl(s)),E=new Texture(new v.BaseTexture(s,l)),E.baseTexture.cacheId=T,v.BaseTexture.addToCache(E.baseTexture,T),Texture.addToCache(E,T)),E}static fromURL(s,l){const c=Object.assign({autoLoad:!1},l?.resourceOptions),_=Texture.from(s,Object.assign({resourceOptions:c},l),!1),y=_.baseTexture.resource;return _.baseTexture.valid?Promise.resolve(_):y.load().then((()=>Promise.resolve(_)))}static fromBuffer(s,l,c,_){return new Texture(v.BaseTexture.fromBuffer(s,l,c,_))}static fromLoader(s,l,c,_){const y=new v.BaseTexture(s,Object.assign({scaleMode:v.BaseTexture.defaultOptions.scaleMode,resolution:m.getResolutionOfUrl(l)},_)),{resource:E}=y;E instanceof T.ImageResource&&(E.url=l);const S=new Texture(y);return c||(c=l),v.BaseTexture.addToCache(S.baseTexture,c),Texture.addToCache(S,c),c!==l&&(v.BaseTexture.addToCache(S.baseTexture,l),Texture.addToCache(S,l)),S.baseTexture.valid?Promise.resolve(S):new Promise((s=>{S.baseTexture.once("loaded",(()=>s(S)))}))}static addToCache(s,l){l&&(s.textureCacheIds.includes(l)||s.textureCacheIds.push(l),m.TextureCache[l]&&m.TextureCache[l]!==s&&console.warn(`Texture added to the cache with an id [${l}] that already had an entry`),m.TextureCache[l]=s)}static removeFromCache(s){if("string"==typeof s){const l=m.TextureCache[s];if(l){const c=l.textureCacheIds.indexOf(s);return c>-1&&l.textureCacheIds.splice(c,1),delete m.TextureCache[s],l}}else if(s?.textureCacheIds){for(let l=0;l<s.textureCacheIds.length;++l)m.TextureCache[s.textureCacheIds[l]]===s&&delete m.TextureCache[s.textureCacheIds[l]];return s.textureCacheIds.length=0,s}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(s){this._frame=s,this.noFrame=!1;const{x:l,y:c,width:_,height:y}=s,m=l+_>this.baseTexture.width,v=c+y>this.baseTexture.height;if(m||v){const s=m&&v?"and":"or",T=`X: ${l} + ${_} = ${l+_} > ${this.baseTexture.width}`,E=`Y: ${c} + ${y} = ${c+y} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${T} ${s} ${E}`)}this.valid=_&&y&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=s),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(s){this._rotate=s,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Texture._EMPTY||(Texture._EMPTY=new Texture(new v.BaseTexture),removeAllHandlers(Texture._EMPTY),removeAllHandlers(Texture._EMPTY.baseTexture)),Texture._EMPTY}static get WHITE(){if(!Texture._WHITE){const s=y.settings.ADAPTER.createCanvas(16,16),l=s.getContext("2d");s.width=16,s.height=16,l.fillStyle="white",l.fillRect(0,0,16,16),Texture._WHITE=new Texture(v.BaseTexture.from(s)),removeAllHandlers(Texture._WHITE),removeAllHandlers(Texture._WHITE.baseTexture)}return Texture._WHITE}}l.Texture=Texture},21811:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(71648);const m=class{constructor(s){this.renderer=s,this.count=0,this.checkCount=0,this.maxIdle=m.defaultMaxIdle,this.checkCountMax=m.defaultCheckCountMax,this.mode=m.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==_.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const s=this.renderer.texture,l=s.managedTextures;let c=!1;for(let _=0;_<l.length;_++){const y=l[_];!y.framebuffer&&this.count-y.touched>this.maxIdle&&(s.destroyTexture(y,!0),l[_]=null,c=!0)}if(c){let s=0;for(let c=0;c<l.length;c++)null!==l[c]&&(l[s++]=l[c]);l.length=s}}unload(s){const l=this.renderer.texture,c=s._texture;c&&!c.framebuffer&&l.destroyTexture(c);for(let l=s.children.length-1;l>=0;l--)this.unload(s.children[l])}destroy(){this.renderer=null}};let v=m;v.defaultMode=_.GC_MODES.AUTO,v.defaultMaxIdle=3600,v.defaultCheckCountMax=600,v.extension={type:y.ExtensionType.RendererSystem,name:"textureGC"},y.extensions.add(v),l.TextureGCSystem=v},67772:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(40435);const y=new _.Matrix;l.TextureMatrix=class TextureMatrix{constructor(s,l){this._texture=s,this.mapCoord=new _.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===l?.5:l,this.isSimple=!1}get texture(){return this._texture}set texture(s){this._texture=s,this._textureID=-1}multiplyUvs(s,l){void 0===l&&(l=s);const c=this.mapCoord;for(let _=0;_<s.length;_+=2){const y=s[_],m=s[_+1];l[_]=y*c.a+m*c.c+c.tx,l[_+1]=y*c.b+m*c.d+c.ty}return l}update(s){const l=this._texture;if(!l||!l.valid)return!1;if(!s&&this._textureID===l._updateID)return!1;this._textureID=l._updateID,this._updateID++;const c=l._uvs;this.mapCoord.set(c.x1-c.x0,c.y1-c.y0,c.x3-c.x0,c.y3-c.y0,c.x0,c.y0);const _=l.orig,m=l.trim;m&&(y.set(_.width/m.width,0,0,_.height/m.height,-m.x/m.width,-m.y/m.height),this.mapCoord.append(y));const v=l.baseTexture,T=this.uClampFrame,E=this.clampMargin/v.resolution,S=this.clampOffset;return T[0]=(l._frame.x+E+S)/v.width,T[1]=(l._frame.y+E+S)/v.height,T[2]=(l._frame.x+l._frame.width-E+S)/v.width,T[3]=(l._frame.y+l._frame.height-E+S)/v.height,this.uClampOffset[0]=S/v.realWidth,this.uClampOffset[1]=S/v.realHeight,this.isSimple=l._frame.width===v.width&&l._frame.height===v.height&&0===l.rotate,!0}}},1546:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(71648),m=c(12191),v=c(43396),T=c(50701),E=c(59476);class TextureSystem{constructor(s){this.renderer=s,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new v.BaseTexture,this.hasIntegerTextures=!1}contextChange(){const s=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=E.mapTypeAndFormatToInternalFormat(s);const l=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=l;for(let s=0;s<l;s++)this.boundTextures[s]=null;this.emptyTextures={};const c=new T.GLTexture(s.createTexture());s.bindTexture(s.TEXTURE_2D,c.texture),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,1,1,0,s.RGBA,s.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[s.TEXTURE_2D]=c,this.emptyTextures[s.TEXTURE_CUBE_MAP]=new T.GLTexture(s.createTexture()),s.bindTexture(s.TEXTURE_CUBE_MAP,this.emptyTextures[s.TEXTURE_CUBE_MAP].texture);for(let l=0;l<6;l++)s.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,s.RGBA,1,1,0,s.RGBA,s.UNSIGNED_BYTE,null);s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MAG_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MIN_FILTER,s.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(s,l=0){const{gl:c}=this;if(s=s?.castToBaseTexture(),s?.valid&&!s.parentTextureArray){s.touched=this.renderer.textureGC.count;const _=s._glTextures[this.CONTEXT_UID]||this.initTexture(s);this.boundTextures[l]!==s&&(this.currentLocation!==l&&(this.currentLocation=l,c.activeTexture(c.TEXTURE0+l)),c.bindTexture(s.target,_.texture)),_.dirtyId!==s.dirtyId?(this.currentLocation!==l&&(this.currentLocation=l,c.activeTexture(c.TEXTURE0+l)),this.updateTexture(s)):_.dirtyStyleId!==s.dirtyStyleId&&this.updateTextureStyle(s),this.boundTextures[l]=s}else this.currentLocation!==l&&(this.currentLocation=l,c.activeTexture(c.TEXTURE0+l)),c.bindTexture(c.TEXTURE_2D,this.emptyTextures[c.TEXTURE_2D].texture),this.boundTextures[l]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let s=0;s<this.boundTextures.length;s++)this.boundTextures[s]=this.unknownTexture}unbind(s){const{gl:l,boundTextures:c}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<c.length;s++)c[s]===this.unknownTexture&&this.bind(null,s)}for(let _=0;_<c.length;_++)c[_]===s&&(this.currentLocation!==_&&(l.activeTexture(l.TEXTURE0+_),this.currentLocation=_),l.bindTexture(s.target,this.emptyTextures[s.target].texture),c[_]=null)}ensureSamplerType(s){const{boundTextures:l,hasIntegerTextures:c,CONTEXT_UID:y}=this;if(c)for(let c=s-1;c>=0;--c){const s=l[c];if(s){s._glTextures[y].samplerType!==_.SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(s)}}}initTexture(s){const l=new T.GLTexture(this.gl.createTexture());return l.dirtyId=-1,s._glTextures[this.CONTEXT_UID]=l,this.managedTextures.push(s),s.on("dispose",this.destroyTexture,this),l}initTextureType(s,l){l.internalFormat=this.internalFormats[s.type]?.[s.format]??s.format,2===this.webGLVersion&&s.type===_.TYPES.HALF_FLOAT?l.type=this.gl.HALF_FLOAT:l.type=s.type}updateTexture(s){const l=s._glTextures[this.CONTEXT_UID];if(!l)return;const c=this.renderer;if(this.initTextureType(s,l),s.resource?.upload(c,s,l))l.samplerType!==_.SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{const _=s.realWidth,y=s.realHeight,m=c.gl;(l.width!==_||l.height!==y||l.dirtyId<0)&&(l.width=_,l.height=y,m.texImage2D(s.target,0,l.internalFormat,_,y,0,s.format,l.type,null))}s.dirtyStyleId!==l.dirtyStyleId&&this.updateTextureStyle(s),l.dirtyId=s.dirtyId}destroyTexture(s,l){const{gl:c}=this;if((s=s.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(s),c.deleteTexture(s._glTextures[this.CONTEXT_UID].texture),s.off("dispose",this.destroyTexture,this),delete s._glTextures[this.CONTEXT_UID],!l)){const l=this.managedTextures.indexOf(s);-1!==l&&m.removeItems(this.managedTextures,l,1)}}updateTextureStyle(s){const l=s._glTextures[this.CONTEXT_UID];l&&(s.mipmap!==_.MIPMAP_MODES.POW2&&2===this.webGLVersion||s.isPowerOfTwo?l.mipmap=s.mipmap>=1:l.mipmap=!1,2===this.webGLVersion||s.isPowerOfTwo?l.wrapMode=s.wrapMode:l.wrapMode=_.WRAP_MODES.CLAMP,s.resource?.style(this.renderer,s,l)||this.setStyle(s,l),l.dirtyStyleId=s.dirtyStyleId)}setStyle(s,l){const c=this.gl;if(l.mipmap&&s.mipmap!==_.MIPMAP_MODES.ON_MANUAL&&c.generateMipmap(s.target),c.texParameteri(s.target,c.TEXTURE_WRAP_S,l.wrapMode),c.texParameteri(s.target,c.TEXTURE_WRAP_T,l.wrapMode),l.mipmap){c.texParameteri(s.target,c.TEXTURE_MIN_FILTER,s.scaleMode===_.SCALE_MODES.LINEAR?c.LINEAR_MIPMAP_LINEAR:c.NEAREST_MIPMAP_NEAREST);const l=this.renderer.context.extensions.anisotropicFiltering;if(l&&s.anisotropicLevel>0&&s.scaleMode===_.SCALE_MODES.LINEAR){const _=Math.min(s.anisotropicLevel,c.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT));c.texParameterf(s.target,l.TEXTURE_MAX_ANISOTROPY_EXT,_)}}else c.texParameteri(s.target,c.TEXTURE_MIN_FILTER,s.scaleMode===_.SCALE_MODES.LINEAR?c.LINEAR:c.NEAREST);c.texParameteri(s.target,c.TEXTURE_MAG_FILTER,s.scaleMode===_.SCALE_MODES.LINEAR?c.LINEAR:c.NEAREST)}destroy(){this.renderer=null}}TextureSystem.extension={type:y.ExtensionType.RendererSystem,name:"texture"},y.extensions.add(TextureSystem),l.TextureSystem=TextureSystem},46487:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(40435);l.TextureUvs=class TextureUvs{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(s,l,c){const y=l.width,m=l.height;if(c){const l=s.width/2/y,v=s.height/2/m,T=s.x/y+l,E=s.y/m+v;c=_.groupD8.add(c,_.groupD8.NW),this.x0=T+l*_.groupD8.uX(c),this.y0=E+v*_.groupD8.uY(c),c=_.groupD8.add(c,2),this.x1=T+l*_.groupD8.uX(c),this.y1=E+v*_.groupD8.uY(c),c=_.groupD8.add(c,2),this.x2=T+l*_.groupD8.uX(c),this.y2=E+v*_.groupD8.uY(c),c=_.groupD8.add(c,2),this.x3=T+l*_.groupD8.uX(c),this.y3=E+v*_.groupD8.uY(c)}else this.x0=s.x/y,this.y0=s.y/m,this.x1=(s.x+s.width)/y,this.y1=s.y/m,this.x2=(s.x+s.width)/y,this.y2=(s.y+s.height)/m,this.x3=s.x/y,this.y3=(s.y+s.height)/m;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}},34627:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(43396),y=c(11105),m=c(79421);class AbstractMultiResource extends m.Resource{constructor(s,l){const{width:c,height:y}=l||{};super(c,y),this.items=[],this.itemDirtyIds=[];for(let l=0;l<s;l++){const s=new _.BaseTexture;this.items.push(s),this.itemDirtyIds.push(-2)}this.length=s,this._load=null,this.baseTexture=null}initFromArray(s,l){for(let c=0;c<this.length;c++)s[c]&&(s[c].castToBaseTexture?this.addBaseTextureAt(s[c].castToBaseTexture(),c):s[c]instanceof m.Resource?this.addResourceAt(s[c],c):this.addResourceAt(y.autoDetectResource(s[c],l),c))}dispose(){for(let s=0,l=this.length;s<l;s++)this.items[s].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(s,l){if(!this.items[l])throw new Error(`Index ${l} is out of bounds`);return s.valid&&!this.valid&&this.resize(s.width,s.height),this.items[l].setResource(s),this}bind(s){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(s);for(let l=0;l<this.length;l++)this.items[l].parentTextureArray=s,this.items[l].on("update",s.update,s)}unbind(s){super.unbind(s);for(let l=0;l<this.length;l++)this.items[l].parentTextureArray=null,this.items[l].off("update",s.update,s)}load(){if(this._load)return this._load;const s=this.items.map((s=>s.resource)).filter((s=>s)).map((s=>s.load()));return this._load=Promise.all(s).then((()=>{const{realWidth:s,realHeight:l}=this.items[0];return this.resize(s,l),Promise.resolve(this)})),this._load}}l.AbstractMultiResource=AbstractMultiResource},82696:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(34627);class ArrayResource extends y.AbstractMultiResource{constructor(s,l){const{width:c,height:_}=l||{};let y,m;Array.isArray(s)?(y=s,m=s.length):m=s,super(m,{width:c,height:_}),y&&this.initFromArray(y,l)}addBaseTextureAt(s,l){if(!s.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(s.resource,l),this}bind(s){super.bind(s),s.target=_.TARGETS.TEXTURE_2D_ARRAY}upload(s,l,c){const{length:_,itemDirtyIds:y,items:m}=this,{gl:v}=s;c.dirtyId<0&&v.texImage3D(v.TEXTURE_2D_ARRAY,0,c.internalFormat,this._width,this._height,_,0,l.format,c.type,null);for(let s=0;s<_;s++){const _=m[s];y[s]<_.dirtyId&&(y[s]=_.dirtyId,_.valid&&v.texSubImage3D(v.TEXTURE_2D_ARRAY,0,0,0,s,_.resource.width,_.resource.height,1,l.format,c.type,_.resource.source))}return!0}}l.ArrayResource=ArrayResource},93748:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(12191),m=c(79421);class BaseImageResource extends m.Resource{constructor(s){const l=s;super(l.naturalWidth||l.videoWidth||l.width,l.naturalHeight||l.videoHeight||l.height),this.source=s,this.noSubImage=!1}static crossOrigin(s,l,c){void 0!==c||l.startsWith("data:")?!1!==c&&(s.crossOrigin="string"==typeof c?c:"anonymous"):s.crossOrigin=y.determineCrossOrigin(l)}upload(s,l,c,y){const m=s.gl,v=l.realWidth,T=l.realHeight;if(y=y||this.source,"undefined"!=typeof HTMLImageElement&&y instanceof HTMLImageElement){if(!y.complete||0===y.naturalWidth)return!1}else if("undefined"!=typeof HTMLVideoElement&&y instanceof HTMLVideoElement&&y.readyState<=1&&0===y.buffered.length)return!1;return m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l.alphaMode===_.ALPHA_MODES.UNPACK),this.noSubImage||l.target!==m.TEXTURE_2D||c.width!==v||c.height!==T?(c.width=v,c.height=T,m.texImage2D(l.target,0,c.internalFormat,l.format,c.type,y)):m.texSubImage2D(m.TEXTURE_2D,0,0,0,l.format,c.type,y),!0}update(){if(this.destroyed)return;const s=this.source,l=s.naturalWidth||s.videoWidth||s.width,c=s.naturalHeight||s.videoHeight||s.height;this.resize(l,c),super.update()}dispose(){this.source=null}}l.BaseImageResource=BaseImageResource},95737:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(79421);class BufferResource extends y.Resource{constructor(s,l){const{width:c,height:_}=l||{};if(!c||!_)throw new Error("BufferResource width or height invalid");super(c,_),this.data=s}upload(s,l,c){const y=s.gl;y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l.alphaMode===_.ALPHA_MODES.UNPACK);const m=l.realWidth,v=l.realHeight;return c.width===m&&c.height===v?y.texSubImage2D(l.target,0,0,0,m,v,l.format,c.type,this.data):(c.width=m,c.height=v,y.texImage2D(l.target,0,c.internalFormat,m,v,0,l.format,c.type,this.data)),!0}dispose(){this.data=null}static test(s){return s instanceof Float32Array||s instanceof Uint8Array||s instanceof Uint32Array}}l.BufferResource=BufferResource},30544:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(93748);class CanvasResource extends _.BaseImageResource{constructor(s){super(s)}static test(s){const{OffscreenCanvas:l}=globalThis;return!!(l&&s instanceof l)||globalThis.HTMLCanvasElement&&s instanceof HTMLCanvasElement}}l.CanvasResource=CanvasResource},40073:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(34627);const m=class extends y.AbstractMultiResource{constructor(s,l){const{width:c,height:y,autoLoad:v,linkBaseTexture:T}=l||{};if(s&&s.length!==m.SIDES)throw new Error(`Invalid length. Got ${s.length}, expected 6`);super(6,{width:c,height:y});for(let s=0;s<m.SIDES;s++)this.items[s].target=_.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+s;this.linkBaseTexture=!1!==T,s&&this.initFromArray(s,l),!1!==v&&this.load()}bind(s){super.bind(s),s.target=_.TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(s,l,c){if(void 0===c&&(c=this.linkBaseTexture),!this.items[l])throw new Error(`Index ${l} is out of bounds`);if(!this.linkBaseTexture||s.parentTextureArray||Object.keys(s._glTextures).length>0){if(!s.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(s.resource,l)}else s.target=_.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+l,s.parentTextureArray=this.baseTexture,this.items[l]=s;return s.valid&&!this.valid&&this.resize(s.realWidth,s.realHeight),this.items[l]=s,this}upload(s,l,c){const _=this.itemDirtyIds;for(let y=0;y<m.SIDES;y++){const m=this.items[y];(_[y]<m.dirtyId||c.dirtyId<l.dirtyId)&&(m.valid&&m.resource?(m.resource.upload(s,m,c),_[y]=m.dirtyId):_[y]<-1&&(s.gl.texImage2D(m.target,0,c.internalFormat,l.realWidth,l.realHeight,0,l.format,c.type,null),_[y]=-1))}return!0}static test(s){return Array.isArray(s)&&s.length===m.SIDES}};let v=m;v.SIDES=6,l.CubeResource=v},50911:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(95737);class DepthResource extends y.BufferResource{upload(s,l,c){const y=s.gl;y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l.alphaMode===_.ALPHA_MODES.UNPACK);const m=l.realWidth,v=l.realHeight;return c.width===m&&c.height===v?y.texSubImage2D(l.target,0,0,0,m,v,l.format,c.type,this.data):(c.width=m,c.height=v,y.texImage2D(l.target,0,c.internalFormat,m,v,0,l.format,c.type,this.data)),!0}}l.DepthResource=DepthResource},11638:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(82101),m=c(93748);class ImageBitmapResource extends m.BaseImageResource{constructor(s,l){let c,_;l=l||{},"string"==typeof s?(c=ImageBitmapResource.EMPTY,_=s):(c=s,_=null),super(c),this.url=_,this.crossOrigin=l.crossOrigin??!0,this.alphaMode="number"==typeof l.alphaMode?l.alphaMode:null,this._load=null,!1!==l.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((async(s,l)=>{if(null!==this.url)try{const l=await y.settings.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const c=await l.blob();if(this.destroyed)return;const m=await createImageBitmap(c,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===_.ALPHA_MODES.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=m,this.update(),s(this)}catch(s){if(this.destroyed)return;l(s),this.onError.emit(s)}else s(this)}))),this._load}upload(s,l,c){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(l.alphaMode=this.alphaMode),super.upload(s,l,c)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(s){return!!globalThis.createImageBitmap&&"undefined"!=typeof ImageBitmap&&("string"==typeof s||s instanceof ImageBitmap)}static get EMPTY(){return ImageBitmapResource._EMPTY=ImageBitmapResource._EMPTY??y.settings.ADAPTER.createCanvas(0,0),ImageBitmapResource._EMPTY}}l.ImageBitmapResource=ImageBitmapResource},79137:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616),y=c(82101),m=c(93748);class ImageResource extends m.BaseImageResource{constructor(s,l){if(l=l||{},"string"==typeof s){const c=new Image;m.BaseImageResource.crossOrigin(c,s,l.crossorigin),c.src=s,s=c}super(s),!s.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=s.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(l.createBitmap??y.settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof l.alphaMode?l.alphaMode:null,this.bitmap=null,this._load=null,!1!==l.autoLoad&&this.load()}load(s){return this._load||(void 0!==s&&(this.createBitmap=s),this._load=new Promise(((s,l)=>{const c=this.source;this.url=c.src;const completed=()=>{this.destroyed||(c.onload=null,c.onerror=null,this.resize(c.width,c.height),this._load=null,this.createBitmap?s(this.process()):s(this))};c.complete&&c.src?completed():(c.onload=completed,c.onerror=s=>{l(s),this.onError.emit(s)})}))),this._load}process(){const s=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const l=globalThis.createImageBitmap,c=!s.crossOrigin||"anonymous"===s.crossOrigin;return this._process=fetch(s.src,{mode:c?"cors":"no-cors"}).then((s=>s.blob())).then((c=>l(c,0,0,s.width,s.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===_.ALPHA_MODES.UNPACK?"premultiply":"none"}))).then((s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this)))),this._process}upload(s,l,c){if("number"==typeof this.alphaMode&&(l.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(s,l,c);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(s,l,c,this.bitmap),!this.preserveBitmap){let s=!0;const _=l._glTextures;for(const y in _){const m=_[y];if(m!==c&&m.dirtyId!==l.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(s){return"undefined"!=typeof HTMLImageElement&&("string"==typeof s||s instanceof HTMLImageElement)}}l.ImageResource=ImageResource},79421:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82156);l.Resource=class Resource{constructor(s=0,l=0){this._width=s,this._height=l,this.destroyed=!1,this.internal=!1,this.onResize=new _.Runner("setRealSize"),this.onUpdate=new _.Runner("update"),this.onError=new _.Runner("onError")}bind(s){this.onResize.add(s),this.onUpdate.add(s),this.onError.add(s),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(s){this.onResize.remove(s),this.onUpdate.remove(s),this.onError.remove(s)}resize(s,l){s===this._width&&l===this._height||(this._width=s,this._height=l,this.onResize.emit(s,l))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(s,l,c){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(s,l){return!1}}},23868:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82101),y=c(12191),m=c(93748);const v=class extends m.BaseImageResource{constructor(s,l){l=l||{},super(_.settings.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=s,this.scale=l.scale||1,this._overrideWidth=l.width,this._overrideHeight=l.height,this._resolve=null,this._crossorigin=l.crossorigin,this._load=null,!1!==l.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((s=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),s(this)},v.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}))),this._load}_loadSvg(){const s=new Image;m.BaseImageResource.crossOrigin(s,this.svg,this._crossorigin),s.src=this.svg,s.onerror=l=>{this._resolve&&(s.onerror=null,this.onError.emit(l))},s.onload=()=>{if(!this._resolve)return;const l=s.width,c=s.height;if(!l||!c)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let _=l*this.scale,m=c*this.scale;(this._overrideWidth||this._overrideHeight)&&(_=this._overrideWidth||this._overrideHeight/c*l,m=this._overrideHeight||this._overrideWidth/l*c),_=Math.round(_),m=Math.round(m);const v=this.source;v.width=_,v.height=m,v._pixiId=`canvas_${y.uid()}`,v.getContext("2d").drawImage(s,0,0,l,c,0,0,_,m),this._resolve(),this._resolve=null}}static getSize(s){const l=v.SVG_SIZE.exec(s),c={};return l&&(c[l[1]]=Math.round(parseFloat(l[3])),c[l[5]]=Math.round(parseFloat(l[7]))),c}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(s,l){return"svg"===l||"string"==typeof s&&s.startsWith("data:image/svg+xml")||"string"==typeof s&&v.SVG_XML.test(s)}};let T=v;T.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,T.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,l.SVGResource=T},41540:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(36082),y=c(93748);const m=class extends y.BaseImageResource{constructor(s,l){if(l=l||{},!(s instanceof HTMLVideoElement)){const c=document.createElement("video");c.setAttribute("preload","auto"),c.setAttribute("webkit-playsinline",""),c.setAttribute("playsinline",""),"string"==typeof s&&(s=[s]);const _=s[0].src||s[0];y.BaseImageResource.crossOrigin(c,_,l.crossorigin);for(let l=0;l<s.length;++l){const _=document.createElement("source");let{src:y,mime:v}=s[l];y=y||s[l];const T=y.split("?").shift().toLowerCase(),E=T.slice(T.lastIndexOf(".")+1);v=v||m.MIME_TYPES[E]||`video/${E}`,_.src=y,_.type=v,c.appendChild(_)}s=c}super(s),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=l.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==l.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==l.autoLoad&&this.load()}update(s=0){if(!this.destroyed){const s=_.Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-s),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const s=this.source;return(s.readyState===s.HAVE_ENOUGH_DATA||s.readyState===s.HAVE_FUTURE_DATA)&&s.width&&s.height&&(s.complete=!0),s.addEventListener("play",this._onPlayStart.bind(this)),s.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(s.addEventListener("canplay",this._onCanPlay),s.addEventListener("canplaythrough",this._onCanPlay),s.addEventListener("error",this._onError,!0)),this._load=new Promise((l=>{this.valid?l(this):(this._resolve=l,s.load())})),this._load}_onError(s){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(s)}_isSourcePlaying(){const s=this.source;return!s.paused&&!s.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(_.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(_.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const s=this.source;s.removeEventListener("canplay",this._onCanPlay),s.removeEventListener("canplaythrough",this._onCanPlay);const l=this.valid;this.resize(s.videoWidth,s.videoHeight),!l&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&s.play()}dispose(){this._isConnectedToTicker&&(_.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);const s=this.source;s&&(s.removeEventListener("error",this._onError,!0),s.pause(),s.src="",s.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(s){s!==this._autoUpdate&&(this._autoUpdate=s,!this._autoUpdate&&this._isConnectedToTicker?(_.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(_.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(s){s!==this._updateFPS&&(this._updateFPS=s)}static test(s,l){return globalThis.HTMLVideoElement&&s instanceof HTMLVideoElement||m.TYPES.includes(l)}};let v=m;v.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],v.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},l.VideoResource=v},11105:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=[];l.INSTALLED=c,l.autoDetectResource=function autoDetectResource(s,l){if(!s)return null;let _="";if("string"==typeof s){const l=/\.(\w{3,4})(?:$|\?|#)/i.exec(s);l&&(_=l[1].toLowerCase())}for(let y=c.length-1;y>=0;--y){const m=c[y];if(m.test&&m.test(s,_))return new m(s,l)}throw new Error("Unrecognized source type to auto-detect Resource")}},64535:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82696),y=c(11105),m=c(95737),v=c(30544),T=c(40073),E=c(11638),S=c(79137),A=c(23868),w=c(41540),P=c(93748),O=c(79421),C=c(34627);y.INSTALLED.push(E.ImageBitmapResource,S.ImageResource,v.CanvasResource,w.VideoResource,A.SVGResource,m.BufferResource,T.CubeResource,_.ArrayResource),l.ArrayResource=_.ArrayResource,l.INSTALLED=y.INSTALLED,l.autoDetectResource=y.autoDetectResource,l.BufferResource=m.BufferResource,l.CanvasResource=v.CanvasResource,l.CubeResource=T.CubeResource,l.ImageBitmapResource=E.ImageBitmapResource,l.ImageResource=S.ImageResource,l.SVGResource=A.SVGResource,l.VideoResource=w.VideoResource,l.BaseImageResource=P.BaseImageResource,l.Resource=O.Resource,l.AbstractMultiResource=C.AbstractMultiResource},59476:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(57616);l.mapTypeAndFormatToInternalFormat=function mapTypeAndFormatToInternalFormat(s){let l;return l="WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?{[_.TYPES.UNSIGNED_BYTE]:{[_.FORMATS.RGBA]:s.RGBA8,[_.FORMATS.RGB]:s.RGB8,[_.FORMATS.RG]:s.RG8,[_.FORMATS.RED]:s.R8,[_.FORMATS.RGBA_INTEGER]:s.RGBA8UI,[_.FORMATS.RGB_INTEGER]:s.RGB8UI,[_.FORMATS.RG_INTEGER]:s.RG8UI,[_.FORMATS.RED_INTEGER]:s.R8UI,[_.FORMATS.ALPHA]:s.ALPHA,[_.FORMATS.LUMINANCE]:s.LUMINANCE,[_.FORMATS.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[_.TYPES.BYTE]:{[_.FORMATS.RGBA]:s.RGBA8_SNORM,[_.FORMATS.RGB]:s.RGB8_SNORM,[_.FORMATS.RG]:s.RG8_SNORM,[_.FORMATS.RED]:s.R8_SNORM,[_.FORMATS.RGBA_INTEGER]:s.RGBA8I,[_.FORMATS.RGB_INTEGER]:s.RGB8I,[_.FORMATS.RG_INTEGER]:s.RG8I,[_.FORMATS.RED_INTEGER]:s.R8I},[_.TYPES.UNSIGNED_SHORT]:{[_.FORMATS.RGBA_INTEGER]:s.RGBA16UI,[_.FORMATS.RGB_INTEGER]:s.RGB16UI,[_.FORMATS.RG_INTEGER]:s.RG16UI,[_.FORMATS.RED_INTEGER]:s.R16UI,[_.FORMATS.DEPTH_COMPONENT]:s.DEPTH_COMPONENT16},[_.TYPES.SHORT]:{[_.FORMATS.RGBA_INTEGER]:s.RGBA16I,[_.FORMATS.RGB_INTEGER]:s.RGB16I,[_.FORMATS.RG_INTEGER]:s.RG16I,[_.FORMATS.RED_INTEGER]:s.R16I},[_.TYPES.UNSIGNED_INT]:{[_.FORMATS.RGBA_INTEGER]:s.RGBA32UI,[_.FORMATS.RGB_INTEGER]:s.RGB32UI,[_.FORMATS.RG_INTEGER]:s.RG32UI,[_.FORMATS.RED_INTEGER]:s.R32UI,[_.FORMATS.DEPTH_COMPONENT]:s.DEPTH_COMPONENT24},[_.TYPES.INT]:{[_.FORMATS.RGBA_INTEGER]:s.RGBA32I,[_.FORMATS.RGB_INTEGER]:s.RGB32I,[_.FORMATS.RG_INTEGER]:s.RG32I,[_.FORMATS.RED_INTEGER]:s.R32I},[_.TYPES.FLOAT]:{[_.FORMATS.RGBA]:s.RGBA32F,[_.FORMATS.RGB]:s.RGB32F,[_.FORMATS.RG]:s.RG32F,[_.FORMATS.RED]:s.R32F,[_.FORMATS.DEPTH_COMPONENT]:s.DEPTH_COMPONENT32F},[_.TYPES.HALF_FLOAT]:{[_.FORMATS.RGBA]:s.RGBA16F,[_.FORMATS.RGB]:s.RGB16F,[_.FORMATS.RG]:s.RG16F,[_.FORMATS.RED]:s.R16F},[_.TYPES.UNSIGNED_SHORT_5_6_5]:{[_.FORMATS.RGB]:s.RGB565},[_.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[_.FORMATS.RGBA]:s.RGBA4},[_.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[_.FORMATS.RGBA]:s.RGB5_A1},[_.TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[_.FORMATS.RGBA]:s.RGB10_A2,[_.FORMATS.RGBA_INTEGER]:s.RGB10_A2UI},[_.TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[_.FORMATS.RGB]:s.R11F_G11F_B10F},[_.TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[_.FORMATS.RGB]:s.RGB9_E5},[_.TYPES.UNSIGNED_INT_24_8]:{[_.FORMATS.DEPTH_STENCIL]:s.DEPTH24_STENCIL8},[_.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[_.FORMATS.DEPTH_STENCIL]:s.DEPTH32F_STENCIL8}}:{[_.TYPES.UNSIGNED_BYTE]:{[_.FORMATS.RGBA]:s.RGBA,[_.FORMATS.RGB]:s.RGB,[_.FORMATS.ALPHA]:s.ALPHA,[_.FORMATS.LUMINANCE]:s.LUMINANCE,[_.FORMATS.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[_.TYPES.UNSIGNED_SHORT_5_6_5]:{[_.FORMATS.RGB]:s.RGB},[_.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[_.FORMATS.RGBA]:s.RGBA},[_.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[_.FORMATS.RGBA]:s.RGBA}},l}},23574:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82156);l.TransformFeedback=class TransformFeedback{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new _.Runner("disposeTransformFeedback")}bindBuffer(s,l){this.buffers[s]=l}destroy(){this.disposeRunner.emit(this,!1)}}},58228:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648);class TransformFeedbackSystem{constructor(s){this.renderer=s}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(s){const{gl:l,CONTEXT_UID:c}=this,_=s._glTransformFeedbacks[c]||this.createGLTransformFeedback(s);l.bindTransformFeedback(l.TRANSFORM_FEEDBACK,_)}unbind(){const{gl:s}=this;s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(s,l){const{gl:c,renderer:_}=this;l&&_.shader.bind(l),c.beginTransformFeedback(s)}endTransformFeedback(){const{gl:s}=this;s.endTransformFeedback()}createGLTransformFeedback(s){const{gl:l,renderer:c,CONTEXT_UID:_}=this,y=l.createTransformFeedback();s._glTransformFeedbacks[_]=y,l.bindTransformFeedback(l.TRANSFORM_FEEDBACK,y);for(let y=0;y<s.buffers.length;y++){const m=s.buffers[y];m&&(c.buffer.update(m),m._glBuffers[_].refCount++,l.bindBufferBase(l.TRANSFORM_FEEDBACK_BUFFER,y,m._glBuffers[_].buffer||null))}return l.bindTransformFeedback(l.TRANSFORM_FEEDBACK,null),s.disposeRunner.add(this),y}disposeTransformFeedback(s,l){const c=s._glTransformFeedbacks[this.CONTEXT_UID],_=this.gl;s.disposeRunner.remove(this);const y=this.renderer.buffer;if(y)for(let c=0;c<s.buffers.length;c++){const _=s.buffers[c];if(!_)continue;const m=_._glBuffers[this.CONTEXT_UID];m&&(m.refCount--,0!==m.refCount||l||y.dispose(_,l))}c&&(l||_.deleteTransformFeedback(c),delete s._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}TransformFeedbackSystem.extension={type:_.ExtensionType.RendererSystem,name:"transformFeedback"},_.extensions.add(TransformFeedbackSystem),l.TransformFeedbackSystem=TransformFeedbackSystem},342:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82736);class Quad extends _.Geometry{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}l.Quad=Quad},72953:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(44518),y=c(82736);class QuadUv extends y.Geometry{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new _.Buffer(this.vertices),this.uvBuffer=new _.Buffer(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(s,l){let c=0,_=0;return this.uvs[0]=c,this.uvs[1]=_,this.uvs[2]=c+l.width/s.width,this.uvs[3]=_,this.uvs[4]=c+l.width/s.width,this.uvs[5]=_+l.height/s.height,this.uvs[6]=c,this.uvs[7]=_+l.height/s.height,c=l.x,_=l.y,this.vertices[0]=c,this.vertices[1]=_,this.vertices[2]=c+l.width,this.vertices[3]=_,this.vertices[4]=c+l.width,this.vertices[5]=_+l.height,this.vertices[6]=c,this.vertices[7]=_+l.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}l.QuadUv=QuadUv},45711:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648),y=c(40435),m=c(82101);class ViewSystem{constructor(s){this.renderer=s}init(s){this.screen=new y.Rectangle(0,0,s.width,s.height),this.element=s.view||m.settings.ADAPTER.createCanvas(),this.resolution=s.resolution||m.settings.RESOLUTION,this.autoDensity=!!s.autoDensity}resizeView(s,l){this.element.width=Math.round(s*this.resolution),this.element.height=Math.round(l*this.resolution);const c=this.element.width/this.resolution,_=this.element.height/this.resolution;this.screen.width=c,this.screen.height=_,this.autoDensity&&(this.element.style.width=`${c}px`,this.element.style.height=`${_}px`),this.renderer.emit("resize",c,_),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(s){s&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}ViewSystem.defaultOptions={width:800,height:600,resolution:m.settings.RESOLUTION,autoDensity:!1},ViewSystem.extension={type:[_.ExtensionType.RendererSystem,_.ExtensionType.CanvasRendererSystem],name:"_view"},_.extensions.add(ViewSystem),l.ViewSystem=ViewSystem},57966:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);l.Bounds=class Bounds{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(s){return this.minX>this.maxX||this.minY>this.maxY?_.Rectangle.EMPTY:((s=s||new _.Rectangle(0,0,1,1)).x=this.minX,s.y=this.minY,s.width=this.maxX-this.minX,s.height=this.maxY-this.minY,s)}addPoint(s){this.minX=Math.min(this.minX,s.x),this.maxX=Math.max(this.maxX,s.x),this.minY=Math.min(this.minY,s.y),this.maxY=Math.max(this.maxY,s.y)}addPointMatrix(s,l){const{a:c,b:_,c:y,d:m,tx:v,ty:T}=s,E=c*l.x+y*l.y+v,S=_*l.x+m*l.y+T;this.minX=Math.min(this.minX,E),this.maxX=Math.max(this.maxX,E),this.minY=Math.min(this.minY,S),this.maxY=Math.max(this.maxY,S)}addQuad(s){let l=this.minX,c=this.minY,_=this.maxX,y=this.maxY,m=s[0],v=s[1];l=m<l?m:l,c=v<c?v:c,_=m>_?m:_,y=v>y?v:y,m=s[2],v=s[3],l=m<l?m:l,c=v<c?v:c,_=m>_?m:_,y=v>y?v:y,m=s[4],v=s[5],l=m<l?m:l,c=v<c?v:c,_=m>_?m:_,y=v>y?v:y,m=s[6],v=s[7],l=m<l?m:l,c=v<c?v:c,_=m>_?m:_,y=v>y?v:y,this.minX=l,this.minY=c,this.maxX=_,this.maxY=y}addFrame(s,l,c,_,y){this.addFrameMatrix(s.worldTransform,l,c,_,y)}addFrameMatrix(s,l,c,_,y){const m=s.a,v=s.b,T=s.c,E=s.d,S=s.tx,A=s.ty;let w=this.minX,P=this.minY,O=this.maxX,C=this.maxY,R=m*l+T*c+S,L=v*l+E*c+A;w=R<w?R:w,P=L<P?L:P,O=R>O?R:O,C=L>C?L:C,R=m*_+T*c+S,L=v*_+E*c+A,w=R<w?R:w,P=L<P?L:P,O=R>O?R:O,C=L>C?L:C,R=m*l+T*y+S,L=v*l+E*y+A,w=R<w?R:w,P=L<P?L:P,O=R>O?R:O,C=L>C?L:C,R=m*_+T*y+S,L=v*_+E*y+A,w=R<w?R:w,P=L<P?L:P,O=R>O?R:O,C=L>C?L:C,this.minX=w,this.minY=P,this.maxX=O,this.maxY=C}addVertexData(s,l,c){let _=this.minX,y=this.minY,m=this.maxX,v=this.maxY;for(let T=l;T<c;T+=2){const l=s[T],c=s[T+1];_=l<_?l:_,y=c<y?c:y,m=l>m?l:m,v=c>v?c:v}this.minX=_,this.minY=y,this.maxX=m,this.maxY=v}addVertices(s,l,c,_){this.addVerticesMatrix(s.worldTransform,l,c,_)}addVerticesMatrix(s,l,c,_,y=0,m=y){const v=s.a,T=s.b,E=s.c,S=s.d,A=s.tx,w=s.ty;let P=this.minX,O=this.minY,C=this.maxX,R=this.maxY;for(let s=c;s<_;s+=2){const c=l[s],_=l[s+1],L=v*c+E*_+A,D=S*_+T*c+w;P=Math.min(P,L-y),C=Math.max(C,L+y),O=Math.min(O,D-m),R=Math.max(R,D+m)}this.minX=P,this.minY=O,this.maxX=C,this.maxY=R}addBounds(s){const l=this.minX,c=this.minY,_=this.maxX,y=this.maxY;this.minX=s.minX<l?s.minX:l,this.minY=s.minY<c?s.minY:c,this.maxX=s.maxX>_?s.maxX:_,this.maxY=s.maxY>y?s.maxY:y}addBoundsMask(s,l){const c=s.minX>l.minX?s.minX:l.minX,_=s.minY>l.minY?s.minY:l.minY,y=s.maxX<l.maxX?s.maxX:l.maxX,m=s.maxY<l.maxY?s.maxY:l.maxY;if(c<=y&&_<=m){const s=this.minX,l=this.minY,v=this.maxX,T=this.maxY;this.minX=c<s?c:s,this.minY=_<l?_:l,this.maxX=y>v?y:v,this.maxY=m>T?m:T}}addBoundsMatrix(s,l){this.addFrameMatrix(l,s.minX,s.minY,s.maxX,s.maxY)}addBoundsArea(s,l){const c=s.minX>l.x?s.minX:l.x,_=s.minY>l.y?s.minY:l.y,y=s.maxX<l.x+l.width?s.maxX:l.x+l.width,m=s.maxY<l.y+l.height?s.maxY:l.y+l.height;if(c<=y&&_<=m){const s=this.minX,l=this.minY,v=this.maxX,T=this.maxY;this.minX=c<s?c:s,this.minY=_<l?_:l,this.maxX=y>v?y:v,this.maxY=m>T?m:T}}pad(s=0,l=s){this.isEmpty()||(this.minX-=s,this.maxX+=s,this.minY-=l,this.maxY+=l)}addFramePad(s,l,c,_,y,m){s-=y,l-=m,c+=y,_+=m,this.minX=this.minX<s?this.minX:s,this.maxX=this.maxX>c?this.maxX:c,this.minY=this.minY<l?this.minY:l,this.maxY=this.maxY>_?this.maxY:_}}},7155:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(70263);const m=new _.Matrix;function sortChildren(s,l){return s.zIndex===l.zIndex?s._lastSortedIndex-l._lastSortedIndex:s.zIndex-l.zIndex}const v=class extends y.DisplayObject{constructor(){super(),this.children=[],this.sortableChildren=v.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(s){}addChild(...s){if(s.length>1)for(let l=0;l<s.length;l++)this.addChild(s[l]);else{const l=s[0];l.parent&&l.parent.removeChild(l),l.parent=this,this.sortDirty=!0,l.transform._parentID=-1,this.children.push(l),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",l,this,this.children.length-1),l.emit("added",this)}return s[0]}addChildAt(s,l){if(l<0||l>this.children.length)throw new Error(`${s}addChildAt: The index ${l} supplied is out of bounds ${this.children.length}`);return s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.splice(l,0,s),this._boundsID++,this.onChildrenChange(l),s.emit("added",this),this.emit("childAdded",s,this,l),s}swapChildren(s,l){if(s===l)return;const c=this.getChildIndex(s),_=this.getChildIndex(l);this.children[c]=l,this.children[_]=s,this.onChildrenChange(c<_?c:_)}getChildIndex(s){const l=this.children.indexOf(s);if(-1===l)throw new Error("The supplied DisplayObject must be a child of the caller");return l}setChildIndex(s,l){if(l<0||l>=this.children.length)throw new Error(`The index ${l} supplied is out of bounds ${this.children.length}`);const c=this.getChildIndex(s);_.utils.removeItems(this.children,c,1),this.children.splice(l,0,s),this.onChildrenChange(l)}getChildAt(s){if(s<0||s>=this.children.length)throw new Error(`getChildAt: Index (${s}) does not exist.`);return this.children[s]}removeChild(...s){if(s.length>1)for(let l=0;l<s.length;l++)this.removeChild(s[l]);else{const l=s[0],c=this.children.indexOf(l);if(-1===c)return null;l.parent=null,l.transform._parentID=-1,_.utils.removeItems(this.children,c,1),this._boundsID++,this.onChildrenChange(c),l.emit("removed",this),this.emit("childRemoved",l,this,c)}return s[0]}removeChildAt(s){const l=this.getChildAt(s);return l.parent=null,l.transform._parentID=-1,_.utils.removeItems(this.children,s,1),this._boundsID++,this.onChildrenChange(s),l.emit("removed",this),this.emit("childRemoved",l,this,s),l}removeChildren(s=0,l=this.children.length){const c=s,_=l-c;let y;if(_>0&&_<=l){y=this.children.splice(c,_);for(let s=0;s<y.length;++s)y[s].parent=null,y[s].transform&&(y[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(s);for(let s=0;s<y.length;++s)y[s].emit("removed",this),this.emit("childRemoved",y[s],this,s);return y}if(0===_&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let s=!1;for(let l=0,c=this.children.length;l<c;++l){const c=this.children[l];c._lastSortedIndex=l,s||0===c.zIndex||(s=!0)}s&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let s=0,l=this.children.length;s<l;++s){const l=this.children[s];l.visible&&l.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let s=0;s<this.children.length;s++){const l=this.children[s];if(l.visible&&l.renderable)if(l.calculateBounds(),l._mask){const s=l._mask.isMaskData?l._mask.maskObject:l._mask;s?(s.calculateBounds(),this._bounds.addBoundsMask(l._bounds,s._bounds)):this._bounds.addBounds(l._bounds)}else l.filterArea?this._bounds.addBoundsArea(l._bounds,l.filterArea):this._bounds.addBounds(l._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(s,l=!1){const c=super.getLocalBounds(s);if(!l)for(let s=0,l=this.children.length;s<l;++s){const l=this.children[s];l.visible&&l.updateTransform()}return c}_calculateBounds(){}_renderWithCulling(s){const l=s.renderTexture.sourceFrame;if(!(l.width>0&&l.height>0))return;let c,_;this.cullArea?(c=this.cullArea,_=this.worldTransform):this._render!==v.prototype._render&&(c=this.getBounds(!0));const y=s.projection.transform;if(y&&(_?(_=m.copyFrom(_),_.prepend(y)):_=y),c&&l.intersects(c,_))this._render(s);else if(this.cullArea)return;for(let l=0,c=this.children.length;l<c;++l){const c=this.children[l],_=c.cullable;c.cullable=_||!this.cullArea,c.render(s),c.cullable=_}}render(s){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters?.length)this.renderAdvanced(s);else if(this.cullable)this._renderWithCulling(s);else{this._render(s);for(let l=0,c=this.children.length;l<c;++l)this.children[l].render(s)}}renderAdvanced(s){const l=this.filters,c=this._mask;if(l){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let s=0;s<l.length;s++)l[s].enabled&&this._enabledFilters.push(l[s])}const y=l&&this._enabledFilters?.length||c&&(!c.isMaskData||c.enabled&&(c.autoDetect||c.type!==_.MASK_TYPES.NONE));if(y&&s.batch.flush(),l&&this._enabledFilters?.length&&s.filter.push(this,this._enabledFilters),c&&s.mask.push(this,this._mask),this.cullable)this._renderWithCulling(s);else{this._render(s);for(let l=0,c=this.children.length;l<c;++l)this.children[l].render(s)}y&&s.batch.flush(),c&&s.mask.pop(this),l&&this._enabledFilters?.length&&s.filter.pop()}_render(s){}destroy(s){super.destroy(),this.sortDirty=!1;const l="boolean"==typeof s?s:s?.children,c=this.removeChildren(0,this.children.length);if(l)for(let l=0;l<c.length;++l)c[l].destroy(s)}get width(){return this.scale.x*this.getLocalBounds().width}set width(s){const l=this.getLocalBounds().width;this.scale.x=0!==l?s/l:1,this._width=s}get height(){return this.scale.y*this.getLocalBounds().height}set height(s){const l=this.getLocalBounds().height;this.scale.y=0!==l?s/l:1,this._height=s}};let T=v;T.defaultSortableChildren=!1,T.prototype.containerUpdateTransform=T.prototype.updateTransform,l.Container=T},70263:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(57966);class DisplayObject extends _.utils.EventEmitter{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new _.Transform,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new y.Bounds,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(s){const l=Object.keys(s);for(let c=0;c<l.length;++c){const _=l[c];Object.defineProperty(DisplayObject.prototype,_,Object.getOwnPropertyDescriptor(s,_))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(s,l){return s||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),l||(this._boundsRect||(this._boundsRect=new _.Rectangle),l=this._boundsRect),this._bounds.getRectangle(l)}getLocalBounds(s){s||(this._localBoundsRect||(this._localBoundsRect=new _.Rectangle),s=this._localBoundsRect),this._localBounds||(this._localBounds=new y.Bounds);const l=this.transform,c=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const m=this._bounds,v=this._boundsID;this._bounds=this._localBounds;const T=this.getBounds(!1,s);return this.parent=c,this.transform=l,this._bounds=m,this._bounds.updateID+=this._boundsID-v,T}toGlobal(s,l,c=!1){return c||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(s,l)}toLocal(s,l,c,_){return l&&(s=l.toGlobal(s,c,_)),_||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(s,c)}setParent(s){if(!s||!s.addChild)throw new Error("setParent: Argument must be a Container");return s.addChild(this),s}removeFromParent(){this.parent?.removeChild(this)}setTransform(s=0,l=0,c=1,_=1,y=0,m=0,v=0,T=0,E=0){return this.position.x=s,this.position.y=l,this.scale.x=c||1,this.scale.y=_||1,this.rotation=y,this.skew.x=m,this.skew.y=v,this.pivot.x=T,this.pivot.y=E,this}destroy(s){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent}enableTempParent(){const s=this.parent;return this.parent=this._tempDisplayObjectParent,s}disableTempParent(s){this.parent=s}get x(){return this.position.x}set x(s){this.transform.position.x=s}get y(){return this.position.y}set y(s){this.transform.position.y=s}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(s){this.transform.position.copyFrom(s)}get scale(){return this.transform.scale}set scale(s){this.transform.scale.copyFrom(s)}get pivot(){return this.transform.pivot}set pivot(s){this.transform.pivot.copyFrom(s)}get skew(){return this.transform.skew}set skew(s){this.transform.skew.copyFrom(s)}get rotation(){return this.transform.rotation}set rotation(s){this.transform.rotation=s}get angle(){return this.transform.rotation*_.RAD_TO_DEG}set angle(s){this.transform.rotation=s*_.DEG_TO_RAD}get zIndex(){return this._zIndex}set zIndex(s){this._zIndex=s,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let s=this;do{if(!s.visible)return!1;s=s.parent}while(s);return!0}get mask(){return this._mask}set mask(s){if(this._mask!==s){if(this._mask){const s=this._mask.isMaskData?this._mask.maskObject:this._mask;s&&(s._maskRefCount--,0===s._maskRefCount&&(s.renderable=!0,s.isMask=!1))}if(this._mask=s,this._mask){const s=this._mask.isMaskData?this._mask.maskObject:this._mask;s&&(0===s._maskRefCount&&(s.renderable=!1,s.isMask=!0),s._maskRefCount++)}}}}class TemporaryDisplayObject extends DisplayObject{constructor(){super(...arguments),this.sortDirty=null}}DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform,l.DisplayObject=DisplayObject,l.TemporaryDisplayObject=TemporaryDisplayObject},27191:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(63428);var _=c(57966),y=c(7155),m=c(70263);l.Bounds=_.Bounds,l.Container=y.Container,l.DisplayObject=m.DisplayObject,l.TemporaryDisplayObject=m.TemporaryDisplayObject},63428:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(7155);Object.defineProperties(_.settings,{SORTABLE_CHILDREN:{get:()=>y.Container.defaultSortableChildren,set(s){_.utils.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),y.Container.defaultSortableChildren=s}}}),Object.defineProperty(l,"settings",{enumerable:!0,get:function(){return _.settings}})},49099:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(28582),m=c(39564),v=c(67058),T=c(23009);const E=new _.Point,S=new _.Point;l.EventBoundary=class EventBoundary{constructor(s){this.dispatch=new _.utils.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=s,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(s,l){this.mappingTable[s]||(this.mappingTable[s]=[]),this.mappingTable[s].push({fn:l,priority:0}),this.mappingTable[s].sort(((s,l)=>s.priority-l.priority))}dispatchEvent(s,l){s.propagationStopped=!1,s.propagationImmediatelyStopped=!1,this.propagate(s,l),this.dispatch.emit(l||s.type,s)}mapEvent(s){if(!this.rootTarget)return;const l=this.mappingTable[s.type];if(l)for(let c=0,_=l.length;c<_;c++)l[c].fn(s);else console.warn(`[EventBoundary]: Event mapping not defined for ${s.type}`)}hitTest(s,l){y.EventsTicker.pauseUpdate=!0;const c=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,E.set(s,l),this.hitTestFn,this.hitPruneFn);return c&&c[0]}propagate(s,l){if(!s.target)return;const c=s.composedPath();s.eventPhase=s.CAPTURING_PHASE;for(let _=0,y=c.length-1;_<y;_++)if(s.currentTarget=c[_],this.notifyTarget(s,l),s.propagationStopped||s.propagationImmediatelyStopped)return;if(s.eventPhase=s.AT_TARGET,s.currentTarget=s.target,this.notifyTarget(s,l),!s.propagationStopped&&!s.propagationImmediatelyStopped){s.eventPhase=s.BUBBLING_PHASE;for(let _=c.length-2;_>=0;_--)if(s.currentTarget=c[_],this.notifyTarget(s,l),s.propagationStopped||s.propagationImmediatelyStopped)return}}all(s,l,c=this._allInteractiveElements){if(0===c.length)return;s.eventPhase=s.BUBBLING_PHASE;const _=Array.isArray(l)?l:[l];for(let l=c.length-1;l>=0;l--)_.forEach((_=>{s.currentTarget=c[l],this.notifyTarget(s,_)}))}propagationPath(s){const l=[s];for(let c=0;c<2048&&s!==this.rootTarget;c++){if(!s.parent)throw new Error("Cannot find propagation path to disconnected target");l.push(s.parent),s=s.parent}return l.reverse(),l}hitTestMoveRecursive(s,l,c,_,m,v=!1){let T=!1;if(this._interactivePrune(s))return null;if("dynamic"!==s.eventMode&&"dynamic"!==l||(y.EventsTicker.pauseUpdate=!1),s.interactiveChildren&&s.children){const y=s.children;for(let E=y.length-1;E>=0;E--){const S=y[E],A=this.hitTestMoveRecursive(S,this._isInteractive(l)?l:S.eventMode,c,_,m,v||m(s,c));if(A){if(A.length>0&&!A[A.length-1].parent)continue;const l=s.isInteractive();(A.length>0||l)&&(l&&this._allInteractiveElements.push(s),A.push(s)),0===this._hitElements.length&&(this._hitElements=A),T=!0}}}const E=this._isInteractive(l),S=s.isInteractive();return S&&S&&this._allInteractiveElements.push(s),v||this._hitElements.length>0?null:T?this._hitElements:E&&!m(s,c)&&_(s,c)?S?[s]:[]:null}hitTestRecursive(s,l,c,_,m){if(this._interactivePrune(s)||m(s,c))return null;if("dynamic"!==s.eventMode&&"dynamic"!==l||(y.EventsTicker.pauseUpdate=!1),s.interactiveChildren&&s.children){const y=s.children;for(let v=y.length-1;v>=0;v--){const T=y[v],E=this.hitTestRecursive(T,this._isInteractive(l)?l:T.eventMode,c,_,m);if(E){if(E.length>0&&!E[E.length-1].parent)continue;const l=s.isInteractive();return(E.length>0||l)&&E.push(s),E}}}const v=this._isInteractive(l),T=s.isInteractive();return v&&_(s,c)?T?[s]:[]:null}_isInteractive(s){return"static"===s||"dynamic"===s}_interactivePrune(s){return!(s&&!s.isMask&&s.visible&&s.renderable)||("none"===s.eventMode||("passive"===s.eventMode&&!s.interactiveChildren||!!s.isMask))}hitPruneFn(s,l){if(s.hitArea&&(s.worldTransform.applyInverse(l,S),!s.hitArea.contains(S.x,S.y)))return!0;if(s._mask){const c=s._mask.isMaskData?s._mask.maskObject:s._mask;if(c&&!c.containsPoint?.(l))return!0}return!1}hitTestFn(s,l){return"passive"!==s.eventMode&&(!!s.hitArea||!!s.containsPoint&&s.containsPoint(l))}notifyTarget(s,l){const c=`on${l=l??s.type}`;s.currentTarget[c]?.(s);const _=s.eventPhase===s.CAPTURING_PHASE||s.eventPhase===s.AT_TARGET?`${l}capture`:l;this.notifyListeners(s,_),s.eventPhase===s.AT_TARGET&&this.notifyListeners(s,l)}mapPointerDown(s){if(!(s instanceof v.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const l=this.createPointerEvent(s);if(this.dispatchEvent(l,"pointerdown"),"touch"===l.pointerType)this.dispatchEvent(l,"touchstart");else if("mouse"===l.pointerType||"pen"===l.pointerType){const s=2===l.button;this.dispatchEvent(l,s?"rightdown":"mousedown")}this.trackingData(s.pointerId).pressTargetsByButton[s.button]=l.composedPath(),this.freeEvent(l)}mapPointerMove(s){if(!(s instanceof v.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const l=this.createPointerEvent(s);this._isPointerMoveEvent=!1;const c="mouse"===l.pointerType||"pen"===l.pointerType,_=this.trackingData(s.pointerId),y=this.findMountedTarget(_.overTargets);if(_.overTargets?.length>0&&y!==l.target){const _="mousemove"===s.type?"mouseout":"pointerout",m=this.createPointerEvent(s,_,y);if(this.dispatchEvent(m,"pointerout"),c&&this.dispatchEvent(m,"mouseout"),!l.composedPath().includes(y)){const _=this.createPointerEvent(s,"pointerleave",y);for(_.eventPhase=_.AT_TARGET;_.target&&!l.composedPath().includes(_.target);)_.currentTarget=_.target,this.notifyTarget(_),c&&this.notifyTarget(_,"mouseleave"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(m)}if(y!==l.target){const _="mousemove"===s.type?"mouseover":"pointerover",m=this.clonePointerEvent(l,_);this.dispatchEvent(m,"pointerover"),c&&this.dispatchEvent(m,"mouseover");let v=y?.parent;for(;v&&v!==this.rootTarget.parent&&v!==l.target;)v=v.parent;if(!v||v===this.rootTarget.parent){const s=this.clonePointerEvent(l,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==y&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),c&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;this.freeEvent(s)}this.freeEvent(m)}const m=[],T=this.enableGlobalMoveEvents??!0;this.moveOnAll?m.push("pointermove"):this.dispatchEvent(l,"pointermove"),T&&m.push("globalpointermove"),"touch"===l.pointerType&&(this.moveOnAll?m.splice(1,0,"touchmove"):this.dispatchEvent(l,"touchmove"),T&&m.push("globaltouchmove")),c&&(this.moveOnAll?m.splice(1,0,"mousemove"):this.dispatchEvent(l,"mousemove"),T&&m.push("globalmousemove"),this.cursor=l.target?.cursor),m.length>0&&this.all(l,m),this._allInteractiveElements.length=0,this._hitElements.length=0,_.overTargets=l.composedPath(),this.freeEvent(l)}mapPointerOver(s){if(!(s instanceof v.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const l=this.trackingData(s.pointerId),c=this.createPointerEvent(s),_="mouse"===c.pointerType||"pen"===c.pointerType;this.dispatchEvent(c,"pointerover"),_&&this.dispatchEvent(c,"mouseover"),"mouse"===c.pointerType&&(this.cursor=c.target?.cursor);const y=this.clonePointerEvent(c,"pointerenter");for(y.eventPhase=y.AT_TARGET;y.target&&y.target!==this.rootTarget.parent;)y.currentTarget=y.target,this.notifyTarget(y),_&&this.notifyTarget(y,"mouseenter"),y.target=y.target.parent;l.overTargets=c.composedPath(),this.freeEvent(c),this.freeEvent(y)}mapPointerOut(s){if(!(s instanceof v.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const l=this.trackingData(s.pointerId);if(l.overTargets){const c="mouse"===s.pointerType||"pen"===s.pointerType,_=this.findMountedTarget(l.overTargets),y=this.createPointerEvent(s,"pointerout",_);this.dispatchEvent(y),c&&this.dispatchEvent(y,"mouseout");const m=this.createPointerEvent(s,"pointerleave",_);for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),c&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;l.overTargets=null,this.freeEvent(y),this.freeEvent(m)}this.cursor=null}mapPointerUp(s){if(!(s instanceof v.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const l=performance.now(),c=this.createPointerEvent(s);if(this.dispatchEvent(c,"pointerup"),"touch"===c.pointerType)this.dispatchEvent(c,"touchend");else if("mouse"===c.pointerType||"pen"===c.pointerType){const s=2===c.button;this.dispatchEvent(c,s?"rightup":"mouseup")}const _=this.trackingData(s.pointerId),y=this.findMountedTarget(_.pressTargetsByButton[s.button]);let m=y;if(y&&!c.composedPath().includes(y)){let l=y;for(;l&&!c.composedPath().includes(l);){if(c.currentTarget=l,this.notifyTarget(c,"pointerupoutside"),"touch"===c.pointerType)this.notifyTarget(c,"touchendoutside");else if("mouse"===c.pointerType||"pen"===c.pointerType){const s=2===c.button;this.notifyTarget(c,s?"rightupoutside":"mouseupoutside")}l=l.parent}delete _.pressTargetsByButton[s.button],m=l}if(m){const y=this.clonePointerEvent(c,"click");y.target=m,y.path=null,_.clicksByButton[s.button]||(_.clicksByButton[s.button]={clickCount:0,target:y.target,timeStamp:l});const v=_.clicksByButton[s.button];if(v.target===y.target&&l-v.timeStamp<200?++v.clickCount:v.clickCount=1,v.target=y.target,v.timeStamp=l,y.detail=v.clickCount,"mouse"===y.pointerType){const s=2===y.button;this.dispatchEvent(y,s?"rightclick":"click")}else"touch"===y.pointerType&&this.dispatchEvent(y,"tap");this.dispatchEvent(y,"pointertap"),this.freeEvent(y)}this.freeEvent(c)}mapPointerUpOutside(s){if(!(s instanceof v.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const l=this.trackingData(s.pointerId),c=this.findMountedTarget(l.pressTargetsByButton[s.button]),_=this.createPointerEvent(s);if(c){let y=c;for(;y;)_.currentTarget=y,this.notifyTarget(_,"pointerupoutside"),"touch"===_.pointerType?this.notifyTarget(_,"touchendoutside"):"mouse"!==_.pointerType&&"pen"!==_.pointerType||this.notifyTarget(_,2===_.button?"rightupoutside":"mouseupoutside"),y=y.parent;delete l.pressTargetsByButton[s.button]}this.freeEvent(_)}mapWheel(s){if(!(s instanceof T.FederatedWheelEvent))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const l=this.createWheelEvent(s);this.dispatchEvent(l),this.freeEvent(l)}findMountedTarget(s){if(!s)return null;let l=s[0];for(let c=1;c<s.length&&s[c].parent===l;c++)l=s[c];return l}createPointerEvent(s,l,c){const _=this.allocateEvent(v.FederatedPointerEvent);return this.copyPointerData(s,_),this.copyMouseData(s,_),this.copyData(s,_),_.nativeEvent=s.nativeEvent,_.originalEvent=s,_.target=c??this.hitTest(_.global.x,_.global.y)??this._hitElements[0],"string"==typeof l&&(_.type=l),_}createWheelEvent(s){const l=this.allocateEvent(T.FederatedWheelEvent);return this.copyWheelData(s,l),this.copyMouseData(s,l),this.copyData(s,l),l.nativeEvent=s.nativeEvent,l.originalEvent=s,l.target=this.hitTest(l.global.x,l.global.y),l}clonePointerEvent(s,l){const c=this.allocateEvent(v.FederatedPointerEvent);return c.nativeEvent=s.nativeEvent,c.originalEvent=s.originalEvent,this.copyPointerData(s,c),this.copyMouseData(s,c),this.copyData(s,c),c.target=s.target,c.path=s.composedPath().slice(),c.type=l??c.type,c}copyWheelData(s,l){l.deltaMode=s.deltaMode,l.deltaX=s.deltaX,l.deltaY=s.deltaY,l.deltaZ=s.deltaZ}copyPointerData(s,l){s instanceof v.FederatedPointerEvent&&l instanceof v.FederatedPointerEvent&&(l.pointerId=s.pointerId,l.width=s.width,l.height=s.height,l.isPrimary=s.isPrimary,l.pointerType=s.pointerType,l.pressure=s.pressure,l.tangentialPressure=s.tangentialPressure,l.tiltX=s.tiltX,l.tiltY=s.tiltY,l.twist=s.twist)}copyMouseData(s,l){s instanceof m.FederatedMouseEvent&&l instanceof m.FederatedMouseEvent&&(l.altKey=s.altKey,l.button=s.button,l.buttons=s.buttons,l.client.copyFrom(s.client),l.ctrlKey=s.ctrlKey,l.metaKey=s.metaKey,l.movement.copyFrom(s.movement),l.screen.copyFrom(s.screen),l.shiftKey=s.shiftKey,l.global.copyFrom(s.global))}copyData(s,l){l.isTrusted=s.isTrusted,l.srcElement=s.srcElement,l.timeStamp=performance.now(),l.type=s.type,l.detail=s.detail,l.view=s.view,l.which=s.which,l.layer.copyFrom(s.layer),l.page.copyFrom(s.page)}trackingData(s){return this.mappingState.trackingData[s]||(this.mappingState.trackingData[s]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[s]}allocateEvent(s){this.eventPool.has(s)||this.eventPool.set(s,[]);const l=this.eventPool.get(s).pop()||new s(this);return l.eventPhase=l.NONE,l.currentTarget=null,l.path=null,l.target=null,l}freeEvent(s){if(s.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const l=s.constructor;this.eventPool.has(l)||this.eventPool.set(l,[]),this.eventPool.get(l).push(s)}notifyListeners(s,l){const c=s.currentTarget._events[l];if(c&&s.currentTarget.isInteractive())if("fn"in c)c.once&&s.currentTarget.removeListener(l,c.fn,void 0,!0),c.fn.call(c.context,s);else for(let _=0,y=c.length;_<y&&!s.propagationImmediatelyStopped;_++)c[_].once&&s.currentTarget.removeListener(l,c[_].fn,void 0,!0),c[_].fn.call(c[_].context,s)}}},38265:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(49099),m=c(28582),v=c(67058),T=c(23009);const E={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},S=class{constructor(s){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=s,this.rootBoundary=new y.EventBoundary(null),m.EventsTicker.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new v.FederatedPointerEvent(null),this.rootWheelEvent=new T.FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...S.defaultEventFeatures},{set:(s,l,c)=>("globalMove"===l&&(this.rootBoundary.enableGlobalMoveEvents=c),s[l]=c,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(s){const{view:l,resolution:c}=this.renderer;this.setTargetElement(l),this.resolution=c,S._defaultEventMode=s.eventMode??"auto",Object.assign(this.features,s.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(s){this.resolution=s}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(s){s=s||"default";let l=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(l=!1),this.currentCursor===s)return;this.currentCursor=s;const c=this.cursorStyles[s];if(c)switch(typeof c){case"string":l&&(this.domElement.style.cursor=c);break;case"function":c(s);break;case"object":l&&Object.assign(this.domElement.style,c)}else l&&"string"==typeof s&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,s)&&(this.domElement.style.cursor=s)}get pointer(){return this.rootPointerEvent}onPointerDown(s){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===s.pointerType)return;const l=this.normalizeToPointerData(s);if(this.autoPreventDefault&&l[0].isNormalized){(s.cancelable||!("cancelable"in s))&&s.preventDefault()}for(let s=0,c=l.length;s<c;s++){const c=l[s],_=this.bootstrapEvent(this.rootPointerEvent,c);this.rootBoundary.mapEvent(_)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(s){if(!this.features.move)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===s.pointerType)return;m.EventsTicker.pointerMoved();const l=this.normalizeToPointerData(s);for(let s=0,c=l.length;s<c;s++){const c=this.bootstrapEvent(this.rootPointerEvent,l[s]);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(s){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===s.pointerType)return;let l=s.target;s.composedPath&&s.composedPath().length>0&&(l=s.composedPath()[0]);const c=l!==this.domElement?"outside":"",_=this.normalizeToPointerData(s);for(let s=0,l=_.length;s<l;s++){const l=this.bootstrapEvent(this.rootPointerEvent,_[s]);l.type+=c,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(s){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===s.pointerType)return;const l=this.normalizeToPointerData(s);for(let s=0,c=l.length;s<c;s++){const c=this.bootstrapEvent(this.rootPointerEvent,l[s]);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onWheel(s){if(!this.features.wheel)return;const l=this.normalizeWheelEvent(s);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(l)}setTargetElement(s){this.removeEvents(),this.domElement=s,m.EventsTicker.domElement=s,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;m.EventsTicker.addTickerListener();const s=this.domElement.style;s&&(globalThis.navigator.msPointerEnabled?(s.msContentZooming="none",s.msTouchAction="none"):this.supportsPointerEvents&&(s.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;m.EventsTicker.removeTickerListener();const s=this.domElement.style;globalThis.navigator.msPointerEnabled?(s.msContentZooming="",s.msTouchAction=""):this.supportsPointerEvents&&(s.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(s,l,c){let _;_=this.domElement.parentElement?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const y=1/this.resolution;s.x=(l-_.left)*(this.domElement.width/_.width)*y,s.y=(c-_.top)*(this.domElement.height/_.height)*y}normalizeToPointerData(s){const l=[];if(this.supportsTouchEvents&&s instanceof TouchEvent)for(let c=0,_=s.changedTouches.length;c<_;c++){const _=s.changedTouches[c];void 0===_.button&&(_.button=0),void 0===_.buttons&&(_.buttons=1),void 0===_.isPrimary&&(_.isPrimary=1===s.touches.length&&"touchstart"===s.type),void 0===_.width&&(_.width=_.radiusX||1),void 0===_.height&&(_.height=_.radiusY||1),void 0===_.tiltX&&(_.tiltX=0),void 0===_.tiltY&&(_.tiltY=0),void 0===_.pointerType&&(_.pointerType="touch"),void 0===_.pointerId&&(_.pointerId=_.identifier||0),void 0===_.pressure&&(_.pressure=_.force||.5),void 0===_.twist&&(_.twist=0),void 0===_.tangentialPressure&&(_.tangentialPressure=0),void 0===_.layerX&&(_.layerX=_.offsetX=_.clientX),void 0===_.layerY&&(_.layerY=_.offsetY=_.clientY),_.isNormalized=!0,_.type=s.type,l.push(_)}else if(globalThis.MouseEvent&&(!(s instanceof MouseEvent)||this.supportsPointerEvents&&s instanceof globalThis.PointerEvent))l.push(s);else{const c=s;void 0===c.isPrimary&&(c.isPrimary=!0),void 0===c.width&&(c.width=1),void 0===c.height&&(c.height=1),void 0===c.tiltX&&(c.tiltX=0),void 0===c.tiltY&&(c.tiltY=0),void 0===c.pointerType&&(c.pointerType="mouse"),void 0===c.pointerId&&(c.pointerId=1),void 0===c.pressure&&(c.pressure=.5),void 0===c.twist&&(c.twist=0),void 0===c.tangentialPressure&&(c.tangentialPressure=0),c.isNormalized=!0,l.push(c)}return l}normalizeWheelEvent(s){const l=this.rootWheelEvent;return this.transferMouseData(l,s),l.deltaX=s.deltaX,l.deltaY=s.deltaY,l.deltaZ=s.deltaZ,l.deltaMode=s.deltaMode,this.mapPositionToPoint(l.screen,s.clientX,s.clientY),l.global.copyFrom(l.screen),l.offset.copyFrom(l.screen),l.nativeEvent=s,l.type=s.type,l}bootstrapEvent(s,l){return s.originalEvent=null,s.nativeEvent=l,s.pointerId=l.pointerId,s.width=l.width,s.height=l.height,s.isPrimary=l.isPrimary,s.pointerType=l.pointerType,s.pressure=l.pressure,s.tangentialPressure=l.tangentialPressure,s.tiltX=l.tiltX,s.tiltY=l.tiltY,s.twist=l.twist,this.transferMouseData(s,l),this.mapPositionToPoint(s.screen,l.clientX,l.clientY),s.global.copyFrom(s.screen),s.offset.copyFrom(s.screen),s.isTrusted=l.isTrusted,"pointerleave"===s.type&&(s.type="pointerout"),s.type.startsWith("mouse")&&(s.type=s.type.replace("mouse","pointer")),s.type.startsWith("touch")&&(s.type=E[s.type]||s.type),s}transferMouseData(s,l){s.isTrusted=l.isTrusted,s.srcElement=l.srcElement,s.timeStamp=performance.now(),s.type=l.type,s.altKey=l.altKey,s.button=l.button,s.buttons=l.buttons,s.client.x=l.clientX,s.client.y=l.clientY,s.ctrlKey=l.ctrlKey,s.metaKey=l.metaKey,s.movement.x=l.movementX,s.movement.y=l.movementY,s.page.x=l.pageX,s.page.y=l.pageY,s.relatedTarget=null,s.shiftKey=l.shiftKey}};let A=S;A.extension={name:"events",type:[_.ExtensionType.RendererSystem,_.ExtensionType.CanvasRendererSystem]},A.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},_.extensions.add(A),l.EventSystem=A},28582:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);const y=new class EventsTickerClass{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(s){this.removeTickerListener(),this.events=s,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(s){this._pauseUpdate=s}addTickerListener(){!this.tickerAdded&&this.domElement&&(_.Ticker.system.add(this.tickerUpdate,this,_.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(_.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const s=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===s.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:s.clientX,clientY:s.clientY}))}tickerUpdate(s){this._deltaTime+=s,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}};l.EventsTicker=y},66419:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);class FederatedEvent{constructor(s){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=FederatedEvent.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new _.Point,this.page=new _.Point,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=s}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(s,l,c){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(s,l,c,_,y){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}l.FederatedEvent=FederatedEvent},2386:()=>{},48575:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191),m=c(38265),v=c(66419);function convertEventModeToInteractiveMode(s){return"dynamic"===s||"static"===s}const T={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??convertEventModeToInteractiveMode(m.EventSystem.defaultEventMode)},set interactive(s){_.utils.deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=s,this.eventMode=s?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??m.EventSystem.defaultEventMode},set eventMode(s){this._internalInteractive=convertEventModeToInteractiveMode(s),this._internalEventMode=s},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(s,l,c){const _="function"==typeof l?void 0:l;s="boolean"==typeof c&&c||"object"==typeof c&&c.capture?`${s}capture`:s,l="function"==typeof l?l:l.handleEvent,this.on(s,l,_)},removeEventListener(s,l,c){const _="function"==typeof l?void 0:l;s="boolean"==typeof c&&c||"object"==typeof c&&c.capture?`${s}capture`:s,l="function"==typeof l?l:l.handleEvent,this.off(s,l,_)},dispatchEvent(s){if(!(s instanceof v.FederatedEvent))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return s.defaultPrevented=!1,s.path=null,s.target=this,s.manager.dispatchEvent(s),!s.defaultPrevented}};y.DisplayObject.mixin(T),l.FederatedDisplayObject=T},39564:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(66419);class FederatedMouseEvent extends y.FederatedEvent{constructor(){super(...arguments),this.client=new _.Point,this.movement=new _.Point,this.offset=new _.Point,this.global=new _.Point,this.screen=new _.Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(s,l,c){return s.worldTransform.applyInverse(c||this.global,l)}getModifierState(s){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(s)}initMouseEvent(s,l,c,_,y,m,v,T,E,S,A,w,P,O,C){throw new Error("Method not implemented.")}}l.FederatedMouseEvent=FederatedMouseEvent},67058:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(39564);class FederatedPointerEvent extends _.FederatedMouseEvent{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}l.FederatedPointerEvent=FederatedPointerEvent},23009:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(39564);class FederatedWheelEvent extends _.FederatedMouseEvent{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}FederatedWheelEvent.DOM_DELTA_PIXEL=0,FederatedWheelEvent.DOM_DELTA_LINE=1,FederatedWheelEvent.DOM_DELTA_PAGE=2,l.FederatedWheelEvent=FederatedWheelEvent},79743:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(49099),y=c(38265),m=c(66419);c(2386);var v=c(48575),T=c(39564),E=c(67058),S=c(23009);l.EventBoundary=_.EventBoundary,l.EventSystem=y.EventSystem,l.FederatedEvent=m.FederatedEvent,l.FederatedDisplayObject=v.FederatedDisplayObject,l.FederatedMouseEvent=T.FederatedMouseEvent,l.FederatedPointerEvent=E.FederatedPointerEvent,l.FederatedWheelEvent=S.FederatedWheelEvent},71648:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c=(s=>(s.Renderer="renderer",s.Application="application",s.RendererSystem="renderer-webgl-system",s.RendererPlugin="renderer-webgl-plugin",s.CanvasRendererSystem="renderer-canvas-system",s.CanvasRendererPlugin="renderer-canvas-plugin",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s))(c||{});const normalizeExtension=s=>{if("function"==typeof s||"object"==typeof s&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={..."object"!=typeof s.extension?{type:s.extension}:s.extension,ref:s}}if("object"!=typeof s)throw new Error("Invalid extension type");return"string"==typeof(s={...s}).type&&(s.type=[s.type]),s},normalizePriority=(s,l)=>normalizeExtension(s).priority??l,_={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(normalizeExtension).forEach((s=>{s.type.forEach((l=>this._removeHandlers[l]?.(s)))})),this},add(...s){return s.map(normalizeExtension).forEach((s=>{s.type.forEach((l=>{const c=this._addHandlers,_=this._queue;c[l]?c[l](s):(_[l]=_[l]||[],_[l].push(s))}))})),this},handle(s,l,c){const _=this._addHandlers,y=this._removeHandlers;if(_[s]||y[s])throw new Error(`Extension type ${s} already has a handler`);_[s]=l,y[s]=c;const m=this._queue;return m[s]&&(m[s].forEach((s=>l(s))),delete m[s]),this},handleByMap(s,l){return this.handle(s,(s=>{l[s.name]=s.ref}),(s=>{delete l[s.name]}))},handleByList(s,l,c=-1){return this.handle(s,(s=>{l.includes(s.ref)||(l.push(s.ref),l.sort(((s,l)=>normalizePriority(l,c)-normalizePriority(s,c))))}),(s=>{const c=l.indexOf(s.ref);-1!==c&&l.splice(c,1)}))}};l.ExtensionType=c,l.extensions=_},27743:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);const y=new _.Rectangle,m=class{constructor(s){this.renderer=s}async image(s,l,c){const _=new Image;return _.src=await this.base64(s,l,c),_}async base64(s,l,c){const _=this.canvas(s);if(void 0!==_.toBlob)return new Promise(((s,y)=>{_.toBlob((l=>{if(!l)return void y(new Error("ICanvas.toBlob failed!"));const c=new FileReader;c.onload=()=>s(c.result),c.onerror=y,c.readAsDataURL(l)}),l,c)}));if(void 0!==_.toDataURL)return _.toDataURL(l,c);if(void 0!==_.convertToBlob){const s=await _.convertToBlob({type:l,quality:c});return new Promise(((l,c)=>{const _=new FileReader;_.onload=()=>l(_.result),_.onerror=c,_.readAsDataURL(s)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(s,l){const{pixels:c,width:y,height:v,flipY:T}=this._rawPixels(s,l);T&&m._flipY(c,y,v),m._unpremultiplyAlpha(c);const E=new _.utils.CanvasRenderTarget(y,v,1),S=new ImageData(new Uint8ClampedArray(c.buffer),y,v);return E.context.putImageData(S,0,0),E.canvas}pixels(s,l){const{pixels:c,width:_,height:y,flipY:v}=this._rawPixels(s,l);return v&&m._flipY(c,_,y),m._unpremultiplyAlpha(c),c}_rawPixels(s,l){const c=this.renderer;if(!c)throw new Error("The Extract has already been destroyed");let m,v,T=!1,E=!1;if(s&&(s instanceof _.RenderTexture?v=s:(v=c.generateTexture(s,{resolution:c.resolution,multisample:c.multisample}),E=!0)),v){if(m=v.baseTexture.resolution,l=l??v.frame,T=!1,!E){c.renderTexture.bind(v);const s=v.framebuffer.glFramebuffers[c.CONTEXT_UID];s.blitFramebuffer&&c.framebuffer.bind(s.blitFramebuffer)}}else m=c.resolution,l||((l=y).width=c.width/m,l.height=c.height/m),T=!0,c.renderTexture.bind();const S=Math.round(l.width*m),A=Math.round(l.height*m),w=new Uint8Array(4*S*A),P=c.gl;return P.readPixels(Math.round(l.x*m),Math.round(l.y*m),S,A,P.RGBA,P.UNSIGNED_BYTE,w),E&&v?.destroy(!0),{pixels:w,width:S,height:A,flipY:T}}destroy(){this.renderer=null}static _flipY(s,l,c){const _=l<<2,y=c>>1,m=new Uint8Array(_);for(let l=0;l<y;l++){const y=l*_,v=(c-l-1)*_;m.set(s.subarray(y,y+_)),s.copyWithin(y,v,v+_),s.set(m,v)}}static _unpremultiplyAlpha(s){s instanceof Uint8ClampedArray&&(s=new Uint8Array(s.buffer));const l=s.length;for(let c=0;c<l;c+=4){const l=s[c+3];if(0!==l){const _=255.001/l;s[c]=s[c]*_+.5,s[c+1]=s[c+1]*_+.5,s[c+2]=s[c+2]*_+.5}}}};let v=m;v.extension={name:"extract",type:_.ExtensionType.RendererSystem},_.extensions.add(v),l.Extract=v},46899:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(27743);l.Extract=_.Extract},22778:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(29469);class AlphaFilter extends _.Filter{constructor(s=1){super(_.defaultVertex,y.default,{uAlpha:1}),this.alpha=s}get alpha(){return this.uniforms.uAlpha}set alpha(s){this.uniforms.uAlpha=s}}l.AlphaFilter=AlphaFilter},29469:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"},30370:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(22778);l.AlphaFilter=_.AlphaFilter},76536:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(25339);class BlurFilter extends _.Filter{constructor(s=8,l=4,c=_.Filter.defaultResolution,m=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new y.BlurFilterPass(!0,s,l,c,m),this.blurYFilter=new y.BlurFilterPass(!1,s,l,c,m),this.resolution=c,this.quality=l,this.blur=s,this.repeatEdgePixels=!1}apply(s,l,c,y){const m=Math.abs(this.blurXFilter.strength),v=Math.abs(this.blurYFilter.strength);if(m&&v){const m=s.getFilterTexture();this.blurXFilter.apply(s,l,m,_.CLEAR_MODES.CLEAR),this.blurYFilter.apply(s,m,c,y),s.returnFilterTexture(m)}else v?this.blurYFilter.apply(s,l,c,y):this.blurXFilter.apply(s,l,c,y)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(s){this.blurXFilter.blur=this.blurYFilter.blur=s,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(s){this.blurXFilter.quality=this.blurYFilter.quality=s}get blurX(){return this.blurXFilter.blur}set blurX(s){this.blurXFilter.blur=s,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(s){this.blurYFilter.blur=s,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(s){this.blurYFilter.blendMode=s}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(s){this._repeatEdgePixels=s,this.updatePadding()}}l.BlurFilter=BlurFilter},25339:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(91786),m=c(90399);class BlurFilterPass extends _.Filter{constructor(s,l=8,c=4,v=_.Filter.defaultResolution,T=5){super(m.generateBlurVertSource(T,s),y.generateBlurFragSource(T)),this.horizontal=s,this.resolution=v,this._quality=0,this.quality=c,this.blur=l}apply(s,l,c,y){if(c?this.horizontal?this.uniforms.strength=1/c.width*(c.width/l.width):this.uniforms.strength=1/c.height*(c.height/l.height):this.horizontal?this.uniforms.strength=1/s.renderer.width*(s.renderer.width/l.width):this.uniforms.strength=1/s.renderer.height*(s.renderer.height/l.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)s.applyFilter(this,l,c,y);else{const m=s.getFilterTexture(),v=s.renderer;let T=l,E=m;this.state.blend=!1,s.applyFilter(this,T,E,_.CLEAR_MODES.CLEAR);for(let l=1;l<this.passes-1;l++){s.bindAndClear(T,_.CLEAR_MODES.BLIT),this.uniforms.uSampler=E;const l=E;E=T,T=l,v.shader.bind(this),v.geometry.draw(5)}this.state.blend=!0,s.applyFilter(this,E,c,y),s.returnFilterTexture(m)}}get blur(){return this.strength}set blur(s){this.padding=1+2*Math.abs(s),this.strength=s}get quality(){return this._quality}set quality(s){this._quality=s,this.passes=s}}l.BlurFilterPass=BlurFilterPass},91786:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},_=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");l.generateBlurFragSource=function generateBlurFragSource(s){const l=c[s],y=l.length;let m,v=_,T="";for(let c=0;c<s;c++){let _="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",c.toString());m=c,c>=y&&(m=s-c-1),_=_.replace("%value%",l[m].toString()),T+=_,T+="\n"}return v=v.replace("%blur%",T),v=v.replace("%size%",s.toString()),v}},90399:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.generateBlurVertSource=function generateBlurVertSource(s,l){const c=Math.ceil(s/2);let _,y="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",m="";_=l?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let l=0;l<s;l++){let s=_.replace("%index%",l.toString());s=s.replace("%sampleIndex%",l-(c-1)+".0"),m+=s,m+="\n"}return y=y.replace("%blur%",m),y=y.replace("%size%",s.toString()),y}},23410:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(76536),y=c(25339);l.BlurFilter=_.BlurFilter,l.BlurFilterPass=y.BlurFilterPass},64578:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(83419);class ColorMatrixFilter extends _.Filter{constructor(){const s={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(_.defaultFilterVertex,y.default,s),this.alpha=1}_loadMatrix(s,l=!1){let c=s;l&&(this._multiply(c,this.uniforms.m,s),c=this._colorMatrix(c)),this.uniforms.m=c}_multiply(s,l,c){return s[0]=l[0]*c[0]+l[1]*c[5]+l[2]*c[10]+l[3]*c[15],s[1]=l[0]*c[1]+l[1]*c[6]+l[2]*c[11]+l[3]*c[16],s[2]=l[0]*c[2]+l[1]*c[7]+l[2]*c[12]+l[3]*c[17],s[3]=l[0]*c[3]+l[1]*c[8]+l[2]*c[13]+l[3]*c[18],s[4]=l[0]*c[4]+l[1]*c[9]+l[2]*c[14]+l[3]*c[19]+l[4],s[5]=l[5]*c[0]+l[6]*c[5]+l[7]*c[10]+l[8]*c[15],s[6]=l[5]*c[1]+l[6]*c[6]+l[7]*c[11]+l[8]*c[16],s[7]=l[5]*c[2]+l[6]*c[7]+l[7]*c[12]+l[8]*c[17],s[8]=l[5]*c[3]+l[6]*c[8]+l[7]*c[13]+l[8]*c[18],s[9]=l[5]*c[4]+l[6]*c[9]+l[7]*c[14]+l[8]*c[19]+l[9],s[10]=l[10]*c[0]+l[11]*c[5]+l[12]*c[10]+l[13]*c[15],s[11]=l[10]*c[1]+l[11]*c[6]+l[12]*c[11]+l[13]*c[16],s[12]=l[10]*c[2]+l[11]*c[7]+l[12]*c[12]+l[13]*c[17],s[13]=l[10]*c[3]+l[11]*c[8]+l[12]*c[13]+l[13]*c[18],s[14]=l[10]*c[4]+l[11]*c[9]+l[12]*c[14]+l[13]*c[19]+l[14],s[15]=l[15]*c[0]+l[16]*c[5]+l[17]*c[10]+l[18]*c[15],s[16]=l[15]*c[1]+l[16]*c[6]+l[17]*c[11]+l[18]*c[16],s[17]=l[15]*c[2]+l[16]*c[7]+l[17]*c[12]+l[18]*c[17],s[18]=l[15]*c[3]+l[16]*c[8]+l[17]*c[13]+l[18]*c[18],s[19]=l[15]*c[4]+l[16]*c[9]+l[17]*c[14]+l[18]*c[19]+l[19],s}_colorMatrix(s){const l=new Float32Array(s);return l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,l}brightness(s,l){const c=[s,0,0,0,0,0,s,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(c,l)}tint(s,l){const[c,y,m]=_.Color.shared.setValue(s).toArray(),v=[c,0,0,0,0,0,y,0,0,0,0,0,m,0,0,0,0,0,1,0];this._loadMatrix(v,l)}greyscale(s,l){const c=[s,s,s,0,0,s,s,s,0,0,s,s,s,0,0,0,0,0,1,0];this._loadMatrix(c,l)}blackAndWhite(s){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],s)}hue(s,l){s=(s||0)/180*Math.PI;const c=Math.cos(s),_=Math.sin(s),y=1/3,m=(0,Math.sqrt)(y),v=[c+(1-c)*y,y*(1-c)-m*_,y*(1-c)+m*_,0,0,y*(1-c)+m*_,c+y*(1-c),y*(1-c)-m*_,0,0,y*(1-c)-m*_,y*(1-c)+m*_,c+y*(1-c),0,0,0,0,0,1,0];this._loadMatrix(v,l)}contrast(s,l){const c=(s||0)+1,_=-.5*(c-1),y=[c,0,0,0,_,0,c,0,0,_,0,0,c,0,_,0,0,0,1,0];this._loadMatrix(y,l)}saturate(s=0,l){const c=2*s/3+1,_=-.5*(c-1),y=[c,_,_,0,0,_,c,_,0,0,_,_,c,0,0,0,0,0,1,0];this._loadMatrix(y,l)}desaturate(){this.saturate(-1)}negative(s){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],s)}sepia(s){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],s)}technicolor(s){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],s)}polaroid(s){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],s)}toBGR(s){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],s)}kodachrome(s){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],s)}browni(s){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],s)}vintage(s){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],s)}colorTone(s,l,c,y,m){s=s||.2,l=l||.15,c=c||16770432,y=y||3375104;const v=_.Color.shared,[T,E,S]=v.setValue(c).toArray(),[A,w,P]=v.setValue(y).toArray(),O=[.3,.59,.11,0,0,T,E,S,s,0,A,w,P,l,0,T-A,E-w,S-P,0,0];this._loadMatrix(O,m)}night(s,l){const c=[-2*(s=s||.1),-s,0,0,0,-s,0,s,0,0,0,s,2*s,0,0,0,0,0,1,0];this._loadMatrix(c,l)}predator(s,l){const c=[11.224130630493164*s,-4.794486999511719*s,-2.8746118545532227*s,0*s,.40342438220977783*s,-3.6330697536468506*s,9.193157196044922*s,-2.951810836791992*s,0*s,-1.316135048866272*s,-3.2184197902679443*s,-4.2375030517578125*s,7.476448059082031*s,0*s,.8044459223747253*s,0,0,0,1,0];this._loadMatrix(c,l)}lsd(s){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],s)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(s){this.uniforms.m=s}get alpha(){return this.uniforms.uAlpha}set alpha(s){this.uniforms.uAlpha=s}}ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale,l.ColorMatrixFilter=ColorMatrixFilter},83419:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"},4920:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(64578);l.ColorMatrixFilter=_.ColorMatrixFilter},51538:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(16175),m=c(28962);class DisplacementFilter extends _.Filter{constructor(s,l){const c=new _.Matrix;s.renderable=!1,super(m.default,y.default,{mapSampler:s._texture,filterMatrix:c,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=s,this.maskMatrix=c,null==l&&(l=20),this.scale=new _.Point(l,l)}apply(s,l,c,_){this.uniforms.filterMatrix=s.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const y=this.maskSprite.worldTransform,m=Math.sqrt(y.a*y.a+y.b*y.b),v=Math.sqrt(y.c*y.c+y.d*y.d);0!==m&&0!==v&&(this.uniforms.rotation[0]=y.a/m,this.uniforms.rotation[1]=y.b/m,this.uniforms.rotation[2]=y.c/v,this.uniforms.rotation[3]=y.d/v),s.applyFilter(this,l,c,_)}get map(){return this.uniforms.mapSampler}set map(s){this.uniforms.mapSampler=s}}l.DisplacementFilter=DisplacementFilter},16175:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n"},28962:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n"},31203:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(51538);l.DisplacementFilter=_.DisplacementFilter},86517:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(9860),m=c(97607);class FXAAFilter extends _.Filter{constructor(){super(m.default,y.default)}}l.FXAAFilter=FXAAFilter},9860:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'},97607:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n"},86194:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(86517);l.FXAAFilter=_.FXAAFilter},70463:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(55239);class NoiseFilter extends _.Filter{constructor(s=.5,l=Math.random()){super(_.defaultFilterVertex,y.default,{uNoise:0,uSeed:0}),this.noise=s,this.seed=l}get noise(){return this.uniforms.uNoise}set noise(s){this.uniforms.uNoise=s}get seed(){return this.uniforms.uSeed}set seed(s){this.uniforms.uSeed=s}}l.NoiseFilter=NoiseFilter},38116:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(70463);l.NoiseFilter=_.NoiseFilter},55239:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"},16028:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191),m=c(96335),v=c(62268),T=c(24624),E=c(90681);c(36125);var S=c(28746),A=c(33910),w=c(30672);const P={},O=class extends y.Container{constructor(s=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new T.FillStyle,this._lineStyle=new E.LineStyle,this._matrix=null,this._holeMode=!1,this.state=_.State.for2d(),this._geometry=s||new v.GraphicsGeometry,this._geometry.refCount++,this._transformID=-1,this._tintColor=new _.Color(16777215),this.blendMode=_.BLEND_MODES.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new O(this._geometry)}set blendMode(s){this.state.blendMode=s}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(s){this._tintColor.setValue(s)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(s=null,l=0,c,_=.5,y=!1){return"number"==typeof s&&(s={width:s,color:l,alpha:c,alignment:_,native:y}),this.lineTextureStyle(s)}lineTextureStyle(s){const l={width:0,texture:_.Texture.WHITE,color:s?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:m.LINE_CAP.BUTT,join:m.LINE_JOIN.MITER,miterLimit:10};s=Object.assign(l,s),this.normalizeColor(s),this.currentPath&&this.startPoly();const c=s.width>0&&s.alpha>0;return c?(s.matrix&&(s.matrix=s.matrix.clone(),s.matrix.invert()),Object.assign(this._lineStyle,{visible:c},s)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const s=this.currentPath.points,l=this.currentPath.points.length;l>2&&(this.drawShape(this.currentPath),this.currentPath=new _.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(s[l-2],s[l-1]))}else this.currentPath=new _.Polygon,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(s,l){return this.startPoly(),this.currentPath.points[0]=s,this.currentPath.points[1]=l,this}lineTo(s,l){this.currentPath||this.moveTo(0,0);const c=this.currentPath.points,_=c[c.length-2],y=c[c.length-1];return _===s&&y===l||c.push(s,l),this}_initCurve(s=0,l=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[s,l]):this.moveTo(s,l)}quadraticCurveTo(s,l,c,_){this._initCurve();const y=this.currentPath.points;return 0===y.length&&this.moveTo(0,0),S.QuadraticUtils.curveTo(s,l,c,_,y),this}bezierCurveTo(s,l,c,_,y,m){return this._initCurve(),A.BezierUtils.curveTo(s,l,c,_,y,m,this.currentPath.points),this}arcTo(s,l,c,_,y){this._initCurve(s,l);const m=this.currentPath.points,v=w.ArcUtils.curveTo(s,l,c,_,y,m);if(v){const{cx:s,cy:l,radius:c,startAngle:_,endAngle:y,anticlockwise:m}=v;this.arc(s,l,c,_,y,m)}return this}arc(s,l,c,y,m,v=!1){if(y===m)return this;!v&&m<=y?m+=_.PI_2:v&&y<=m&&(y+=_.PI_2);if(0===m-y)return this;const T=s+Math.cos(y)*c,E=l+Math.sin(y)*c,S=this._geometry.closePointEps;let A=this.currentPath?this.currentPath.points:null;if(A){const s=Math.abs(A[A.length-2]-T),l=Math.abs(A[A.length-1]-E);s<S&&l<S||A.push(T,E)}else this.moveTo(T,E),A=this.currentPath.points;return w.ArcUtils.arc(T,E,s,l,c,y,m,v,A),this}beginFill(s=0,l){return this.beginTextureFill({texture:_.Texture.WHITE,color:s,alpha:l})}normalizeColor(s){const l=_.Color.shared.setValue(s.color??0);s.color=l.toNumber(),s.alpha??(s.alpha=l.alpha)}beginTextureFill(s){const l={texture:_.Texture.WHITE,color:16777215,matrix:null};s=Object.assign(l,s),this.normalizeColor(s),this.currentPath&&this.startPoly();const c=s.alpha>0;return c?(s.matrix&&(s.matrix=s.matrix.clone(),s.matrix.invert()),Object.assign(this._fillStyle,{visible:c},s)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(s,l,c,y){return this.drawShape(new _.Rectangle(s,l,c,y))}drawRoundedRect(s,l,c,y,m){return this.drawShape(new _.RoundedRectangle(s,l,c,y,m))}drawCircle(s,l,c){return this.drawShape(new _.Circle(s,l,c))}drawEllipse(s,l,c,y){return this.drawShape(new _.Ellipse(s,l,c,y))}drawPolygon(...s){let l,c=!0;const y=s[0];y.points?(c=y.closeStroke,l=y.points):l=Array.isArray(s[0])?s[0]:s;const m=new _.Polygon(l);return m.closeStroke=c,this.drawShape(m),this}drawShape(s){return this._holeMode?this._geometry.drawHole(s,this._matrix):this._geometry.drawShape(s,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const s=this._geometry.graphicsData;return!(1!==s.length||s[0].shape.type!==_.SHAPES.RECT||s[0].matrix||s[0].holes.length||s[0].lineStyle.visible&&s[0].lineStyle.width)}_render(s){this.finishPoly();const l=this._geometry;l.updateBatches(),l.batchable?(this.batchDirty!==l.batchDirty&&this._populateBatches(),this._renderBatched(s)):(s.batch.flush(),this._renderDirect(s))}_populateBatches(){const s=this._geometry,l=this.blendMode,c=s.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=s.batchDirty,this.batches.length=c,this.vertexData=new Float32Array(s.points);for(let y=0;y<c;y++){const c=s.batches[y],m=c.style.color,v=new Float32Array(this.vertexData.buffer,4*c.attribStart*2,2*c.attribSize),T=new Float32Array(s.uvsFloat32.buffer,4*c.attribStart*2,2*c.attribSize),E={vertexData:v,blendMode:l,indices:new Uint16Array(s.indicesUint16.buffer,2*c.start,c.size),uvs:T,_batchRGB:_.Color.shared.setValue(m).toRgbArray(),_tintRGB:m,_texture:c.style.texture,alpha:c.style.alpha,worldAlpha:1};this.batches[y]=E}}_renderBatched(s){if(this.batches.length){s.batch.setObjectRenderer(s.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let l=0,c=this.batches.length;l<c;l++){const c=this.batches[l];c.worldAlpha=this.worldAlpha*c.alpha,s.plugins[this.pluginName].render(c)}}}_renderDirect(s){const l=this._resolveDirectShader(s),c=this._geometry,y=this.worldAlpha,m=l.uniforms,v=c.drawCalls;m.translationMatrix=this.transform.worldTransform,_.Color.shared.setValue(this._tintColor).premultiply(y).toArray(m.tint),s.shader.bind(l),s.geometry.bind(c,l),s.state.set(this.state);for(let l=0,_=v.length;l<_;l++)this._renderDrawCallDirect(s,c.drawCalls[l])}_renderDrawCallDirect(s,l){const{texArray:c,type:_,size:y,start:m}=l,v=c.count;for(let l=0;l<v;l++)s.texture.bind(c.elements[l],l);s.geometry.draw(_,y,m)}_resolveDirectShader(s){let l=this.shader;const c=this.pluginName;if(!l){if(!P[c]){const{maxTextures:l}=s.plugins[c],y=new Int32Array(l);for(let s=0;s<l;s++)y[s]=s;const m={tint:new Float32Array([1,1,1,1]),translationMatrix:new _.Matrix,default:_.UniformGroup.from({uSamplers:y},!0)},v=s.plugins[c]._shader.program;P[c]=new _.Shader(v,m)}l=P[c]}return l}_calculateBounds(){this.finishPoly();const s=this._geometry;if(!s.graphicsData.length)return;const{minX:l,minY:c,maxX:_,maxY:y}=s.bounds;this._bounds.addFrame(this.transform,l,c,_,y)}containsPoint(s){return this.worldTransform.applyInverse(s,O._TEMP_POINT),this._geometry.containsPoint(O._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let s=0;s<this.batches.length;s++){const l=this.batches[s];l._tintRGB=_.Color.shared.setValue(this._tintColor).multiply(l._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const s=this.transform._worldID;if(this._transformID===s)return;this._transformID=s;const l=this.transform.worldTransform,c=l.a,_=l.b,y=l.c,m=l.d,v=l.tx,T=l.ty,E=this._geometry.points,S=this.vertexData;let A=0;for(let s=0;s<E.length;s+=2){const l=E[s],w=E[s+1];S[A++]=c*l+y*w+v,S[A++]=m*w+_*l+T}}closePath(){const s=this.currentPath;return s&&(s.closeStroke=!0,this.finishPoly()),this}setMatrix(s){return this._matrix=s,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(s){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(s)}};let C=O;C.curves=m.curves,C._TEMP_POINT=new _.Point,l.Graphics=C},69189:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});class GraphicsData{constructor(s,l=null,c=null,_=null){this.points=[],this.holes=[],this.shape=s,this.lineStyle=c,this.fillStyle=l,this.matrix=_,this.type=s.type}clone(){return new GraphicsData(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}l.GraphicsData=GraphicsData},62268:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191),m=c(69189),v=c(36125),T=c(60881),E=c(89938),S=c(35615);const A=new _.Point,w=class extends _.BatchGeometry{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new y.Bounds,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let s=0;s<this.drawCalls.length;s++)this.drawCalls[s].texArray.clear(),v.DRAW_CALL_POOL.push(this.drawCalls[s]);this.drawCalls.length=0;for(let s=0;s<this.batches.length;s++){const l=this.batches[s];l.reset(),v.BATCH_POOL.push(l)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(s,l=null,c=null,_=null){const y=new m.GraphicsData(s,l,c,_);return this.graphicsData.push(y),this.dirty++,this}drawHole(s,l=null){if(!this.graphicsData.length)return null;const c=new m.GraphicsData(s,null,null,l),_=this.graphicsData[this.graphicsData.length-1];return c.lineStyle=_.lineStyle,_.holes.push(c),this.dirty++,this}destroy(){super.destroy();for(let s=0;s<this.graphicsData.length;++s)this.graphicsData[s].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(s){const l=this.graphicsData;for(let c=0;c<l.length;++c){const _=l[c];if(_.fillStyle.visible&&(_.shape&&(_.matrix?_.matrix.applyInverse(s,A):A.copyFrom(s),_.shape.contains(A.x,A.y)))){let s=!1;if(_.holes)for(let l=0;l<_.holes.length;l++){if(_.holes[l].shape.contains(A.x,A.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const s=this.uvs,l=this.graphicsData;let c=null,y=null;this.batches.length>0&&(c=this.batches[this.batches.length-1],y=c.style);for(let m=this.shapeIndex;m<l.length;m++){this.shapeIndex++;const E=l[m],S=E.fillStyle,A=E.lineStyle;v.FILL_COMMANDS[E.type].build(E),E.matrix&&this.transformPoints(E.points,E.matrix),(S.visible||A.visible)&&this.processHoles(E.holes);for(let l=0;l<2;l++){const m=0===l?S:A;if(!m.visible)continue;const w=m.texture.baseTexture,P=this.indices.length,O=this.points.length/2;w.wrapMode=_.WRAP_MODES.REPEAT,0===l?this.processFill(E):this.processLine(E);const C=this.points.length/2-O;0!==C&&(c&&!this._compareStyles(y,m)&&(c.end(P,O),c=null),c||(c=v.BATCH_POOL.pop()||new T.BatchPart,c.begin(m,P,O),this.batches.push(c),y=m),this.addUvs(this.points,s,m.texture,O,C,m.matrix))}}const m=this.indices.length,E=this.points.length/2;if(c&&c.end(m,E),0===this.batches.length)return void(this.batchable=!0);const S=E>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&S===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=S?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(s,l){return!(!s||!l)&&(s.texture.baseTexture===l.texture.baseTexture&&(s.color+s.alpha===l.color+l.alpha&&!!s.native==!!l.native))}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let s=0,l=this.graphicsData.length;s<l;s++){const l=this.graphicsData[s],c=l.fillStyle,_=l.lineStyle;if(c&&!c.texture.baseTexture.valid)return!1;if(_&&!_.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const s=this.batches;for(let l=0,c=s.length;l<c;l++){const c=s[l];for(let s=0;s<c.size;s++){const l=c.start+s;this.indicesUint16[l]=this.indicesUint16[l]-c.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const s=this.batches;for(let l=0;l<s.length;l++)if(s[l].style.native)return!1;return this.points.length<2*w.BATCHABLE_SIZE}buildDrawCalls(){let s=++_.BaseTexture._globalBatch;for(let s=0;s<this.drawCalls.length;s++)this.drawCalls[s].texArray.clear(),v.DRAW_CALL_POOL.push(this.drawCalls[s]);this.drawCalls.length=0;const l=this.colors,c=this.textureIds;let y=v.DRAW_CALL_POOL.pop();y||(y=new _.BatchDrawCall,y.texArray=new _.BatchTextureArray),y.texArray.count=0,y.start=0,y.size=0,y.type=_.DRAW_MODES.TRIANGLES;let m=0,T=null,E=0,S=!1,A=_.DRAW_MODES.TRIANGLES,w=0;this.drawCalls.push(y);for(let P=0;P<this.batches.length;P++){const O=this.batches[P],C=8,R=O.style,L=R.texture.baseTexture;S!==!!R.native&&(S=!!R.native,A=S?_.DRAW_MODES.LINES:_.DRAW_MODES.TRIANGLES,T=null,m=C,s++),T!==L&&(T=L,L._batchEnabled!==s&&(m===C&&(s++,m=0,y.size>0&&(y=v.DRAW_CALL_POOL.pop(),y||(y=new _.BatchDrawCall,y.texArray=new _.BatchTextureArray),this.drawCalls.push(y)),y.start=w,y.size=0,y.texArray.count=0,y.type=A),L.touched=1,L._batchEnabled=s,L._batchLocation=m,L.wrapMode=_.WRAP_MODES.REPEAT,y.texArray.elements[y.texArray.count++]=L,m++)),y.size+=O.size,w+=O.size,E=L._batchLocation,this.addColors(l,R.color,R.alpha,O.attribSize,O.attribStart),this.addTextureIds(c,E,O.attribSize,O.attribStart)}_.BaseTexture._globalBatch=s,this.packAttributes()}packAttributes(){const s=this.points,l=this.uvs,c=this.colors,_=this.textureIds,y=new ArrayBuffer(3*s.length*4),m=new Float32Array(y),v=new Uint32Array(y);let T=0;for(let y=0;y<s.length/2;y++)m[T++]=s[2*y],m[T++]=s[2*y+1],m[T++]=l[2*y],m[T++]=l[2*y+1],v[T++]=c[y],m[T++]=_[y];this._buffer.update(y),this._indexBuffer.update(this.indicesUint16)}processFill(s){if(s.holes.length)E.buildPoly.triangulate(s,this);else{v.FILL_COMMANDS[s.type].triangulate(s,this)}}processLine(s){S.buildLine(s,this);for(let l=0;l<s.holes.length;l++)S.buildLine(s.holes[l],this)}processHoles(s){for(let l=0;l<s.length;l++){const c=s[l];v.FILL_COMMANDS[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix)}}calculateBounds(){const s=this._bounds;s.clear(),s.addVertexData(this.points,0,this.points.length),s.pad(this.boundsPadding,this.boundsPadding)}transformPoints(s,l){for(let c=0;c<s.length/2;c++){const _=s[2*c],y=s[2*c+1];s[2*c]=l.a*_+l.c*y+l.tx,s[2*c+1]=l.b*_+l.d*y+l.ty}}addColors(s,l,c,y,m=0){const v=_.Color.shared.setValue(l).toLittleEndianNumber(),T=_.Color.shared.setValue(v).toPremultiplied(c);s.length=Math.max(s.length,m+y);for(let l=0;l<y;l++)s[m+l]=T}addTextureIds(s,l,c,_=0){s.length=Math.max(s.length,_+c);for(let y=0;y<c;y++)s[_+y]=l}addUvs(s,l,c,_,y,m=null){let v=0;const T=l.length,E=c.frame;for(;v<y;){let c=s[2*(_+v)],y=s[2*(_+v)+1];if(m){const s=m.a*c+m.c*y+m.tx;y=m.b*c+m.d*y+m.ty,c=s}v++,l.push(c/E.width,y/E.height)}const S=c.baseTexture;(E.width<S.width||E.height<S.height)&&this.adjustUvs(l,c,T,y)}adjustUvs(s,l,c,_){const y=l.baseTexture,m=1e-6,v=c+2*_,T=l.frame,E=T.width/y.width,S=T.height/y.height;let A=T.x/T.width,w=T.y/T.height,P=Math.floor(s[c]+m),O=Math.floor(s[c+1]+m);for(let l=c+2;l<v;l+=2)P=Math.min(P,Math.floor(s[l]+m)),O=Math.min(O,Math.floor(s[l+1]+m));A-=P,w-=O;for(let l=c;l<v;l+=2)s[l]=(s[l]+A)*E,s[l+1]=(s[l+1]+w)*S}};let P=w;P.BATCHABLE_SIZE=100,l.GraphicsGeometry=P},96335:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c=(s=>(s.MITER="miter",s.BEVEL="bevel",s.ROUND="round",s))(c||{}),_=(s=>(s.BUTT="butt",s.ROUND="round",s.SQUARE="square",s))(_||{});const y={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(s,l=20){if(!this.adaptive||!s||isNaN(s))return l;let c=Math.ceil(s/this.maxLength);return c<this.minSegments?c=this.minSegments:c>this.maxSegments&&(c=this.maxSegments),c}},m=y;l.GRAPHICS_CURVES=m,l.LINE_CAP=_,l.LINE_JOIN=c,l.curves=y},59296:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(36125),y=c(96335),m=c(16028),v=c(69189),T=c(62268),E=c(24624),S=c(90681),A=c(89938),w=c(60703),P=c(12285),O=c(93447),C=c(35615),R=c(30672),L=c(33910),D=c(28746),B=c(60881);const F={buildPoly:A.buildPoly,buildCircle:w.buildCircle,buildRectangle:P.buildRectangle,buildRoundedRectangle:O.buildRoundedRectangle,buildLine:C.buildLine,ArcUtils:R.ArcUtils,BezierUtils:L.BezierUtils,QuadraticUtils:D.QuadraticUtils,BatchPart:B.BatchPart,FILL_COMMANDS:_.FILL_COMMANDS,BATCH_POOL:_.BATCH_POOL,DRAW_CALL_POOL:_.DRAW_CALL_POOL};l.GRAPHICS_CURVES=y.GRAPHICS_CURVES,l.LINE_CAP=y.LINE_CAP,l.LINE_JOIN=y.LINE_JOIN,l.curves=y.curves,l.Graphics=m.Graphics,l.GraphicsData=v.GraphicsData,l.GraphicsGeometry=T.GraphicsGeometry,l.FillStyle=E.FillStyle,l.LineStyle=S.LineStyle,l.graphicsUtils=F},24624:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);class FillStyle{constructor(){this.color=16777215,this.alpha=1,this.texture=_.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const s=new FillStyle;return s.color=this.color,s.alpha=this.alpha,s.texture=this.texture,s.matrix=this.matrix,s.visible=this.visible,s}reset(){this.color=16777215,this.alpha=1,this.texture=_.Texture.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}l.FillStyle=FillStyle},90681:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(96335),y=c(24624);class LineStyle extends y.FillStyle{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=_.LINE_CAP.BUTT,this.join=_.LINE_JOIN.MITER,this.miterLimit=10}clone(){const s=new LineStyle;return s.color=this.color,s.alpha=this.alpha,s.texture=this.texture,s.matrix=this.matrix,s.visible=this.visible,s.width=this.width,s.alignment=this.alignment,s.native=this.native,s.cap=this.cap,s.join=this.join,s.miterLimit=this.miterLimit,s}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}l.LineStyle=LineStyle},30672:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(96335);l.ArcUtils=class ArcUtils{static curveTo(s,l,c,_,y,m){const v=m[m.length-2],T=m[m.length-1]-l,E=v-s,S=_-l,A=c-s,w=Math.abs(T*A-E*S);if(w<1e-8||0===y)return m[m.length-2]===s&&m[m.length-1]===l||m.push(s,l),null;const P=T*T+E*E,O=S*S+A*A,C=T*S+E*A,R=y*Math.sqrt(P)/w,L=y*Math.sqrt(O)/w,D=R*C/P,B=L*C/O,F=R*A+L*E,k=R*S+L*T,U=E*(L+D),G=T*(L+D),V=A*(R+B),W=S*(R+B);return{cx:F+s,cy:k+l,radius:y,startAngle:Math.atan2(G-k,U-F),endAngle:Math.atan2(W-k,V-F),anticlockwise:E*S>A*T}}static arc(s,l,c,m,v,T,E,S,A){const w=E-T,P=y.curves._segmentsCount(Math.abs(w)*v,40*Math.ceil(Math.abs(w)/_.PI_2)),O=w/(2*P),C=2*O,R=Math.cos(O),L=Math.sin(O),D=P-1,B=D%1/D;for(let s=0;s<=D;++s){const l=O+T+C*(s+B*s),_=Math.cos(l),y=-Math.sin(l);A.push((R*_+L*y)*v+c,(R*-y+L*_)*v+m)}}}},60881:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.BatchPart=class BatchPart{constructor(){this.reset()}begin(s,l,c){this.reset(),this.style=s,this.start=l,this.attribStart=c}end(s,l){this.attribSize=l-this.attribStart,this.size=s-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}},33910:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(96335);class BezierUtils{static curveLength(s,l,c,_,y,m,v,T){let E=0,S=0,A=0,w=0,P=0,O=0,C=0,R=0,L=0,D=0,B=0,F=s,k=l;for(let U=1;U<=10;++U)S=U/10,A=S*S,w=A*S,P=1-S,O=P*P,C=O*P,R=C*s+3*O*S*c+3*P*A*y+w*v,L=C*l+3*O*S*_+3*P*A*m+w*T,D=F-R,B=k-L,F=R,k=L,E+=Math.sqrt(D*D+B*B);return E}static curveTo(s,l,c,y,m,v,T){const E=T[T.length-2],S=T[T.length-1];T.length-=2;const A=_.curves._segmentsCount(BezierUtils.curveLength(E,S,s,l,c,y,m,v));let w=0,P=0,O=0,C=0,R=0;T.push(E,S);for(let _=1,L=0;_<=A;++_)L=_/A,w=1-L,P=w*w,O=P*w,C=L*L,R=C*L,T.push(O*E+3*P*L*s+3*w*C*c+R*m,O*S+3*P*L*l+3*w*C*y+R*v)}}l.BezierUtils=BezierUtils},28746:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(96335);class QuadraticUtils{static curveLength(s,l,c,_,y,m){const v=s-2*c+y,T=l-2*_+m,E=2*c-2*s,S=2*_-2*l,A=4*(v*v+T*T),w=4*(v*E+T*S),P=E*E+S*S,O=2*Math.sqrt(A+w+P),C=Math.sqrt(A),R=2*A*C,L=2*Math.sqrt(P),D=w/C;return(R*O+C*w*(O-L)+(4*P*A-w*w)*Math.log((2*C+D+O)/(D+L)))/(4*R)}static curveTo(s,l,c,y,m){const v=m[m.length-2],T=m[m.length-1],E=_.curves._segmentsCount(QuadraticUtils.curveLength(v,T,s,l,c,y));let S=0,A=0;for(let _=1;_<=E;++_){const w=_/E;S=v+(s-v)*w,A=T+(l-T)*w,m.push(S+(s+(c-s)*w-S)*w,A+(l+(y-l)*w-A)*w)}}}l.QuadraticUtils=QuadraticUtils},60703:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);const y={build(s){const l=s.points;let c,y,m,v,T,E;if(s.type===_.SHAPES.CIRC){const l=s.shape;c=l.x,y=l.y,T=E=l.radius,m=v=0}else if(s.type===_.SHAPES.ELIP){const l=s.shape;c=l.x,y=l.y,T=l.width,E=l.height,m=v=0}else{const l=s.shape,_=l.width/2,S=l.height/2;c=l.x+_,y=l.y+S,T=E=Math.max(0,Math.min(l.radius,Math.min(_,S))),m=_-T,v=S-E}if(!(T>=0&&E>=0&&m>=0&&v>=0))return void(l.length=0);const S=Math.ceil(2.3*Math.sqrt(T+E)),A=8*S+(m?4:0)+(v?4:0);if(l.length=A,0===A)return;if(0===S)return l.length=8,l[0]=l[6]=c+m,l[1]=l[3]=y+v,l[2]=l[4]=c-m,void(l[5]=l[7]=y-v);let w=0,P=4*S+(m?2:0)+2,O=P,C=A;{const s=m+T,_=v,E=c+s,S=c-s,A=y+_;if(l[w++]=E,l[w++]=A,l[--P]=A,l[--P]=S,v){const s=y-_;l[O++]=S,l[O++]=s,l[--C]=s,l[--C]=E}}for(let s=1;s<S;s++){const _=Math.PI/2*(s/S),A=m+Math.cos(_)*T,R=v+Math.sin(_)*E,L=c+A,D=c-A,B=y+R,F=y-R;l[w++]=L,l[w++]=B,l[--P]=B,l[--P]=D,l[O++]=D,l[O++]=F,l[--C]=F,l[--C]=L}{const s=v+E,_=c+m,T=c-m,S=y+s,A=y-s;l[w++]=_,l[w++]=S,l[--C]=A,l[--C]=_,m&&(l[w++]=T,l[w++]=S,l[--C]=A,l[--C]=T)}},triangulate(s,l){const c=s.points,y=l.points,m=l.indices;if(0===c.length)return;let v=y.length/2;const T=v;let E,S;if(s.type!==_.SHAPES.RREC){const l=s.shape;E=l.x,S=l.y}else{const l=s.shape;E=l.x+l.width/2,S=l.y+l.height/2}const A=s.matrix;y.push(s.matrix?A.a*E+A.c*S+A.tx:E,s.matrix?A.b*E+A.d*S+A.ty:S),v++,y.push(c[0],c[1]);for(let s=2;s<c.length;s+=2)y.push(c[s],c[s+1]),m.push(v++,T,v);m.push(T+1,T,v)}};l.buildCircle=y},35615:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(96335);function square(s,l,c,_,y,m,v,T){let E,S;v?(E=_,S=-c):(E=-_,S=c);const A=s-c*y+E,w=l-_*y+S,P=s+c*m+E,O=l+_*m+S;return T.push(A,w,P,O),2}function round(s,l,c,_,y,m,v,T){const E=c-s,S=_-l;let A=Math.atan2(E,S),w=Math.atan2(y-s,m-l);T&&A<w?A+=2*Math.PI:!T&&A>w&&(w+=2*Math.PI);let P=A;const O=w-A,C=Math.abs(O),R=Math.sqrt(E*E+S*S),L=1+(15*C*Math.sqrt(R)/Math.PI>>0),D=O/L;if(P+=D,T){v.push(s,l,c,_);for(let c=1,_=P;c<L;c++,_+=D)v.push(s,l,s+Math.sin(_)*R,l+Math.cos(_)*R);v.push(s,l,y,m)}else{v.push(c,_,s,l);for(let c=1,_=P;c<L;c++,_+=D)v.push(s+Math.sin(_)*R,l+Math.cos(_)*R,s,l);v.push(y,m,s,l)}return 2*L}l.buildLine=function buildLine(s,l){s.lineStyle.native?function buildNativeLine(s,l){let c=0;const y=s.shape,m=s.points||y.points,v=y.type!==_.SHAPES.POLY||y.closeStroke;if(0===m.length)return;const T=l.points,E=l.indices,S=m.length/2,A=T.length/2;let w=A;for(T.push(m[0],m[1]),c=1;c<S;c++)T.push(m[2*c],m[2*c+1]),E.push(w,w+1),w++;v&&E.push(w,A)}(s,l):function buildNonNativeLine(s,l){const c=s.shape;let m=s.points||c.points.slice();const v=l.closePointEps;if(0===m.length)return;const T=s.lineStyle,E=new _.Point(m[0],m[1]),S=new _.Point(m[m.length-2],m[m.length-1]),A=c.type!==_.SHAPES.POLY||c.closeStroke,w=Math.abs(E.x-S.x)<v&&Math.abs(E.y-S.y)<v;if(A){m=m.slice(),w&&(m.pop(),m.pop(),S.set(m[m.length-2],m[m.length-1]));const s=.5*(E.x+S.x),l=.5*(S.y+E.y);m.unshift(s,l),m.push(s,l)}const P=l.points,O=m.length/2;let C=m.length;const R=P.length/2,L=T.width/2,D=L*L,B=T.miterLimit*T.miterLimit;let F=m[0],k=m[1],U=m[2],G=m[3],V=0,W=0,z=-(k-G),X=F-U,Y=0,$=0,q=Math.sqrt(z*z+X*X);z/=q,X/=q,z*=L,X*=L;const K=T.alignment,Q=2*(1-K),J=2*K;A||(T.cap===y.LINE_CAP.ROUND?C+=round(F-z*(Q-J)*.5,k-X*(Q-J)*.5,F-z*Q,k-X*Q,F+z*J,k+X*J,P,!0)+2:T.cap===y.LINE_CAP.SQUARE&&(C+=square(F,k,z,X,Q,J,!0,P))),P.push(F-z*Q,k-X*Q,F+z*J,k+X*J);for(let s=1;s<O-1;++s){F=m[2*(s-1)],k=m[2*(s-1)+1],U=m[2*s],G=m[2*s+1],V=m[2*(s+1)],W=m[2*(s+1)+1],z=-(k-G),X=F-U,q=Math.sqrt(z*z+X*X),z/=q,X/=q,z*=L,X*=L,Y=-(G-W),$=U-V,q=Math.sqrt(Y*Y+$*$),Y/=q,$/=q,Y*=L,$*=L;const l=U-F,c=k-G,_=U-V,v=W-G,E=l*_+c*v,S=c*_-v*l,A=S<0;if(Math.abs(S)<.001*Math.abs(E)){P.push(U-z*Q,G-X*Q,U+z*J,G+X*J),E>=0&&(T.join===y.LINE_JOIN.ROUND?C+=round(U,G,U-z*Q,G-X*Q,U-Y*Q,G-$*Q,P,!1)+4:C+=2,P.push(U-Y*J,G-$*J,U+Y*Q,G+$*Q));continue}const w=(-z+F)*(-X+G)-(-z+U)*(-X+k),O=(-Y+V)*(-$+G)-(-Y+U)*(-$+W),R=(l*O-_*w)/S,K=(v*w-c*O)/S,Z=(R-U)*(R-U)+(K-G)*(K-G),ee=U+(R-U)*Q,te=G+(K-G)*Q,re=U-(R-U)*J,ie=G-(K-G)*J,ne=A?Q:J,se=Z<=Math.min(l*l+c*c,_*_+v*v)+ne*ne*D;let oe=T.join;if(oe===y.LINE_JOIN.MITER&&Z/D>B&&(oe=y.LINE_JOIN.BEVEL),se)switch(oe){case y.LINE_JOIN.MITER:P.push(ee,te,re,ie);break;case y.LINE_JOIN.BEVEL:A?P.push(ee,te,U+z*J,G+X*J,ee,te,U+Y*J,G+$*J):P.push(U-z*Q,G-X*Q,re,ie,U-Y*Q,G-$*Q,re,ie),C+=2;break;case y.LINE_JOIN.ROUND:A?(P.push(ee,te,U+z*J,G+X*J),C+=round(U,G,U+z*J,G+X*J,U+Y*J,G+$*J,P,!0)+4,P.push(ee,te,U+Y*J,G+$*J)):(P.push(U-z*Q,G-X*Q,re,ie),C+=round(U,G,U-z*Q,G-X*Q,U-Y*Q,G-$*Q,P,!1)+4,P.push(U-Y*Q,G-$*Q,re,ie))}else{switch(P.push(U-z*Q,G-X*Q,U+z*J,G+X*J),oe){case y.LINE_JOIN.MITER:A?P.push(re,ie,re,ie):P.push(ee,te,ee,te),C+=2;break;case y.LINE_JOIN.ROUND:C+=A?round(U,G,U+z*J,G+X*J,U+Y*J,G+$*J,P,!0)+2:round(U,G,U-z*Q,G-X*Q,U-Y*Q,G-$*Q,P,!1)+2}P.push(U-Y*Q,G-$*Q,U+Y*J,G+$*J),C+=2}}F=m[2*(O-2)],k=m[2*(O-2)+1],U=m[2*(O-1)],G=m[2*(O-1)+1],z=-(k-G),X=F-U,q=Math.sqrt(z*z+X*X),z/=q,X/=q,z*=L,X*=L,P.push(U-z*Q,G-X*Q,U+z*J,G+X*J),A||(T.cap===y.LINE_CAP.ROUND?C+=round(U-z*(Q-J)*.5,G-X*(Q-J)*.5,U-z*Q,G-X*Q,U+z*J,G+X*J,P,!1)+2:T.cap===y.LINE_CAP.SQUARE&&(C+=square(U,G,z,X,Q,J,!1,P)));const Z=l.indices,ee=y.curves.epsilon*y.curves.epsilon;for(let s=R;s<C+R-2;++s)F=P[2*s],k=P[2*s+1],U=P[2*(s+1)],G=P[2*(s+1)+1],V=P[2*(s+2)],W=P[2*(s+2)+1],Math.abs(F*(G-W)+U*(W-k)+V*(k-G))<ee||Z.push(s,s+1,s+2)}(s,l)}},89938:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);function fixOrientation(s,l=!1){const c=s.length;if(c<6)return;let _=0;for(let l=0,y=s[c-2],m=s[c-1];l<c;l+=2){const c=s[l],v=s[l+1];_+=(c-y)*(v+m),y=c,m=v}if(!l&&_>0||l&&_<=0){const l=c/2;for(let _=l+l%2;_<c;_+=2){const l=c-_-2,y=c-_-1,m=_,v=_+1;[s[l],s[m]]=[s[m],s[l]],[s[y],s[v]]=[s[v],s[y]]}}}const y={build(s){s.points=s.shape.points.slice()},triangulate(s,l){let c=s.points;const y=s.holes,m=l.points,v=l.indices;if(c.length>=6){fixOrientation(c,!1);const s=[];for(let l=0;l<y.length;l++){const _=y[l];fixOrientation(_.points,!0),s.push(c.length/2),c=c.concat(_.points)}const l=_.utils.earcut(c,s,2);if(!l)return;const T=m.length/2;for(let s=0;s<l.length;s+=3)v.push(l[s]+T),v.push(l[s+1]+T),v.push(l[s+2]+T);for(let s=0;s<c.length;s++)m.push(c[s])}}};l.buildPoly=y},12285:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c={build(s){const l=s.shape,c=l.x,_=l.y,y=l.width,m=l.height,v=s.points;v.length=0,y>=0&&m>=0&&v.push(c,_,c+y,_,c+y,_+m,c,_+m)},triangulate(s,l){const c=s.points,_=l.points;if(0===c.length)return;const y=_.length/2;_.push(c[0],c[1],c[2],c[3],c[6],c[7],c[4],c[5]),l.indices.push(y,y+1,y+2,y+1,y+2,y+3)}};l.buildRectangle=c},93447:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(60703);const y={build(s){_.buildCircle.build(s)},triangulate(s,l){_.buildCircle.triangulate(s,l)}};l.buildRoundedRectangle=y},36125:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(60703),m=c(89938),v=c(12285),T=c(93447),E=c(30672),S=c(60881),A=c(33910),w=c(35615),P=c(28746);const O={[_.SHAPES.POLY]:m.buildPoly,[_.SHAPES.CIRC]:y.buildCircle,[_.SHAPES.ELIP]:y.buildCircle,[_.SHAPES.RECT]:v.buildRectangle,[_.SHAPES.RREC]:T.buildRoundedRectangle};l.buildCircle=y.buildCircle,l.buildPoly=m.buildPoly,l.buildRectangle=v.buildRectangle,l.buildRoundedRectangle=T.buildRoundedRectangle,l.ArcUtils=E.ArcUtils,l.BatchPart=S.BatchPart,l.BezierUtils=A.BezierUtils,l.buildLine=w.buildLine,l.QuadraticUtils=P.QuadraticUtils,l.BATCH_POOL=[],l.DRAW_CALL_POOL=[],l.FILL_COMMANDS=O},1759:()=>{},93187:()=>{},89663:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71965),y=c(18884);class Matrix{constructor(s=1,l=0,c=0,_=1,y=0,m=0){this.array=null,this.a=s,this.b=l,this.c=c,this.d=_,this.tx=y,this.ty=m}fromArray(s){this.a=s[0],this.b=s[1],this.c=s[3],this.d=s[4],this.tx=s[2],this.ty=s[5]}set(s,l,c,_,y,m){return this.a=s,this.b=l,this.c=c,this.d=_,this.tx=y,this.ty=m,this}toArray(s,l){this.array||(this.array=new Float32Array(9));const c=l||this.array;return s?(c[0]=this.a,c[1]=this.b,c[2]=0,c[3]=this.c,c[4]=this.d,c[5]=0,c[6]=this.tx,c[7]=this.ty,c[8]=1):(c[0]=this.a,c[1]=this.c,c[2]=this.tx,c[3]=this.b,c[4]=this.d,c[5]=this.ty,c[6]=0,c[7]=0,c[8]=1),c}apply(s,l){l=l||new y.Point;const c=s.x,_=s.y;return l.x=this.a*c+this.c*_+this.tx,l.y=this.b*c+this.d*_+this.ty,l}applyInverse(s,l){l=l||new y.Point;const c=1/(this.a*this.d+this.c*-this.b),_=s.x,m=s.y;return l.x=this.d*c*_+-this.c*c*m+(this.ty*this.c-this.tx*this.d)*c,l.y=this.a*c*m+-this.b*c*_+(-this.ty*this.a+this.tx*this.b)*c,l}translate(s,l){return this.tx+=s,this.ty+=l,this}scale(s,l){return this.a*=s,this.d*=l,this.c*=s,this.b*=l,this.tx*=s,this.ty*=l,this}rotate(s){const l=Math.cos(s),c=Math.sin(s),_=this.a,y=this.c,m=this.tx;return this.a=_*l-this.b*c,this.b=_*c+this.b*l,this.c=y*l-this.d*c,this.d=y*c+this.d*l,this.tx=m*l-this.ty*c,this.ty=m*c+this.ty*l,this}append(s){const l=this.a,c=this.b,_=this.c,y=this.d;return this.a=s.a*l+s.b*_,this.b=s.a*c+s.b*y,this.c=s.c*l+s.d*_,this.d=s.c*c+s.d*y,this.tx=s.tx*l+s.ty*_+this.tx,this.ty=s.tx*c+s.ty*y+this.ty,this}setTransform(s,l,c,_,y,m,v,T,E){return this.a=Math.cos(v+E)*y,this.b=Math.sin(v+E)*y,this.c=-Math.sin(v-T)*m,this.d=Math.cos(v-T)*m,this.tx=s-(c*this.a+_*this.c),this.ty=l-(c*this.b+_*this.d),this}prepend(s){const l=this.tx;if(1!==s.a||0!==s.b||0!==s.c||1!==s.d){const l=this.a,c=this.c;this.a=l*s.a+this.b*s.c,this.b=l*s.b+this.b*s.d,this.c=c*s.a+this.d*s.c,this.d=c*s.b+this.d*s.d}return this.tx=l*s.a+this.ty*s.c+s.tx,this.ty=l*s.b+this.ty*s.d+s.ty,this}decompose(s){const l=this.a,c=this.b,y=this.c,m=this.d,v=s.pivot,T=-Math.atan2(-y,m),E=Math.atan2(c,l),S=Math.abs(T+E);return S<1e-5||Math.abs(_.PI_2-S)<1e-5?(s.rotation=E,s.skew.x=s.skew.y=0):(s.rotation=0,s.skew.x=T,s.skew.y=E),s.scale.x=Math.sqrt(l*l+c*c),s.scale.y=Math.sqrt(y*y+m*m),s.position.x=this.tx+(v.x*l+v.y*y),s.position.y=this.ty+(v.x*c+v.y*m),s}invert(){const s=this.a,l=this.b,c=this.c,_=this.d,y=this.tx,m=s*_-l*c;return this.a=_/m,this.b=-l/m,this.c=-c/m,this.d=s/m,this.tx=(c*this.ty-_*y)/m,this.ty=-(s*this.ty-l*y)/m,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const s=new Matrix;return s.a=this.a,s.b=this.b,s.c=this.c,s.d=this.d,s.tx=this.tx,s.ty=this.ty,s}copyTo(s){return s.a=this.a,s.b=this.b,s.c=this.c,s.d=this.d,s.tx=this.tx,s.ty=this.ty,s}copyFrom(s){return this.a=s.a,this.b=s.b,this.c=s.c,this.d=s.d,this.tx=s.tx,this.ty=s.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Matrix}static get TEMP_MATRIX(){return new Matrix}}l.Matrix=Matrix},86388:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});class ObservablePoint{constructor(s,l,c=0,_=0){this._x=c,this._y=_,this.cb=s,this.scope=l}clone(s=this.cb,l=this.scope){return new ObservablePoint(s,l,this._x,this._y)}set(s=0,l=s){return this._x===s&&this._y===l||(this._x=s,this._y=l,this.cb.call(this.scope)),this}copyFrom(s){return this._x===s.x&&this._y===s.y||(this._x=s.x,this._y=s.y,this.cb.call(this.scope)),this}copyTo(s){return s.set(this._x,this._y),s}equals(s){return s.x===this._x&&s.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(s){this._x!==s&&(this._x=s,this.cb.call(this.scope))}get y(){return this._y}set y(s){this._y!==s&&(this._y=s,this.cb.call(this.scope))}}l.ObservablePoint=ObservablePoint},18884:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});class Point{constructor(s=0,l=0){this.x=0,this.y=0,this.x=s,this.y=l}clone(){return new Point(this.x,this.y)}copyFrom(s){return this.set(s.x,s.y),this}copyTo(s){return s.set(this.x,this.y),s}equals(s){return s.x===this.x&&s.y===this.y}set(s=0,l=s){return this.x=s,this.y=l,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}l.Point=Point},50969:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(89663),y=c(86388);const m=class{constructor(){this.worldTransform=new _.Matrix,this.localTransform=new _.Matrix,this.position=new y.ObservablePoint(this.onChange,this,0,0),this.scale=new y.ObservablePoint(this.onChange,this,1,1),this.pivot=new y.ObservablePoint(this.onChange,this,0,0),this.skew=new y.ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const s=this.localTransform;this._localID!==this._currentLocalID&&(s.a=this._cx*this.scale.x,s.b=this._sx*this.scale.x,s.c=this._cy*this.scale.y,s.d=this._sy*this.scale.y,s.tx=this.position.x-(this.pivot.x*s.a+this.pivot.y*s.c),s.ty=this.position.y-(this.pivot.x*s.b+this.pivot.y*s.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(s){const l=this.localTransform;if(this._localID!==this._currentLocalID&&(l.a=this._cx*this.scale.x,l.b=this._sx*this.scale.x,l.c=this._cy*this.scale.y,l.d=this._sy*this.scale.y,l.tx=this.position.x-(this.pivot.x*l.a+this.pivot.y*l.c),l.ty=this.position.y-(this.pivot.x*l.b+this.pivot.y*l.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==s._worldID){const c=s.worldTransform,_=this.worldTransform;_.a=l.a*c.a+l.b*c.c,_.b=l.a*c.b+l.b*c.d,_.c=l.c*c.a+l.d*c.c,_.d=l.c*c.b+l.d*c.d,_.tx=l.tx*c.a+l.ty*c.c+c.tx,_.ty=l.tx*c.b+l.ty*c.d+c.ty,this._parentID=s._worldID,this._worldID++}}setFromMatrix(s){s.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(s){this._rotation!==s&&(this._rotation=s,this.updateSkew())}};let v=m;v.IDENTITY=new m,l.Transform=v},71965:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=2*Math.PI,_=180/Math.PI,y=Math.PI/180;var m=(s=>(s[s.POLY=0]="POLY",s[s.RECT=1]="RECT",s[s.CIRC=2]="CIRC",s[s.ELIP=3]="ELIP",s[s.RREC=4]="RREC",s))(m||{});l.DEG_TO_RAD=y,l.PI_2=c,l.RAD_TO_DEG=_,l.SHAPES=m},45154:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(89663);const y=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],m=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],v=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],T=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],E=[],S=[],A=Math.sign;!function init(){for(let s=0;s<16;s++){const l=[];E.push(l);for(let c=0;c<16;c++){const _=A(y[s]*y[c]+v[s]*m[c]),E=A(m[s]*y[c]+T[s]*m[c]),S=A(y[s]*v[c]+v[s]*T[c]),w=A(m[s]*v[c]+T[s]*T[c]);for(let s=0;s<16;s++)if(y[s]===_&&m[s]===E&&v[s]===S&&T[s]===w){l.push(s);break}}}for(let s=0;s<16;s++){const l=new _.Matrix;l.set(y[s],m[s],v[s],T[s],0,0),S.push(l)}}();const w={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>y[s],uY:s=>m[s],vX:s=>v[s],vY:s=>T[s],inv:s=>8&s?15&s:7&-s,add:(s,l)=>E[s][l],sub:(s,l)=>E[s][w.inv(l)],rotate180:s=>4^s,isVertical:s=>2==(3&s),byDirection:(s,l)=>2*Math.abs(s)<=Math.abs(l)?l>=0?w.S:w.N:2*Math.abs(l)<=Math.abs(s)?s>0?w.E:w.W:l>0?s>0?w.SE:w.SW:s>0?w.NE:w.NW,matrixAppendRotationInv:(s,l,c=0,_=0)=>{const y=S[w.inv(l)];y.tx=c,y.ty=_,s.append(y)}};l.groupD8=w},40435:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(47944),y=c(32006),m=c(5272),v=c(9617),T=c(10499),E=c(45154);c(1759),c(93187);var S=c(89663),A=c(86388),w=c(18884),P=c(50969),O=c(71965);l.Circle=_.Circle,l.Ellipse=y.Ellipse,l.Polygon=m.Polygon,l.Rectangle=v.Rectangle,l.RoundedRectangle=T.RoundedRectangle,l.groupD8=E.groupD8,l.Matrix=S.Matrix,l.ObservablePoint=A.ObservablePoint,l.Point=w.Point,l.Transform=P.Transform,l.DEG_TO_RAD=O.DEG_TO_RAD,l.PI_2=O.PI_2,l.RAD_TO_DEG=O.RAD_TO_DEG,l.SHAPES=O.SHAPES},47944:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71965),y=c(9617);class Circle{constructor(s=0,l=0,c=0){this.x=s,this.y=l,this.radius=c,this.type=_.SHAPES.CIRC}clone(){return new Circle(this.x,this.y,this.radius)}contains(s,l){if(this.radius<=0)return!1;const c=this.radius*this.radius;let _=this.x-s,y=this.y-l;return _*=_,y*=y,_+y<=c}getBounds(){return new y.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}l.Circle=Circle},32006:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71965),y=c(9617);class Ellipse{constructor(s=0,l=0,c=0,y=0){this.x=s,this.y=l,this.width=c,this.height=y,this.type=_.SHAPES.ELIP}clone(){return new Ellipse(this.x,this.y,this.width,this.height)}contains(s,l){if(this.width<=0||this.height<=0)return!1;let c=(s-this.x)/this.width,_=(l-this.y)/this.height;return c*=c,_*=_,c+_<=1}getBounds(){return new y.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}l.Ellipse=Ellipse},5272:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71965);class Polygon{constructor(...s){let l=Array.isArray(s[0])?s[0]:s;if("number"!=typeof l[0]){const s=[];for(let c=0,_=l.length;c<_;c++)s.push(l[c].x,l[c].y);l=s}this.points=l,this.type=_.SHAPES.POLY,this.closeStroke=!0}clone(){const s=this.points.slice(),l=new Polygon(s);return l.closeStroke=this.closeStroke,l}contains(s,l){let c=!1;const _=this.points.length/2;for(let y=0,m=_-1;y<_;m=y++){const _=this.points[2*y],v=this.points[2*y+1],T=this.points[2*m],E=this.points[2*m+1];v>l!=E>l&&s<(l-v)/(E-v)*(T-_)+_&&(c=!c)}return c}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce(((s,l)=>`${s}, ${l}`),"")}]`}}l.Polygon=Polygon},9617:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71965),y=c(18884);const m=[new y.Point,new y.Point,new y.Point,new y.Point];class Rectangle{constructor(s=0,l=0,c=0,y=0){this.x=Number(s),this.y=Number(l),this.width=Number(c),this.height=Number(y),this.type=_.SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFrom(s){return this.x=s.x,this.y=s.y,this.width=s.width,this.height=s.height,this}copyTo(s){return s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s}contains(s,l){return!(this.width<=0||this.height<=0)&&(s>=this.x&&s<this.x+this.width&&l>=this.y&&l<this.y+this.height)}intersects(s,l){if(!l){const l=this.x<s.x?s.x:this.x;if((this.right>s.right?s.right:this.right)<=l)return!1;const c=this.y<s.y?s.y:this.y;return(this.bottom>s.bottom?s.bottom:this.bottom)>c}const c=this.left,_=this.right,y=this.top,v=this.bottom;if(_<=c||v<=y)return!1;const T=m[0].set(s.left,s.top),E=m[1].set(s.left,s.bottom),S=m[2].set(s.right,s.top),A=m[3].set(s.right,s.bottom);if(S.x<=T.x||E.y<=T.y)return!1;const w=Math.sign(l.a*l.d-l.b*l.c);if(0===w)return!1;if(l.apply(T,T),l.apply(E,E),l.apply(S,S),l.apply(A,A),Math.max(T.x,E.x,S.x,A.x)<=c||Math.min(T.x,E.x,S.x,A.x)>=_||Math.max(T.y,E.y,S.y,A.y)<=y||Math.min(T.y,E.y,S.y,A.y)>=v)return!1;const P=w*(E.y-T.y),O=w*(T.x-E.x),C=P*c+O*y,R=P*_+O*y,L=P*c+O*v,D=P*_+O*v;if(Math.max(C,R,L,D)<=P*T.x+O*T.y||Math.min(C,R,L,D)>=P*A.x+O*A.y)return!1;const B=w*(T.y-S.y),F=w*(S.x-T.x),k=B*c+F*y,U=B*_+F*y,G=B*c+F*v,V=B*_+F*v;return!(Math.max(k,U,G,V)<=B*T.x+F*T.y||Math.min(k,U,G,V)>=B*A.x+F*A.y)}pad(s=0,l=s){return this.x-=s,this.y-=l,this.width+=2*s,this.height+=2*l,this}fit(s){const l=Math.max(this.x,s.x),c=Math.min(this.x+this.width,s.x+s.width),_=Math.max(this.y,s.y),y=Math.min(this.y+this.height,s.y+s.height);return this.x=l,this.width=Math.max(c-l,0),this.y=_,this.height=Math.max(y-_,0),this}ceil(s=1,l=.001){const c=Math.ceil((this.x+this.width-l)*s)/s,_=Math.ceil((this.y+this.height-l)*s)/s;return this.x=Math.floor((this.x+l)*s)/s,this.y=Math.floor((this.y+l)*s)/s,this.width=c-this.x,this.height=_-this.y,this}enlarge(s){const l=Math.min(this.x,s.x),c=Math.max(this.x+this.width,s.x+s.width),_=Math.min(this.y,s.y),y=Math.max(this.y+this.height,s.y+s.height);return this.x=l,this.width=c-l,this.y=_,this.height=y-_,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}l.Rectangle=Rectangle},10499:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71965);class RoundedRectangle{constructor(s=0,l=0,c=0,y=0,m=20){this.x=s,this.y=l,this.width=c,this.height=y,this.radius=m,this.type=_.SHAPES.RREC}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}contains(s,l){if(this.width<=0||this.height<=0)return!1;if(s>=this.x&&s<=this.x+this.width&&l>=this.y&&l<=this.y+this.height){const c=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(l>=this.y+c&&l<=this.y+this.height-c||s>=this.x+c&&s<=this.x+this.width-c)return!0;let _=s-(this.x+c),y=l-(this.y+c);const m=c*c;if(_*_+y*y<=m)return!0;if(_=s-(this.x+this.width-c),_*_+y*y<=m)return!0;if(y=l-(this.y+this.height-c),_*_+y*y<=m)return!0;if(_=s-(this.x+c),_*_+y*y<=m)return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}l.RoundedRectangle=RoundedRectangle},33024:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(21162);class NineSlicePlane extends y.SimplePlane{constructor(s,l,c,y,m){super(_.Texture.WHITE,4,4),this._origWidth=s.orig.width,this._origHeight=s.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=l??s.defaultBorders?.left??10,this._rightWidth=y??s.defaultBorders?.right??10,this._topHeight=c??s.defaultBorders?.top??10,this._bottomHeight=m??s.defaultBorders?.bottom??10,this.texture=s}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(s){this.geometry.getBuffer("aVertexPosition").data=s}updateHorizontalVertices(){const s=this.vertices,l=this._getMinScale();s[9]=s[11]=s[13]=s[15]=this._topHeight*l,s[17]=s[19]=s[21]=s[23]=this._height-this._bottomHeight*l,s[25]=s[27]=s[29]=s[31]=this._height}updateVerticalVertices(){const s=this.vertices,l=this._getMinScale();s[2]=s[10]=s[18]=s[26]=this._leftWidth*l,s[4]=s[12]=s[20]=s[28]=this._width-this._rightWidth*l,s[6]=s[14]=s[22]=s[30]=this._width}_getMinScale(){const s=this._leftWidth+this._rightWidth,l=this._width>s?1:this._width/s,c=this._topHeight+this._bottomHeight,_=this._height>c?1:this._height/c;return Math.min(l,_)}get width(){return this._width}set width(s){this._width=s,this._refresh()}get height(){return this._height}set height(s){this._height=s,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(s){this._leftWidth=s,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(s){this._rightWidth=s,this._refresh()}get topHeight(){return this._topHeight}set topHeight(s){this._topHeight=s,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(s){this._bottomHeight=s,this._refresh()}_refresh(){const s=this.texture,l=this.geometry.buffers[1].data;this._origWidth=s.orig.width,this._origHeight=s.orig.height;const c=1/this._origWidth,_=1/this._origHeight;l[0]=l[8]=l[16]=l[24]=0,l[1]=l[3]=l[5]=l[7]=0,l[6]=l[14]=l[22]=l[30]=1,l[25]=l[27]=l[29]=l[31]=1,l[2]=l[10]=l[18]=l[26]=c*this._leftWidth,l[4]=l[12]=l[20]=l[28]=1-c*this._rightWidth,l[9]=l[11]=l[13]=l[15]=_*this._topHeight,l[17]=l[19]=l[21]=l[23]=1-_*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}l.NineSlicePlane=NineSlicePlane},40197:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(21770);class SimpleMesh extends y.Mesh{constructor(s=_.Texture.EMPTY,l,c,m,v){const T=new y.MeshGeometry(l,c,m);T.getBuffer("aVertexPosition").static=!1;super(T,new y.MeshMaterial(s),null,v),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(s){this.geometry.getBuffer("aVertexPosition").data=s}_render(s){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(s)}}l.SimpleMesh=SimpleMesh},21162:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(21770),m=c(72183);class SimplePlane extends y.Mesh{constructor(s,l,c){super(new m.PlaneGeometry(s.width,s.height,l,c),new y.MeshMaterial(_.Texture.WHITE)),this.texture=s,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const s=this.geometry,{width:l,height:c}=this.shader.texture;!this.autoResize||s.width===l&&s.height===c||(s.width=this.shader.texture.width,s.height=this.shader.texture.height,s.build())}set texture(s){this.shader.texture!==s&&(this.shader.texture=s,this._textureID=-1,s.baseTexture.valid?this.textureUpdated():s.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(s){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(s)}destroy(s){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(s)}}l.SimplePlane=SimplePlane},72126:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(21770),m=c(13903);class SimpleRope extends y.Mesh{constructor(s,l,c=0){const v=new m.RopeGeometry(s.height,l,c),T=new y.MeshMaterial(s);c>0&&(s.baseTexture.wrapMode=_.WRAP_MODES.REPEAT),super(v,T),this.autoUpdate=!0}_render(s){const l=this.geometry;(this.autoUpdate||l._width!==this.shader.texture.height)&&(l._width=this.shader.texture.height,l.update()),super._render(s)}}l.SimpleRope=SimpleRope},72183:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(21770);class PlaneGeometry extends _.MeshGeometry{constructor(s=100,l=100,c=10,_=10){super(),this.segWidth=c,this.segHeight=_,this.width=s,this.height=l,this.build()}build(){const s=this.segWidth*this.segHeight,l=[],c=[],_=[],y=this.segWidth-1,m=this.segHeight-1,v=this.width/y,T=this.height/m;for(let _=0;_<s;_++){const s=_%this.segWidth,E=_/this.segWidth|0;l.push(s*v,E*T),c.push(s/y,E/m)}const E=y*m;for(let s=0;s<E;s++){const l=s%y,c=s/y|0,m=c*this.segWidth+l,v=c*this.segWidth+l+1,T=(c+1)*this.segWidth+l,E=(c+1)*this.segWidth+l+1;_.push(m,v,T,v,E,T)}this.buffers[0].data=new Float32Array(l),this.buffers[1].data=new Float32Array(c),this.indexBuffer.data=new Uint16Array(_),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}l.PlaneGeometry=PlaneGeometry},13903:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(21770);class RopeGeometry extends _.MeshGeometry{constructor(s=200,l,c=0){super(new Float32Array(4*l.length),new Float32Array(4*l.length),new Uint16Array(6*(l.length-1))),this.points=l,this._width=s,this.textureScale=c,this.build()}get width(){return this._width}build(){const s=this.points;if(!s)return;const l=this.getBuffer("aVertexPosition"),c=this.getBuffer("aTextureCoord"),_=this.getIndex();if(s.length<1)return;l.data.length/4!==s.length&&(l.data=new Float32Array(4*s.length),c.data=new Float32Array(4*s.length),_.data=new Uint16Array(6*(s.length-1)));const y=c.data,m=_.data;y[0]=0,y[1]=0,y[2]=0,y[3]=1;let v=0,T=s[0];const E=this._width*this.textureScale,S=s.length;for(let l=0;l<S;l++){const c=4*l;if(this.textureScale>0){const c=T.x-s[l].x,_=T.y-s[l].y,y=Math.sqrt(c*c+_*_);T=s[l],v+=y/E}else v=l/(S-1);y[c]=v,y[c+1]=0,y[c+2]=v,y[c+3]=1}let A=0;for(let s=0;s<S-1;s++){const l=2*s;m[A++]=l,m[A++]=l+1,m[A++]=l+2,m[A++]=l+2,m[A++]=l+1,m[A++]=l+3}c.update(),_.update(),this.updateVertices()}updateVertices(){const s=this.points;if(s.length<1)return;let l,c=s[0],_=0,y=0;const m=this.buffers[0].data,v=s.length,T=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let E=0;E<v;E++){const S=s[E],A=4*E;l=E<s.length-1?s[E+1]:S,y=-(l.x-c.x),_=l.y-c.y;let w=10*(1-E/(v-1));w>1&&(w=1);const P=Math.sqrt(_*_+y*y);P<1e-6?(_=0,y=0):(_/=P,y/=P,_*=T,y*=T),m[A]=S.x+_,m[A+1]=S.y+y,m[A+2]=S.x-_,m[A+3]=S.y-y,c=S}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}l.RopeGeometry=RopeGeometry},80261:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(72183),y=c(13903),m=c(33024),v=c(40197),T=c(21162),E=c(72126);l.PlaneGeometry=_.PlaneGeometry,l.RopeGeometry=y.RopeGeometry,l.NineSlicePlane=m.NineSlicePlane,l.SimpleMesh=v.SimpleMesh,l.SimplePlane=T.SimplePlane,l.SimpleRope=E.SimpleRope},19056:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191),m=c(4018);const v=new _.Point,T=new _.Polygon,E=class extends y.Container{constructor(s,l,c,y=_.DRAW_MODES.TRIANGLES){super(),this.geometry=s,this.shader=l,this.state=c||_.State.for2d(),this.drawMode=y,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=_.settings.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(s){this._geometry!==s&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=s,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(s){this.shader=s}get material(){return this.shader}set blendMode(s){this.state.blendMode=s}get blendMode(){return this.state.blendMode}set roundPixels(s){this._roundPixels!==s&&(this._transformID=-1),this._roundPixels=s}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(s){this.shader.tint=s}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(s){this.shader.texture=s}_render(s){const l=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===_.DRAW_MODES.TRIANGLES&&l.length<2*E.BATCHABLE_SIZE?this._renderToBatch(s):this._renderDefault(s)}_renderDefault(s){const l=this.shader;l.alpha=this.worldAlpha,l.update&&l.update(),s.batch.flush(),l.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),s.shader.bind(l),s.state.set(this.state),s.geometry.bind(this.geometry,l),s.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(s){const l=this.geometry,c=this.shader;c.uvMatrix&&(c.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=l.indexBuffer.data,this._tintRGB=c._tintRGB,this._texture=c.texture;const _=this.material.pluginName;s.batch.setObjectRenderer(s.plugins[_]),s.plugins[_].render(this)}calculateVertices(){const s=this.geometry.buffers[0],l=s.data,c=s._updateID;if(c===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==l.length&&(this.vertexData=new Float32Array(l.length));const y=this.transform.worldTransform,m=y.a,v=y.b,T=y.c,E=y.d,S=y.tx,A=y.ty,w=this.vertexData;for(let s=0;s<w.length/2;s++){const c=l[2*s],_=l[2*s+1];w[2*s]=m*c+T*_+S,w[2*s+1]=v*c+E*_+A}if(this._roundPixels){const s=_.settings.RESOLUTION;for(let l=0;l<w.length;++l)w[l]=Math.round(w[l]*s)/s}this.vertexDirty=c}calculateUvs(){const s=this.geometry.buffers[1],l=this.shader;l.uvMatrix.isSimple?this.uvs=s.data:(this.batchUvs||(this.batchUvs=new m.MeshBatchUvs(s,l.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(s){if(!this.getBounds().contains(s.x,s.y))return!1;this.worldTransform.applyInverse(s,v);const l=this.geometry.getBuffer("aVertexPosition").data,c=T.points,_=this.geometry.getIndex().data,y=_.length,m=4===this.drawMode?3:1;for(let s=0;s+2<y;s+=m){const y=2*_[s],m=2*_[s+1],E=2*_[s+2];if(c[0]=l[y],c[1]=l[y+1],c[2]=l[m],c[3]=l[m+1],c[4]=l[E],c[5]=l[E+1],T.contains(v.x,v.y))return!0}return!1}destroy(s){super.destroy(s),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let S=E;S.BATCHABLE_SIZE=100,l.Mesh=S},4018:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.MeshBatchUvs=class MeshBatchUvs{constructor(s,l){this.uvBuffer=s,this.uvMatrix=l,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(s){if(!s&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const l=this.uvBuffer.data;this.data&&this.data.length===l.length||(this.data=new Float32Array(l.length)),this.uvMatrix.multiplyUvs(l,this.data),this._updateID++}}},44528:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);class MeshGeometry extends _.Geometry{constructor(s,l,c){super();const y=new _.Buffer(s),m=new _.Buffer(l,!0),v=new _.Buffer(c,!0,!0);this.addAttribute("aVertexPosition",y,2,!1,_.TYPES.FLOAT).addAttribute("aTextureCoord",m,2,!1,_.TYPES.FLOAT).addIndex(v),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}l.MeshGeometry=MeshGeometry},11705:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(61678),m=c(28549);class MeshMaterial extends _.Shader{constructor(s,l){const c={uSampler:s,alpha:1,uTextureMatrix:_.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};(l=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},l)).uniforms&&Object.assign(c,l.uniforms),super(l.program||_.Program.from(m.default,y.default),c),this._colorDirty=!1,this.uvMatrix=new _.TextureMatrix(s),this.batchable=void 0===l.program,this.pluginName=l.pluginName,this._tintColor=new _.Color(l.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=l.alpha}get texture(){return this.uniforms.uSampler}set texture(s){this.uniforms.uSampler!==s&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!s.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=s,this.uvMatrix.texture=s)}set alpha(s){s!==this._alpha&&(this._alpha=s,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(s){s!==this.tint&&(this._tintColor.setValue(s),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const s=this.texture.baseTexture.alphaMode;_.Color.shared.setValue(this._tintColor).premultiply(this._alpha,s).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}l.MeshMaterial=MeshMaterial},21770:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(19056),y=c(4018),m=c(44528),v=c(11705);l.Mesh=_.Mesh,l.MeshBatchUvs=y.MeshBatchUvs,l.MeshGeometry=m.MeshGeometry,l.MeshMaterial=v.MeshMaterial},61678:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"},28549:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n"},88096:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191),m=c(6903);const v=new _.Matrix;y.DisplayObject.prototype._cacheAsBitmap=!1,y.DisplayObject.prototype._cacheData=null,y.DisplayObject.prototype._cacheAsBitmapResolution=null,y.DisplayObject.prototype._cacheAsBitmapMultisample=null;class CacheData{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(y.DisplayObject.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(s){s!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(s){s!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(s){if(this._cacheAsBitmap===s)return;let l;this._cacheAsBitmap=s,s?(this._cacheData||(this._cacheData=new CacheData),l=this._cacheData,l.originalRender=this.render,l.originalRenderCanvas=this.renderCanvas,l.originalUpdateTransform=this.updateTransform,l.originalCalculateBounds=this.calculateBounds,l.originalGetLocalBounds=this.getLocalBounds,l.originalDestroy=this.destroy,l.originalContainsPoint=this.containsPoint,l.originalMask=this._mask,l.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(l=this._cacheData,l.sprite&&this._destroyCachedDisplayObject(),this.render=l.originalRender,this.renderCanvas=l.originalRenderCanvas,this.calculateBounds=l.originalCalculateBounds,this.getLocalBounds=l.originalGetLocalBounds,this.destroy=l.originalDestroy,this.updateTransform=l.originalUpdateTransform,this.containsPoint=l.originalContainsPoint,this._mask=l.originalMask,this.filterArea=l.originalFilterArea)}}}),y.DisplayObject.prototype._renderCached=function _renderCached(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(s),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(s))},y.DisplayObject.prototype._initCachedDisplayObject=function _initCachedDisplayObject(s){if(this._cacheData?.sprite)return;const l=this.alpha;this.alpha=1,s.batch.flush();const c=this.getLocalBounds(null,!0).clone();if(this.filters?.length){const s=this.filters[0].padding;c.pad(s)}c.ceil(_.settings.RESOLUTION);const y=s.renderTexture.current,T=s.renderTexture.sourceFrame.clone(),E=s.renderTexture.destinationFrame.clone(),S=s.projection.transform,A=_.RenderTexture.create({width:c.width,height:c.height,resolution:this.cacheAsBitmapResolution||s.resolution,multisample:this.cacheAsBitmapMultisample??s.multisample}),w=`cacheAsBitmap_${_.utils.uid()}`;this._cacheData.textureCacheId=w,_.BaseTexture.addToCache(A.baseTexture,w),_.Texture.addToCache(A,w);const P=this.transform.localTransform.copyTo(v).invert().translate(-c.x,-c.y);this.render=this._cacheData.originalRender,s.render(this,{renderTexture:A,clear:!0,transform:P,skipUpdateTransform:!1}),s.framebuffer.blit(),s.projection.transform=S,s.renderTexture.bind(y,T,E),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=l;const O=new m.Sprite(A);O.transform.worldTransform=this.transform.worldTransform,O.anchor.x=-c.x/c.width,O.anchor.y=-c.y/c.height,O.alpha=l,O._bounds=this._bounds,this._cacheData.sprite=O,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=O.containsPoint.bind(O)},y.DisplayObject.prototype._renderCachedCanvas=function _renderCachedCanvas(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(s),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(s))},y.DisplayObject.prototype._initCachedDisplayObjectCanvas=function _initCachedDisplayObjectCanvas(s){if(this._cacheData?.sprite)return;const l=this.getLocalBounds(null,!0),c=this.alpha;this.alpha=1;const y=s.canvasContext.activeContext,T=s._projTransform;l.ceil(_.settings.RESOLUTION);const E=_.RenderTexture.create({width:l.width,height:l.height}),S=`cacheAsBitmap_${_.utils.uid()}`;this._cacheData.textureCacheId=S,_.BaseTexture.addToCache(E.baseTexture,S),_.Texture.addToCache(E,S);const A=v;this.transform.localTransform.copyTo(A),A.invert(),A.tx-=l.x,A.ty-=l.y,this.renderCanvas=this._cacheData.originalRenderCanvas,s.render(this,{renderTexture:E,clear:!0,transform:A,skipUpdateTransform:!1}),s.canvasContext.activeContext=y,s._projTransform=T,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=c;const w=new m.Sprite(E);w.transform.worldTransform=this.transform.worldTransform,w.anchor.x=-l.x/l.width,w.anchor.y=-l.y/l.height,w.alpha=c,w._bounds=this._bounds,this._cacheData.sprite=w,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=s._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=w.containsPoint.bind(w)},y.DisplayObject.prototype._calculateCachedBounds=function _calculateCachedBounds(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},y.DisplayObject.prototype._getCachedLocalBounds=function _getCachedLocalBounds(){return this._cacheData.sprite.getLocalBounds(null)},y.DisplayObject.prototype._destroyCachedDisplayObject=function _destroyCachedDisplayObject(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,_.BaseTexture.removeFromCache(this._cacheData.textureCacheId),_.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},y.DisplayObject.prototype._cacheAsBitmapDestroy=function _cacheAsBitmapDestroy(s){this.cacheAsBitmap=!1,this.destroy(s)},l.CacheData=CacheData},81939:(s,l,c)=>{"use strict";var _=c(27191);_.DisplayObject.prototype.name=null,_.Container.prototype.getChildByName=function getChildByName(s,l){for(let l=0,c=this.children.length;l<c;l++)if(this.children[l].name===s)return this.children[l];if(l)for(let l=0,c=this.children.length;l<c;l++){const c=this.children[l];if(!c.getChildByName)continue;const _=c.getChildByName(s,!0);if(_)return _}return null}},25713:(s,l,c)=>{"use strict";var _=c(48742);c(27191).DisplayObject.prototype.getGlobalPosition=function getGlobalPosition(s=new _.Point,l=!1){return this.parent?this.parent.toGlobal(this.position,s,l):(s.x=this.position.x,s.y=this.position.y),s}},65858:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);l.ParticleBuffer=class ParticleBuffer{constructor(s,l,c){this.geometry=new _.Geometry,this.indexBuffer=null,this.size=c,this.dynamicProperties=[],this.staticProperties=[];for(let c=0;c<s.length;++c){let y=s[c];y={attributeName:y.attributeName,size:y.size,uploadFunction:y.uploadFunction,type:y.type||_.TYPES.FLOAT,offset:y.offset},l[c]?this.dynamicProperties.push(y):this.staticProperties.push(y)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const s=this.geometry;let l=0;this.indexBuffer=new _.Buffer(_.utils.createIndicesForQuads(this.size),!0,!0),s.addIndex(this.indexBuffer),this.dynamicStride=0;for(let s=0;s<this.dynamicProperties.length;++s){const c=this.dynamicProperties[s];c.offset=l,l+=c.size,this.dynamicStride+=c.size}const c=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(c),this.dynamicDataUint32=new Uint32Array(c),this.dynamicBuffer=new _.Buffer(this.dynamicData,!1,!1);let y=0;this.staticStride=0;for(let s=0;s<this.staticProperties.length;++s){const l=this.staticProperties[s];l.offset=y,y+=l.size,this.staticStride+=l.size}const m=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(m),this.staticDataUint32=new Uint32Array(m),this.staticBuffer=new _.Buffer(this.staticData,!0,!1);for(let l=0;l<this.dynamicProperties.length;++l){const c=this.dynamicProperties[l];s.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===_.TYPES.UNSIGNED_BYTE,c.type,4*this.dynamicStride,4*c.offset)}for(let l=0;l<this.staticProperties.length;++l){const c=this.staticProperties[l];s.addAttribute(c.attributeName,this.staticBuffer,0,c.type===_.TYPES.UNSIGNED_BYTE,c.type,4*this.staticStride,4*c.offset)}}uploadDynamic(s,l,c){for(let y=0;y<this.dynamicProperties.length;y++){const m=this.dynamicProperties[y];m.uploadFunction(s,l,c,m.type===_.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,m.offset)}this.dynamicBuffer._updateID++}uploadStatic(s,l,c){for(let y=0;y<this.staticProperties.length;y++){const m=this.staticProperties[y];m.uploadFunction(s,l,c,m.type===_.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,m.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}},39281:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191);class ParticleContainer extends y.Container{constructor(s=1500,l,c=16384,y=!1){super();c>16384&&(c=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=s,this._batchSize=c,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=_.BLEND_MODES.NORMAL,this.autoResize=y,this.roundPixels=!0,this.baseTexture=null,this.setProperties(l),this._tintColor=new _.Color(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(s){s&&(this._properties[0]="vertices"in s||"scale"in s?!!s.vertices||!!s.scale:this._properties[0],this._properties[1]="position"in s?!!s.position:this._properties[1],this._properties[2]="rotation"in s?!!s.rotation:this._properties[2],this._properties[3]="uvs"in s?!!s.uvs:this._properties[3],this._properties[4]="tint"in s||"alpha"in s?!!s.tint||!!s.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(s){this._tintColor.setValue(s),this._tintColor.toRgbArray(this.tintRgb)}render(s){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(()=>this.onChildrenChange(0)))),s.batch.setObjectRenderer(s.plugins.particle),s.plugins.particle.render(this))}onChildrenChange(s){const l=Math.floor(s/this._batchSize);for(;this._bufferUpdateIDs.length<l;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[l]=++this._updateID}dispose(){if(this._buffers){for(let s=0;s<this._buffers.length;++s)this._buffers[s].destroy();this._buffers=null}}destroy(s){super.destroy(s),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}l.ParticleContainer=ParticleContainer},587:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(65858),m=c(77086),v=c(46972);class ParticleRenderer extends _.ObjectRenderer{constructor(s){super(s),this.shader=null,this.properties=null,this.tempMatrix=new _.Matrix,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:_.TYPES.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=_.Shader.from(v.default,m.default,{}),this.state=_.State.for2d()}render(s){const l=s.children,c=s._maxSize,y=s._batchSize,m=this.renderer;let v=l.length;if(0===v)return;v>c&&!s.autoResize&&(v=c);let T=s._buffers;T||(T=s._buffers=this.generateBuffers(s));const E=l[0]._texture.baseTexture,S=E.alphaMode>0;this.state.blendMode=_.utils.correctBlendMode(s.blendMode,S),m.state.set(this.state);const A=m.gl,w=s.worldTransform.copyTo(this.tempMatrix);w.prepend(m.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=w.toArray(!0),this.shader.uniforms.uColor=_.Color.shared.setValue(s.tintRgb).premultiply(s.worldAlpha,S).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=E,this.renderer.shader.bind(this.shader);let P=!1;for(let c=0,_=0;c<v;c+=y,_+=1){let E=v-c;E>y&&(E=y),_>=T.length&&T.push(this._generateOneMoreBuffer(s));const S=T[_];S.uploadDynamic(l,c,E);const w=s._bufferUpdateIDs[_]||0;P=P||S._updateID<w,P&&(S._updateID=s._updateID,S.uploadStatic(l,c,E)),m.geometry.bind(S.geometry),A.drawElements(A.TRIANGLES,6*E,A.UNSIGNED_SHORT,0)}}generateBuffers(s){const l=[],c=s._maxSize,_=s._batchSize,m=s._properties;for(let s=0;s<c;s+=_)l.push(new y.ParticleBuffer(this.properties,m,_));return l}_generateOneMoreBuffer(s){const l=s._batchSize,c=s._properties;return new y.ParticleBuffer(this.properties,c,l)}uploadVertices(s,l,c,_,y,m){let v=0,T=0,E=0,S=0;for(let A=0;A<c;++A){const c=s[l+A],w=c._texture,P=c.scale.x,O=c.scale.y,C=w.trim,R=w.orig;C?(T=C.x-c.anchor.x*R.width,v=T+C.width,S=C.y-c.anchor.y*R.height,E=S+C.height):(v=R.width*(1-c.anchor.x),T=R.width*-c.anchor.x,E=R.height*(1-c.anchor.y),S=R.height*-c.anchor.y),_[m]=T*P,_[m+1]=S*O,_[m+y]=v*P,_[m+y+1]=S*O,_[m+2*y]=v*P,_[m+2*y+1]=E*O,_[m+3*y]=T*P,_[m+3*y+1]=E*O,m+=4*y}}uploadPosition(s,l,c,_,y,m){for(let v=0;v<c;v++){const c=s[l+v].position;_[m]=c.x,_[m+1]=c.y,_[m+y]=c.x,_[m+y+1]=c.y,_[m+2*y]=c.x,_[m+2*y+1]=c.y,_[m+3*y]=c.x,_[m+3*y+1]=c.y,m+=4*y}}uploadRotation(s,l,c,_,y,m){for(let v=0;v<c;v++){const c=s[l+v].rotation;_[m]=c,_[m+y]=c,_[m+2*y]=c,_[m+3*y]=c,m+=4*y}}uploadUvs(s,l,c,_,y,m){for(let v=0;v<c;++v){const c=s[l+v]._texture._uvs;c?(_[m]=c.x0,_[m+1]=c.y0,_[m+y]=c.x1,_[m+y+1]=c.y1,_[m+2*y]=c.x2,_[m+2*y+1]=c.y2,_[m+3*y]=c.x3,_[m+3*y+1]=c.y3,m+=4*y):(_[m]=0,_[m+1]=0,_[m+y]=0,_[m+y+1]=0,_[m+2*y]=0,_[m+2*y+1]=0,_[m+3*y]=0,_[m+3*y+1]=0,m+=4*y)}}uploadTint(s,l,c,y,m,v){for(let T=0;T<c;++T){const c=s[l+T],E=_.Color.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);y[v]=E,y[v+m]=E,y[v+2*m]=E,y[v+3*m]=E,v+=4*m}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}ParticleRenderer.extension={name:"particle",type:_.ExtensionType.RendererPlugin},_.extensions.add(ParticleRenderer),l.ParticleRenderer=ParticleRenderer},76661:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(39281),y=c(587);l.ParticleContainer=_.ParticleContainer,l.ParticleRenderer=y.ParticleRenderer},77086:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}"},46972:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n"},10550:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191),m=c(66338),v=c(84797);function findMultipleBaseTextures(s,l){let c=!1;if(s?._textures?.length)for(let y=0;y<s._textures.length;y++)if(s._textures[y]instanceof _.Texture){const _=s._textures[y].baseTexture;l.includes(_)||(l.push(_),c=!0)}return c}function findBaseTexture(s,l){if(s.baseTexture instanceof _.BaseTexture){const c=s.baseTexture;return l.includes(c)||l.push(c),!0}return!1}function findTexture(s,l){if(s._texture&&s._texture instanceof _.Texture){const c=s._texture.baseTexture;return l.includes(c)||l.push(c),!0}return!1}function drawText(s,l){return l instanceof m.Text&&(l.updateText(!0),!0)}function calculateTextStyle(s,l){if(l instanceof m.TextStyle){const s=l.toFontString();return m.TextMetrics.measureFont(s),!0}return!1}function findText(s,l){if(s instanceof m.Text){l.includes(s.style)||l.push(s.style),l.includes(s)||l.push(s);const c=s._texture.baseTexture;return l.includes(c)||l.push(c),!0}return!1}function findTextStyle(s,l){return s instanceof m.TextStyle&&(l.includes(s)||l.push(s),!0)}const T=class{constructor(s){this.limiter=new v.CountLimiter(T.uploadsPerFrame),this.renderer=s,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}upload(s){return new Promise((l=>{s&&this.add(s),this.queue.length?(this.completes.push(l),this.ticking||(this.ticking=!0,_.Ticker.system.addOnce(this.tick,this,_.UPDATE_PRIORITY.UTILITY))):l()}))}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const s=this.queue[0];let l=!1;if(s&&!s._destroyed)for(let c=0,_=this.uploadHooks.length;c<_;c++)if(this.uploadHooks[c](this.uploadHookHelper,s)){this.queue.shift(),l=!0;break}l||this.queue.shift()}if(this.queue.length)_.Ticker.system.addOnce(this.tick,this,_.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;const s=this.completes.slice(0);this.completes.length=0;for(let l=0,c=s.length;l<c;l++)s[l]()}}registerFindHook(s){return s&&this.addHooks.push(s),this}registerUploadHook(s){return s&&this.uploadHooks.push(s),this}add(s){for(let l=0,c=this.addHooks.length;l<c&&!this.addHooks[l](s,this.queue);l++);if(s instanceof y.Container)for(let l=s.children.length-1;l>=0;l--)this.add(s.children[l]);return this}destroy(){this.ticking&&_.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let E=T;E.uploadsPerFrame=4,l.BasePrepare=E},84797:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.CountLimiter=class CountLimiter{constructor(s){this.maxItemsPerFrame=s,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}},5169:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(59296),m=c(10550);function uploadBaseTextures(s,l){return l instanceof _.BaseTexture&&(l._glTextures[s.CONTEXT_UID]||s.texture.bind(l),!0)}function uploadGraphics(s,l){if(!(l instanceof y.Graphics))return!1;const{geometry:c}=l;l.finishPoly(),c.updateBatches();const{batches:_}=c;for(let l=0;l<_.length;l++){const{texture:c}=_[l].style;c&&uploadBaseTextures(s,c.baseTexture)}return c.batchable||s.geometry.bind(c,l._resolveDirectShader(s)),!0}function findGraphics(s,l){return s instanceof y.Graphics&&(l.push(s),!0)}class Prepare extends m.BasePrepare{constructor(s){super(s),this.uploadHookHelper=this.renderer,this.registerFindHook(findGraphics),this.registerUploadHook(uploadBaseTextures),this.registerUploadHook(uploadGraphics)}}Prepare.extension={name:"prepare",type:_.ExtensionType.RendererSystem},_.extensions.add(Prepare),l.Prepare=Prepare},70827:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.TimeLimiter=class TimeLimiter{constructor(s){this.maxMilliseconds=s,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}},62785:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(51932);var _=c(10550),y=c(84797),m=c(5169),v=c(70827);l.BasePrepare=_.BasePrepare,l.CountLimiter=y.CountLimiter,l.Prepare=m.Prepare,l.TimeLimiter=v.TimeLimiter},51932:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(10550);Object.defineProperties(_.settings,{UPLOADS_PER_FRAME:{get:()=>y.BasePrepare.uploadsPerFrame,set(s){_.utils.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),y.BasePrepare.uploadsPerFrame=s}}}),Object.defineProperty(l,"settings",{enumerable:!0,get:function(){return _.settings}})},78791:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});class Runner{constructor(s){this.items=[],this._name=s,this._aliasCount=0}emit(s,l,c,_,y,m,v,T){if(arguments.length>8)throw new Error("max arguments reached");const{name:E,items:S}=this;this._aliasCount++;for(let A=0,w=S.length;A<w;A++)S[A][E](s,l,c,_,y,m,v,T);return S===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(s){return s[this._name]&&(this.ensureNonAliasedItems(),this.remove(s),this.items.push(s)),this}remove(s){const l=this.items.indexOf(s);return-1!==l&&(this.ensureNonAliasedItems(),this.items.splice(l,1)),this}contains(s){return this.items.includes(s)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}}),l.Runner=Runner},82156:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(78791);l.Runner=_.Runner},7916:()=>{},8538:()=>{},18718:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c={createCanvas:(s,l)=>{const c=document.createElement("canvas");return c.width=s,c.height=l,c},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,l)=>fetch(s,l),parseXML:s=>(new DOMParser).parseFromString(s,"text/xml")};l.BrowserAdapter=c},82101:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(18718);c(7916),c(8538);var y=c(7878),m=c(4658);l.BrowserAdapter=_.BrowserAdapter,l.settings=y.settings,l.isMobile=m.isMobile},7878:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const _={ADAPTER:c(18718).BrowserAdapter,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};l.settings=_},4658:(s,l,c)=>{"use strict";function _interopDefaultLegacy(s){return s&&"object"==typeof s&&"default"in s?s:{default:s}}Object.defineProperty(l,"__esModule",{value:!0});var _=_interopDefaultLegacy(c(90891));const y=(_.default.default??_.default)(globalThis.navigator);l.isMobile=y},49255:(s,l)=>{"use strict";l.Filterable=class Filterable{constructor(s,l){this._output=l,this._input=s}get destination(){return this._input}get filters(){return this._filters}set filters(s){if(this._filters&&(this._filters.forEach((s=>{s&&s.disconnect()})),this._filters=null,this._input.connect(this._output)),s&&s.length){this._filters=s.slice(0),this._input.disconnect();let l=null;s.forEach((s=>{null===l?this._input.connect(s.destination):l.connect(s.destination),l=s})),l.connect(this._output)}}destroy(){this.filters=null,this._input=null,this._output=null}}},33027:(s,l,c)=>{"use strict";var _=c(48742),y=c(62013),m=c(65740),v=c(48996),T=c(64872),E=c(88894);const S=class{static from(s){let l={};"string"==typeof s?l.url=s:s instanceof ArrayBuffer||s instanceof AudioBuffer||s instanceof HTMLAudioElement?l.source=s:Array.isArray(s)?l.url=s:l=s,l={autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1,...l},Object.freeze(l);const c=m.getInstance().useLegacy?new y.HTMLAudioMedia:new E.WebAudioMedia;return new S(c,l)}constructor(s,l){this.media=s,this.options=l,this._instances=[],this._sprites={},this.media.init(this);const c=l.complete;this._autoPlayOptions=c?{complete:c}:null,this.isLoaded=!1,this._preloadQueue=null,this.isPlaying=!1,this.autoPlay=l.autoPlay,this.singleInstance=l.singleInstance,this.preload=l.preload||this.autoPlay,this.url=Array.isArray(l.url)?this.preferUrl(l.url):l.url,this.speed=l.speed,this.volume=l.volume,this.loop=l.loop,l.sprites&&this.addSprites(l.sprites),this.preload&&this._preload(l.loaded)}preferUrl(s){const[{url:l}]=s.map((s=>({url:s,ext:_.utils.path.extname(s).slice(1)}))).sort(((s,l)=>T.extensions.indexOf(s.ext)-T.extensions.indexOf(l.ext)));return l}get context(){return m.getInstance().context}pause(){return this.isPlaying=!1,this.paused=!0,this}resume(){return this.isPlaying=this._instances.length>0,this.paused=!1,this}get paused(){return this._paused}set paused(s){this._paused=s,this.refreshPaused()}get speed(){return this._speed}set speed(s){this._speed=s,this.refresh()}get filters(){return this.media.filters}set filters(s){this.media.filters=s}addSprites(s,l){if("object"==typeof s){const l={};for(const c in s)l[c]=this.addSprites(c,s[c]);return l}console.assert(!this._sprites[s],`Alias ${s} is already taken`);const c=new v.SoundSprite(this,l);return this._sprites[s]=c,c}destroy(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null}removeSprites(s){if(s){const l=this._sprites[s];void 0!==l&&(l.destroy(),delete this._sprites[s])}else for(const s in this._sprites)this.removeSprites(s);return this}get isPlayable(){return this.isLoaded&&this.media&&this.media.isPlayable}stop(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(let s=this._instances.length-1;s>=0;s--)this._instances[s].stop();return this}play(s,l){let c;if("string"==typeof s){c={sprite:s,loop:this.loop,complete:l}}else"function"==typeof s?(c={},c.complete=s):c=s;if(c={complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1,...c||{}},c.sprite){const s=c.sprite;console.assert(!!this._sprites[s],`Alias ${s} is not available`);const l=this._sprites[s];c.start=l.start+(c.start||0),c.end=l.end,c.speed=l.speed||1,c.loop=l.loop||c.loop,delete c.sprite}if(c.offset&&(c.start=c.offset),!this.isLoaded)return this._preloadQueue?new Promise((s=>{this._preloadQueue.push((()=>{s(this.play(c))}))})):(this._preloadQueue=[],this.autoPlay=!0,this._autoPlayOptions=c,new Promise(((s,l)=>{this._preload(((_,y,m)=>{this._preloadQueue.forEach((s=>s())),this._preloadQueue=null,_?l(_):(c.loaded&&c.loaded(_,y,m),s(m))}))})));(this.singleInstance||c.singleInstance)&&this._removeInstances();const _=this._createInstance();return this._instances.push(_),this.isPlaying=!0,_.once("end",(()=>{c.complete&&c.complete(this),this._onComplete(_)})),_.once("stop",(()=>{this._onComplete(_)})),_.play(c),_}refresh(){const s=this._instances.length;for(let l=0;l<s;l++)this._instances[l].refresh()}refreshPaused(){const s=this._instances.length;for(let l=0;l<s;l++)this._instances[l].refreshPaused()}get volume(){return this._volume}set volume(s){this._volume=s,this.refresh()}get muted(){return this._muted}set muted(s){this._muted=s,this.refresh()}get loop(){return this._loop}set loop(s){this._loop=s,this.refresh()}_preload(s){this.media.load(s)}get instances(){return this._instances}get sprites(){return this._sprites}get duration(){return this.media.duration}autoPlayStart(){let s;return this.autoPlay&&(s=this.play(this._autoPlayOptions)),s}_removeInstances(){for(let s=this._instances.length-1;s>=0;s--)this._poolInstance(this._instances[s]);this._instances.length=0}_onComplete(s){if(this._instances){const l=this._instances.indexOf(s);l>-1&&this._instances.splice(l,1),this.isPlaying=this._instances.length>0}this._poolInstance(s)}_createInstance(){if(S._pool.length>0){const s=S._pool.pop();return s.init(this.media),s}return this.media.create()}_poolInstance(s){s.destroy(),S._pool.indexOf(s)<0&&S._pool.push(s)}};let A=S;A._pool=[],l.Sound=A},77805:(s,l,c)=>{"use strict";var _=c(33027),y=c(8849),m=c(72643);l.SoundLibrary=class SoundLibrary{constructor(){this.init()}init(){return this.supported&&(this._webAudioContext=new m.WebAudioContext),this._htmlAudioContext=new y.HTMLAudioContext,this._sounds={},this.useLegacy=!this.supported,this}get context(){return this._context}get filtersAll(){return this.useLegacy?[]:this._context.filters}set filtersAll(s){this.useLegacy||(this._context.filters=s)}get supported(){return null!==m.WebAudioContext.AudioContext}add(s,l){if("object"==typeof s){const c={};for(const _ in s){const y=this._getOptions(s[_],l);c[_]=this.add(_,y)}return c}if(console.assert(!this._sounds[s],`Sound with alias ${s} already exists.`),l instanceof _.Sound)return this._sounds[s]=l,l;const c=this._getOptions(l),y=_.Sound.from(c);return this._sounds[s]=y,y}_getOptions(s,l){let c;return c="string"==typeof s||Array.isArray(s)?{url:s}:s instanceof ArrayBuffer||s instanceof AudioBuffer||s instanceof HTMLAudioElement?{source:s}:s,c={...c,...l||{}},c}get useLegacy(){return this._useLegacy}set useLegacy(s){this._useLegacy=s,this._context=!s&&this.supported?this._webAudioContext:this._htmlAudioContext}get disableAutoPause(){return!this._webAudioContext.autoPause}set disableAutoPause(s){this._webAudioContext.autoPause=!s}remove(s){return this.exists(s,!0),this._sounds[s].destroy(),delete this._sounds[s],this}get volumeAll(){return this._context.volume}set volumeAll(s){this._context.volume=s,this._context.refresh()}get speedAll(){return this._context.speed}set speedAll(s){this._context.speed=s,this._context.refresh()}togglePauseAll(){return this._context.togglePause()}pauseAll(){return this._context.paused=!0,this._context.refreshPaused(),this}resumeAll(){return this._context.paused=!1,this._context.refreshPaused(),this}toggleMuteAll(){return this._context.toggleMute()}muteAll(){return this._context.muted=!0,this._context.refresh(),this}unmuteAll(){return this._context.muted=!1,this._context.refresh(),this}removeAll(){for(const s in this._sounds)this._sounds[s].destroy(),delete this._sounds[s];return this}stopAll(){for(const s in this._sounds)this._sounds[s].stop();return this}exists(s,l=!1){const c=!!this._sounds[s];return l&&console.assert(c,`No sound matching alias '${s}'.`),c}isPlaying(){for(const s in this._sounds)if(this._sounds[s].isPlaying)return!0;return!1}find(s){return this.exists(s,!0),this._sounds[s]}play(s,l){return this.find(s).play(l)}stop(s){return this.find(s).stop()}pause(s){return this.find(s).pause()}resume(s){return this.find(s).resume()}volume(s,l){const c=this.find(s);return void 0!==l&&(c.volume=l),c.volume}speed(s,l){const c=this.find(s);return void 0!==l&&(c.speed=l),c.speed}duration(s){return this.find(s).duration}close(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this}}},48996:(s,l)=>{"use strict";l.SoundSprite=class SoundSprite{constructor(s,l){this.parent=s,Object.assign(this,l),this.duration=this.end-this.start,console.assert(this.duration>0,"End time must be after start time")}play(s){return this.parent.play({complete:s,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})}destroy(){this.parent=null}}},33234:(s,l,c)=>{"use strict";var _=c(65740),y=c(27051);class DistortionFilter extends y.Filter{constructor(s=0){let l;if(!_.getInstance().useLegacy){const{audioContext:s}=_.getInstance().context;l=s.createWaveShaper()}super(l),this._distortion=l,this.amount=s}set amount(s){if(this._amount=s,_.getInstance().useLegacy)return;const l=1e3*s,c=44100,y=new Float32Array(c),m=Math.PI/180;let v,T=0;for(;T<c;++T)v=2*T/c-1,y[T]=(3+l)*v*20*m/(Math.PI+l*Math.abs(v));this._distortion.curve=y,this._distortion.oversample="4x"}get amount(){return this._amount}destroy(){this._distortion=null,super.destroy()}}l.DistortionFilter=DistortionFilter},29272:(s,l,c)=>{"use strict";var _=c(65740),y=c(21669),m=c(27051);const v=class extends m.Filter{constructor(s=0,l=0,c=0,m=0,T=0,E=0,S=0,A=0,w=0,P=0){let O=[];const C=[{f:v.F32,type:"lowshelf",gain:s},{f:v.F64,type:"peaking",gain:l},{f:v.F125,type:"peaking",gain:c},{f:v.F250,type:"peaking",gain:m},{f:v.F500,type:"peaking",gain:T},{f:v.F1K,type:"peaking",gain:E},{f:v.F2K,type:"peaking",gain:S},{f:v.F4K,type:"peaking",gain:A},{f:v.F8K,type:"peaking",gain:w},{f:v.F16K,type:"highshelf",gain:P}];_.getInstance().useLegacy||(O=C.map((s=>{const l=_.getInstance().context.audioContext.createBiquadFilter();return l.type=s.type,y.WebAudioUtils.setParamValue(l.Q,1),l.frequency.value=s.f,y.WebAudioUtils.setParamValue(l.gain,s.gain),l}))),super(O[0],O[O.length-1]),this.bands=O,this.bandsMap={};for(let s=0;s<this.bands.length;s++){const l=this.bands[s];s>0&&this.bands[s-1].connect(l),this.bandsMap[l.frequency.value]=l}}setGain(s,l=0){if(!this.bandsMap[s])throw new Error(`No band found for frequency ${s}`);y.WebAudioUtils.setParamValue(this.bandsMap[s].gain,l)}getGain(s){if(!this.bandsMap[s])throw new Error(`No band found for frequency ${s}`);return this.bandsMap[s].gain.value}set f32(s){this.setGain(v.F32,s)}get f32(){return this.getGain(v.F32)}set f64(s){this.setGain(v.F64,s)}get f64(){return this.getGain(v.F64)}set f125(s){this.setGain(v.F125,s)}get f125(){return this.getGain(v.F125)}set f250(s){this.setGain(v.F250,s)}get f250(){return this.getGain(v.F250)}set f500(s){this.setGain(v.F500,s)}get f500(){return this.getGain(v.F500)}set f1k(s){this.setGain(v.F1K,s)}get f1k(){return this.getGain(v.F1K)}set f2k(s){this.setGain(v.F2K,s)}get f2k(){return this.getGain(v.F2K)}set f4k(s){this.setGain(v.F4K,s)}get f4k(){return this.getGain(v.F4K)}set f8k(s){this.setGain(v.F8K,s)}get f8k(){return this.getGain(v.F8K)}set f16k(s){this.setGain(v.F16K,s)}get f16k(){return this.getGain(v.F16K)}reset(){this.bands.forEach((s=>{y.WebAudioUtils.setParamValue(s.gain,0)}))}destroy(){this.bands.forEach((s=>{s.disconnect()})),this.bands=null,this.bandsMap=null}};let T=v;T.F32=32,T.F64=64,T.F125=125,T.F250=250,T.F500=500,T.F1K=1e3,T.F2K=2e3,T.F4K=4e3,T.F8K=8e3,T.F16K=16e3,l.EqualizerFilter=T},27051:(s,l)=>{"use strict";l.Filter=class Filter{constructor(s,l){this.init(s,l)}init(s,l){this.destination=s,this.source=l||s}connect(s){this.source?.connect(s)}disconnect(){this.source?.disconnect()}destroy(){this.disconnect(),this.destination=null,this.source=null}}},64970:(s,l,c)=>{"use strict";var _=c(65740),y=c(27051);class MonoFilter extends y.Filter{constructor(){let s,l;if(!_.getInstance().useLegacy){const{audioContext:c}=_.getInstance().context;l=c.createChannelSplitter(),s=c.createChannelMerger(),s.connect(l)}super(s,l),this._merger=s}destroy(){this._merger?.disconnect(),this._merger=null,super.destroy()}}l.MonoFilter=MonoFilter},58334:(s,l,c)=>{"use strict";var _=c(65740),y=c(27051);class ReverbFilter extends y.Filter{constructor(s=3,l=2,c=!1){super(null),this._seconds=this._clamp(s,1,50),this._decay=this._clamp(l,0,100),this._reverse=c,this._rebuild()}_clamp(s,l,c){return Math.min(c,Math.max(l,s))}get seconds(){return this._seconds}set seconds(s){this._seconds=this._clamp(s,1,50),this._rebuild()}get decay(){return this._decay}set decay(s){this._decay=this._clamp(s,0,100),this._rebuild()}get reverse(){return this._reverse}set reverse(s){this._reverse=s,this._rebuild()}_rebuild(){if(_.getInstance().useLegacy)return;const{audioContext:s}=_.getInstance().context,l=s.sampleRate,c=l*this._seconds,y=s.createBuffer(2,c,l),m=y.getChannelData(0),v=y.getChannelData(1);let T;for(let s=0;s<c;s++)T=this._reverse?c-s:s,m[s]=(2*Math.random()-1)*Math.pow(1-T/c,this._decay),v[s]=(2*Math.random()-1)*Math.pow(1-T/c,this._decay);const E=s.createConvolver();E.buffer=y,this.init(E)}}l.ReverbFilter=ReverbFilter},76860:(s,l,c)=>{"use strict";var _=c(65740),y=c(21669),m=c(27051);class StereoFilter extends m.Filter{constructor(s=0){let l,c,y;if(!_.getInstance().useLegacy){const{audioContext:s}=_.getInstance().context;s.createStereoPanner?(l=s.createStereoPanner(),y=l):(c=s.createPanner(),c.panningModel="equalpower",y=c)}super(y),this._stereo=l,this._panner=c,this.pan=s}set pan(s){this._pan=s,this._stereo?y.WebAudioUtils.setParamValue(this._stereo.pan,s):this._panner&&this._panner.setPosition(s,0,1-Math.abs(s))}get pan(){return this._pan}destroy(){super.destroy(),this._stereo=null,this._panner=null}}l.StereoFilter=StereoFilter},38220:(s,l,c)=>{"use strict";var _=c(65740),y=c(27051);class StreamFilter extends y.Filter{constructor(){let s,l;if(!_.getInstance().useLegacy){const{audioContext:c}=_.getInstance().context;s=c.createMediaStreamDestination(),l=c.createMediaStreamSource(s.stream)}super(s,l),this._stream=s?.stream}get stream(){return this._stream}destroy(){this._stream=null,super.destroy()}}l.StreamFilter=StreamFilter},10931:(s,l,c)=>{"use strict";var _=c(65740),y=c(21669),m=c(27051);class TelephoneFilter extends m.Filter{constructor(){let s,l;if(!_.getInstance().useLegacy){const{audioContext:c}=_.getInstance().context,m=c.createBiquadFilter(),v=c.createBiquadFilter(),T=c.createBiquadFilter(),E=c.createBiquadFilter();m.type="lowpass",y.WebAudioUtils.setParamValue(m.frequency,2e3),v.type="lowpass",y.WebAudioUtils.setParamValue(v.frequency,2e3),T.type="highpass",y.WebAudioUtils.setParamValue(T.frequency,500),E.type="highpass",y.WebAudioUtils.setParamValue(E.frequency,500),m.connect(v),v.connect(T),T.connect(E),s=m,l=E}super(s,l)}}l.TelephoneFilter=TelephoneFilter},63933:(s,l,c)=>{"use strict";var _=c(27051),y=c(29272),m=c(33234),v=c(76860),T=c(58334),E=c(64970),S=c(38220),A=c(10931);l.Filter=_.Filter,l.EqualizerFilter=y.EqualizerFilter,l.DistortionFilter=m.DistortionFilter,l.StereoFilter=v.StereoFilter,l.ReverbFilter=T.ReverbFilter,l.MonoFilter=E.MonoFilter,l.StreamFilter=S.StreamFilter,l.TelephoneFilter=A.TelephoneFilter},8849:(s,l,c)=>{"use strict";var _=c(48742);class HTMLAudioContext extends _.utils.EventEmitter{constructor(){super(...arguments),this.speed=1,this.muted=!1,this.volume=1,this.paused=!1}refresh(){this.emit("refresh")}refreshPaused(){this.emit("refreshPaused")}get filters(){return console.warn("HTML Audio does not support filters"),null}set filters(s){console.warn("HTML Audio does not support filters")}get audioContext(){return console.warn("HTML Audio does not support audioContext"),null}toggleMute(){return this.muted=!this.muted,this.refresh(),this.muted}togglePause(){return this.paused=!this.paused,this.refreshPaused(),this.paused}destroy(){this.removeAllListeners()}}l.HTMLAudioContext=HTMLAudioContext},84855:(s,l,c)=>{"use strict";var _=c(48742);let y=0;const m=class extends _.utils.EventEmitter{constructor(s){super(),this.id=y++,this.init(s)}set(s,l){if(void 0===this[s])throw new Error(`Property with name ${s} does not exist.`);switch(s){case"speed":this.speed=l;break;case"volume":this.volume=l;break;case"paused":this.paused=l;break;case"loop":this.loop=l;break;case"muted":this.muted=l}return this}get progress(){const{currentTime:s}=this._source;return s/this._duration}get paused(){return this._paused}set paused(s){this._paused=s,this.refreshPaused()}_onPlay(){this._playing=!0}_onPause(){this._playing=!1}init(s){this._playing=!1,this._duration=s.source.duration;const l=this._source=s.source.cloneNode(!1);l.src=s.parent.url,l.onplay=this._onPlay.bind(this),l.onpause=this._onPause.bind(this),s.context.on("refresh",this.refresh,this),s.context.on("refreshPaused",this.refreshPaused,this),this._media=s}_internalStop(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())}stop(){this._internalStop(),this._source&&this.emit("stop")}get speed(){return this._speed}set speed(s){this._speed=s,this.refresh()}get volume(){return this._volume}set volume(s){this._volume=s,this.refresh()}get loop(){return this._loop}set loop(s){this._loop=s,this.refresh()}get muted(){return this._muted}set muted(s){this._muted=s,this.refresh()}get filters(){return console.warn("HTML Audio does not support filters"),null}set filters(s){console.warn("HTML Audio does not support filters")}refresh(){const s=this._media.context,l=this._media.parent;this._source.loop=this._loop||l.loop;const c=s.volume*(s.muted?0:1),_=l.volume*(l.muted?0:1),y=this._volume*(this._muted?0:1);this._source.volume=y*c*_,this._source.playbackRate=this._speed*s.speed*l.speed}refreshPaused(){const s=this._media.context,l=this._media.parent,c=this._paused||l.paused||s.paused;c!==this._pausedReal&&(this._pausedReal=c,c?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",c))}play(s){const{start:l,end:c,speed:y,loop:v,volume:T,muted:E}=s;c&&console.assert(c>l,"End time is before start time"),this._speed=y,this._volume=T,this._loop=!!v,this._muted=E,this.refresh(),this.loop&&null!==c&&(console.warn('Looping not support when specifying an "end" time'),this.loop=!1),this._start=l,this._end=c||this._duration,this._start=Math.max(0,this._start-m.PADDING),this._end=Math.min(this._end+m.PADDING,this._duration),this._source.onloadedmetadata=()=>{this._source&&(this._source.currentTime=l,this._source.onloadedmetadata=null,this.emit("progress",l,this._duration),_.Ticker.shared.add(this._onUpdate,this))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")}_onUpdate(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()}_onComplete(){_.Ticker.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)}destroy(){_.Ticker.shared.remove(this._onUpdate,this),this.removeAllListeners();const s=this._source;s&&(s.onended=null,s.onplay=null,s.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)}toString(){return`[HTMLAudioInstance id=${this.id}]`}};let v=m;v.PADDING=.1,l.HTMLAudioInstance=v},62013:(s,l,c)=>{"use strict";var _=c(48742),y=c(84855);class HTMLAudioMedia extends _.utils.EventEmitter{init(s){this.parent=s,this._source=s.options.source||new Audio,s.url&&(this._source.src=s.url)}create(){return new y.HTMLAudioInstance(this)}get isPlayable(){return!!this._source&&4===this._source.readyState}get duration(){return this._source.duration}get context(){return this.parent.context}get filters(){return null}set filters(s){console.warn("HTML Audio does not support filters")}destroy(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)}get source(){return this._source}load(s){const l=this._source,c=this.parent;if(4===l.readyState){c.isLoaded=!0;const l=c.autoPlayStart();return void(s&&setTimeout((()=>{s(null,c,l)}),0))}if(!c.url)return void s(new Error("sound.url or sound.source must be set"));l.src=c.url;const onLoad=()=>{removeListeners(),c.isLoaded=!0;const l=c.autoPlayStart();s&&s(null,c,l)},onAbort=()=>{removeListeners(),s&&s(new Error("Sound loading has been aborted"))},onError=()=>{removeListeners();const c=`Failed to load audio element (code: ${l.error.code})`;s?s(new Error(c)):console.error(c)},removeListeners=()=>{l.removeEventListener("canplaythrough",onLoad),l.removeEventListener("load",onLoad),l.removeEventListener("abort",onAbort),l.removeEventListener("error",onError)};l.addEventListener("canplaythrough",onLoad,!1),l.addEventListener("load",onLoad,!1),l.addEventListener("abort",onAbort,!1),l.addEventListener("error",onError,!1),l.load()}}l.HTMLAudioMedia=HTMLAudioMedia},23259:(s,l,c)=>{"use strict";var _=c(62013),y=c(84855),m=c(8849);l.HTMLAudioMedia=_.HTMLAudioMedia,l.HTMLAudioInstance=y.HTMLAudioInstance,l.HTMLAudioContext=m.HTMLAudioContext},24250:(s,l,c)=>{"use strict";var _=c(65740),y=c(77805),m=c(23259),v=c(63933),T=c(72616),E=c(30485),S=c(33027),A=c(51782),w=c(49255),P=c(27051),O=c(48996);const C=_.setInstance(new y.SoundLibrary);l.SoundLibrary=y.SoundLibrary,l.htmlaudio=m,l.filters=v,l.webaudio=T,l.utils=E,l.Sound=S.Sound,l.soundAsset=A.soundAsset,l.Filterable=w.Filterable,l.Filter=P.Filter,l.SoundSprite=O.SoundSprite,l.sound=C},65740:(s,l)=>{"use strict";l.instance=void 0,l.getInstance=function getInstance(){return l.instance},l.setInstance=function setInstance(s){return l.instance=s,s}},51782:(s,l,c)=>{"use strict";var _=c(48742),y=c(8415),m=c(64872),v=c(33027),T=c(65740);const getAlias=s=>{const l=s.src;return s?.alias?.[0]??_.utils.path.basename(l,_.utils.path.extname(l))},E={extension:_.ExtensionType.Asset,detection:{test:async()=>!0,add:async s=>[...s,...m.extensions.filter((s=>m.supported[s]))],remove:async s=>s.filter((l=>s.includes(l)))},loader:{extension:{type:[_.ExtensionType.LoadParser],priority:y.LoaderParserPriority.High},test(s){const l=_.utils.path.extname(s).slice(1);return!!m.supported[l]||m.mimes.some((l=>s.startsWith(`data:${l}`)))},async load(s,l){const c=await new Promise(((c,_)=>v.Sound.from({...l.data,url:s,preload:!0,loaded(s,y){s?_(s):c(y),l.data?.loaded?.(s,y)}})));return T.getInstance().add(getAlias(l),c),c},async unload(s,l){T.getInstance().remove(getAlias(l))}}};_.extensions.add(E),l.soundAsset=E},30485:(s,l,c)=>{"use strict";var _=c(58380),y=c(82926),m=c(7800),v=c(64872);Object.defineProperty(l,"PLAY_ID",{enumerable:!0,get:function(){return _.PLAY_ID}}),l.playOnce=_.playOnce,l.render=y.render,l.sineTone=m.sineTone,l.extensions=v.extensions,l.mimes=v.mimes,l.supported=v.supported,l.validateFormats=v.validateFormats},58380:(s,l,c)=>{"use strict";var _=c(65740);l.PLAY_ID=0,l.playOnce=function playOnce(s,c){const y="alias"+l.PLAY_ID++;return _.getInstance().add(y,{url:s,preload:!0,autoPlay:!0,loaded:s=>{s&&(console.error(s),_.getInstance().remove(y),c&&c(s))},complete:()=>{_.getInstance().remove(y),c&&c(null)}}),y}},82926:(s,l,c)=>{"use strict";var _=c(48742),y=c(88894);l.render=function render(s,l){const c=document.createElement("canvas");l={width:512,height:128,fill:"black",...l||{}},c.width=l.width,c.height=l.height;const m=_.BaseTexture.from(c);if(!(s.media instanceof y.WebAudioMedia))return m;const v=s.media;console.assert(!!v.buffer,"No buffer found, load first");const T=c.getContext("2d");T.fillStyle=l.fill;const E=v.buffer.getChannelData(0),S=Math.ceil(E.length/l.width),A=l.height/2;for(let s=0;s<l.width;s++){let l=1,c=-1;for(let _=0;_<S;_++){const y=E[s*S+_];y<l&&(l=y),y>c&&(c=y)}T.fillRect(s,(1+l)*A,1,Math.max(1,(c-l)*A))}return m}},7800:(s,l,c)=>{"use strict";var _=c(33027),y=c(88894);l.sineTone=function sineTone(s=200,l=1){const c=_.Sound.from({singleInstance:!0});if(!(c.media instanceof y.WebAudioMedia))return c;const m=c.media,v=c.context.audioContext.createBuffer(1,48e3*l,48e3),T=v.getChannelData(0);for(let l=0;l<T.length;l++){const c=s*(l/v.sampleRate)*Math.PI;T[l]=2*Math.sin(c)}return m.buffer=v,c.isLoaded=!0,c}},64872:(s,l)=>{"use strict";const c=["ogg","oga","opus","m4a","mp3","mpeg","wav","aiff","wma","mid","caf"],_={};function validateFormats(s){const l={m4a:"audio/mp4",oga:"audio/ogg",opus:'audio/ogg; codecs="opus"',caf:'audio/x-caf; codecs="opus"',...s||{}},y=document.createElement("audio"),m={},v=/^no$/;c.forEach((s=>{const c=y.canPlayType(`audio/${s}`).replace(v,""),_=l[s]?y.canPlayType(l[s]).replace(v,""):"";m[s]=!!c||!!_})),Object.assign(_,m)}validateFormats(),l.extensions=c,l.mimes=["audio/mpeg","audio/ogg"],l.supported=_,l.validateFormats=validateFormats},72643:(s,l,c)=>{"use strict";var _=c(48742),y=c(49255);class WebAudioContext extends y.Filterable{constructor(){const s=window,l=new WebAudioContext.AudioContext,c=l.createDynamicsCompressor(),y=l.createAnalyser();y.connect(c),c.connect(l.destination),super(y,c),this.autoPause=!0,this._ctx=l,this._offlineCtx=new WebAudioContext.OfflineAudioContext(1,2,s.OfflineAudioContext?Math.max(8e3,Math.min(96e3,l.sampleRate)):44100),this.compressor=c,this.analyser=y,this.events=new _.utils.EventEmitter,this.volume=1,this.speed=1,this.muted=!1,this.paused=!1,this._locked="suspended"===l.state&&("ontouchstart"in globalThis||"onclick"in globalThis),this._locked&&(this._unlock(),this._unlock=this._unlock.bind(this),document.addEventListener("mousedown",this._unlock,!0),document.addEventListener("touchstart",this._unlock,!0),document.addEventListener("touchend",this._unlock,!0)),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),globalThis.addEventListener("focus",this.onFocus),globalThis.addEventListener("blur",this.onBlur)}onFocus(){const s=this._ctx.state;"suspended"!==s&&"interrupted"!==s&&this._locked||(this.paused=this._pausedOnBlur,this.refreshPaused())}onBlur(){!this._locked&&this.autoPause&&(this._pausedOnBlur=this._paused,this.paused=!0,this.refreshPaused())}_unlock(){this._locked&&(this.playEmptySound(),"running"===this._ctx.state&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._locked=!1))}playEmptySound(){const s=this._ctx.createBufferSource();s.buffer=this._ctx.createBuffer(1,1,22050),s.connect(this._ctx.destination),s.start(0,0,0),"suspended"===s.context.state&&s.context.resume()}static get AudioContext(){const s=window;return s.AudioContext||s.webkitAudioContext||null}static get OfflineAudioContext(){const s=window;return s.OfflineAudioContext||s.webkitOfflineAudioContext||null}destroy(){super.destroy();const s=this._ctx;void 0!==s.close&&s.close(),globalThis.removeEventListener("focus",this.onFocus),globalThis.removeEventListener("blur",this.onBlur),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null}get audioContext(){return this._ctx}get offlineContext(){return this._offlineCtx}set paused(s){s&&"running"===this._ctx.state?this._ctx.suspend():s||"suspended"!==this._ctx.state||this._ctx.resume(),this._paused=s}get paused(){return this._paused}refresh(){this.events.emit("refresh")}refreshPaused(){this.events.emit("refreshPaused")}toggleMute(){return this.muted=!this.muted,this.refresh(),this.muted}togglePause(){return this.paused=!this.paused,this.refreshPaused(),this._paused}decode(s,l){const handleError=s=>{l(new Error(s?.message||"Unable to decode file"))},c=this._offlineCtx.decodeAudioData(s,(s=>{l(null,s)}),handleError);c&&c.catch(handleError)}}l.WebAudioContext=WebAudioContext},75018:(s,l,c)=>{"use strict";var _=c(48742),y=c(21669);let m=0;class WebAudioInstance extends _.utils.EventEmitter{constructor(s){super(),this.id=m++,this._media=null,this._paused=!1,this._muted=!1,this._elapsed=0,this.init(s)}set(s,l){if(void 0===this[s])throw new Error(`Property with name ${s} does not exist.`);switch(s){case"speed":this.speed=l;break;case"volume":this.volume=l;break;case"muted":this.muted=l;break;case"loop":this.loop=l;break;case"paused":this.paused=l}return this}stop(){this._source&&(this._internalStop(),this.emit("stop"))}get speed(){return this._speed}set speed(s){this._speed=s,this.refresh(),this._update(!0)}get volume(){return this._volume}set volume(s){this._volume=s,this.refresh()}get muted(){return this._muted}set muted(s){this._muted=s,this.refresh()}get loop(){return this._loop}set loop(s){this._loop=s,this.refresh()}get filters(){return this._filters}set filters(s){this._filters&&(this._filters?.filter((s=>s)).forEach((s=>s.disconnect())),this._filters=null,this._source.connect(this._gain)),this._filters=s?.length?s.slice(0):null,this.refresh()}refresh(){if(!this._source)return;const s=this._media.context,l=this._media.parent;this._source.loop=this._loop||l.loop;const c=s.volume*(s.muted?0:1),_=l.volume*(l.muted?0:1),m=this._volume*(this._muted?0:1);y.WebAudioUtils.setParamValue(this._gain.gain,m*_*c),y.WebAudioUtils.setParamValue(this._source.playbackRate,this._speed*l.speed*s.speed),this.applyFilters()}applyFilters(){if(this._filters?.length){this._source.disconnect();let s=this._source;this._filters.forEach((l=>{s.connect(l.destination),s=l})),s.connect(this._gain)}}refreshPaused(){const s=this._media.context,l=this._media.parent,c=this._paused||l.paused||s.paused;c!==this._pausedReal&&(this._pausedReal=c,c?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",c))}play(s){const{start:l,end:c,speed:_,loop:y,volume:m,muted:v,filters:T}=s;c&&console.assert(c>l,"End time is before start time"),this._paused=!1;const{source:E,gain:S}=this._media.nodes.cloneBufferSource();this._source=E,this._gain=S,this._speed=_,this._volume=m,this._loop=!!y,this._muted=v,this._filters=T,this.refresh();const A=this._source.buffer.duration;this._duration=A,this._end=c,this._lastUpdate=this._now(),this._elapsed=l,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=c,this._source.loopStart=l,this._source.start(0,l)):c?this._source.start(0,l,c-l):this._source.start(0,l),this.emit("start"),this._update(!0),this.enableTicker(!0)}enableTicker(s){_.Ticker.shared.remove(this._updateListener,this),s&&_.Ticker.shared.add(this._updateListener,this)}get progress(){return this._progress}get paused(){return this._paused}set paused(s){this._paused=s,this.refreshPaused()}destroy(){this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),this._filters?.forEach((s=>s.disconnect())),this._filters=null,this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1}toString(){return`[WebAudioInstance id=${this.id}]`}_now(){return this._media.context.audioContext.currentTime}_updateListener(){this._update()}_update(s=!1){if(this._source){const l=this._now(),c=l-this._lastUpdate;if(c>0||s){const s=this._source.playbackRate.value;this._elapsed+=c*s,this._lastUpdate=l;const _=this._duration;let y;if(this._source.loopStart){const s=this._source.loopEnd-this._source.loopStart;y=(this._source.loopStart+this._elapsed%s)/_}else y=this._elapsed%_/_;this._progress=y,this.emit("progress",this._progress,_)}}}init(s){this._media=s,s.context.events.on("refresh",this.refresh,this),s.context.events.on("refreshPaused",this.refreshPaused,this)}_internalStop(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect();try{this._source.buffer=null}catch(s){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",s)}this._source=null}}_onComplete(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.disconnect();try{this._source.buffer=null}catch(s){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",s)}}this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)}}l.WebAudioInstance=WebAudioInstance},88894:(s,l,c)=>{"use strict";var _=c(48742),y=c(75018),m=c(61178);l.WebAudioMedia=class WebAudioMedia{init(s){this.parent=s,this._nodes=new m.WebAudioNodes(this.context),this._source=this._nodes.bufferSource,this.source=s.options.source}destroy(){this.parent=null,this._nodes.destroy(),this._nodes=null;try{this._source.buffer=null}catch(s){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",s)}this._source=null,this.source=null}create(){return new y.WebAudioInstance(this)}get context(){return this.parent.context}get isPlayable(){return!!this._source&&!!this._source.buffer}get filters(){return this._nodes.filters}set filters(s){this._nodes.filters=s}get duration(){return console.assert(this.isPlayable,"Sound not yet playable, no duration"),this._source.buffer.duration}get buffer(){return this._source.buffer}set buffer(s){this._source.buffer=s}get nodes(){return this._nodes}load(s){this.source?this._decode(this.source,s):this.parent.url?this._loadUrl(s):s?s(new Error("sound.url or sound.source must be set")):console.error("sound.url or sound.source must be set")}async _loadUrl(s){const l=this.parent.url,c=await _.settings.ADAPTER.fetch(l);this._decode(await c.arrayBuffer(),s)}_decode(s,l){const audioBufferReadyFn=(s,c)=>{if(s)l&&l(s);else{this.parent.isLoaded=!0,this.buffer=c;const s=this.parent.autoPlayStart();l&&l(null,this.parent,s)}};if(s instanceof AudioBuffer)audioBufferReadyFn(null,s);else{this.parent.context.decode(s,audioBufferReadyFn)}}}},61178:(s,l,c)=>{"use strict";var _=c(49255),y=c(21669);const m=class extends _.Filterable{constructor(s){const l=s.audioContext,c=l.createBufferSource(),_=l.createGain(),y=l.createAnalyser();c.connect(y),y.connect(_),_.connect(s.destination),super(y,_),this.context=s,this.bufferSource=c,this.gain=_,this.analyser=y}get script(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(m.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script}destroy(){super.destroy(),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null}cloneBufferSource(){const s=this.bufferSource,l=this.context.audioContext.createBufferSource();l.buffer=s.buffer,y.WebAudioUtils.setParamValue(l.playbackRate,s.playbackRate.value),l.loop=s.loop;const c=this.context.audioContext.createGain();return l.connect(c),c.connect(this.destination),{source:l,gain:c}}get bufferSize(){return this.script.bufferSize}};let v=m;v.BUFFER_SIZE=0,l.WebAudioNodes=v},21669:(s,l,c)=>{"use strict";var _=c(65740);l.WebAudioUtils=class WebAudioUtils{static setParamValue(s,l){if(s.setValueAtTime){const c=_.getInstance().context;s.setValueAtTime(l,c.audioContext.currentTime)}else s.value=l;return l}}},72616:(s,l,c)=>{"use strict";var _=c(88894),y=c(75018),m=c(61178),v=c(72643),T=c(21669);l.WebAudioMedia=_.WebAudioMedia,l.WebAudioInstance=y.WebAudioInstance,l.WebAudioNodes=m.WebAudioNodes,l.WebAudioContext=v.WebAudioContext,l.WebAudioUtils=T.WebAudioUtils},17596:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(6903);class AnimatedSprite extends y.Sprite{constructor(s,l=!0){super(s[0]instanceof _.Texture?s[0]:s[0].texture),this._textures=null,this._durations=null,this._autoUpdate=l,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=s}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(_.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(_.Ticker.shared.add(this.update,this,_.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(s){this.stop(),this.currentFrame=s}gotoAndPlay(s){this.currentFrame=s,this.play()}update(s){if(!this._playing)return;const l=this.animationSpeed*s,c=this.currentFrame;if(null!==this._durations){let c=this._currentTime%1*this._durations[this.currentFrame];for(c+=l/60*1e3;c<0;)this._currentTime--,c+=this._durations[this.currentFrame];const _=Math.sign(this.animationSpeed*s);for(this._currentTime=Math.floor(this._currentTime);c>=this._durations[this.currentFrame];)c-=this._durations[this.currentFrame]*_,this._currentTime+=_;this._currentTime+=c/this._durations[this.currentFrame]}else this._currentTime+=l;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):c!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<c||this.animationSpeed<0&&this.currentFrame>c)&&this.onLoop(),this.updateTexture())}updateTexture(){const s=this.currentFrame;this._previousFrame!==s&&(this._previousFrame=s,this._texture=this._textures[s],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(s){this.stop(),super.destroy(s),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(s){const l=[];for(let c=0;c<s.length;++c)l.push(_.Texture.from(s[c]));return new AnimatedSprite(l)}static fromImages(s){const l=[];for(let c=0;c<s.length;++c)l.push(_.Texture.from(s[c]));return new AnimatedSprite(l)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(s){if(s[0]instanceof _.Texture)this._textures=s,this._durations=null;else{this._textures=[],this._durations=[];for(let l=0;l<s.length;l++)this._textures.push(s[l].texture),this._durations.push(s[l].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let s=Math.floor(this._currentTime)%this._textures.length;return s<0&&(s+=this._textures.length),s}set currentFrame(s){if(s<0||s>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${s}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const l=this.currentFrame;this._currentTime=s,l!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(s){s!==this._autoUpdate&&(this._autoUpdate=s,!this._autoUpdate&&this._isConnectedToTicker?(_.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(_.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}}l.AnimatedSprite=AnimatedSprite},22693:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(17596);l.AnimatedSprite=_.AnimatedSprite},20568:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(6903);const m=new _.Point;class TilingSprite extends y.Sprite{constructor(s,l=100,c=100){super(s),this.tileTransform=new _.Transform,this._width=l,this._height=c,this.uvMatrix=this.texture.uvMatrix||new _.TextureMatrix(s),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(s){this.uvMatrix.clampMargin=s,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(s){this.tileTransform.scale.copyFrom(s)}get tilePosition(){return this.tileTransform.position}set tilePosition(s){this.tileTransform.position.copyFrom(s)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(s){const l=this._texture;l&&l.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),s.batch.setObjectRenderer(s.plugins[this.pluginName]),s.plugins[this.pluginName].render(this))}_calculateBounds(){const s=this._width*-this._anchor._x,l=this._height*-this._anchor._y,c=this._width*(1-this._anchor._x),_=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,s,l,c,_)}getLocalBounds(s){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),s||(this._localBoundsRect||(this._localBoundsRect=new _.Rectangle),s=this._localBoundsRect),this._bounds.getRectangle(s)):super.getLocalBounds.call(this,s)}containsPoint(s){this.worldTransform.applyInverse(s,m);const l=this._width,c=this._height,_=-l*this.anchor._x;if(m.x>=_&&m.x<_+l){const s=-c*this.anchor._y;if(m.y>=s&&m.y<s+c)return!0}return!1}destroy(s){super.destroy(s),this.tileTransform=null,this.uvMatrix=null}static from(s,l){const c=s instanceof _.Texture?s:_.Texture.from(s,l);return new TilingSprite(c,l.width,l.height)}get width(){return this._width}set width(s){this._width=s}get height(){return this._height}set height(s){this._height=s}}l.TilingSprite=TilingSprite},72097:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(46642),m=c(55262),v=c(78063),T=c(62355),E=c(75985);const S=new _.Matrix;class TilingSpriteRenderer extends _.ObjectRenderer{constructor(s){super(s),s.runners.contextChange.add(this),this.quad=new _.QuadUv,this.state=_.State.for2d()}contextChange(){const s=this.renderer,l={globals:s.globalUniforms};this.simpleShader=_.Shader.from(T.default,E.default,l),this.shader=s.context.webGLVersion>1?_.Shader.from(m.default,y.default,l):_.Shader.from(T.default,v.default,l)}render(s){const l=this.renderer,c=this.quad;let y=c.vertices;y[0]=y[6]=s._width*-s.anchor.x,y[1]=y[3]=s._height*-s.anchor.y,y[2]=y[4]=s._width*(1-s.anchor.x),y[5]=y[7]=s._height*(1-s.anchor.y);const m=s.uvRespectAnchor?s.anchor.x:0,v=s.uvRespectAnchor?s.anchor.y:0;y=c.uvs,y[0]=y[6]=-m,y[1]=y[3]=-v,y[2]=y[4]=1-m,y[5]=y[7]=1-v,c.invalidate();const T=s._texture,E=T.baseTexture,A=E.alphaMode>0,w=s.tileTransform.localTransform,P=s.uvMatrix;let O=E.isPowerOfTwo&&T.frame.width===E.width&&T.frame.height===E.height;O&&(E._glTextures[l.CONTEXT_UID]?O=E.wrapMode!==_.WRAP_MODES.CLAMP:E.wrapMode===_.WRAP_MODES.CLAMP&&(E.wrapMode=_.WRAP_MODES.REPEAT));const C=O?this.simpleShader:this.shader,R=T.width,L=T.height,D=s._width,B=s._height;S.set(w.a*R/D,w.b*R/B,w.c*L/D,w.d*L/B,w.tx/D,w.ty/B),S.invert(),O?S.prepend(P.mapCoord):(C.uniforms.uMapCoord=P.mapCoord.toArray(!0),C.uniforms.uClampFrame=P.uClampFrame,C.uniforms.uClampOffset=P.uClampOffset),C.uniforms.uTransform=S.toArray(!0),C.uniforms.uColor=_.Color.shared.setValue(s.tint).premultiply(s.worldAlpha,A).toArray(C.uniforms.uColor),C.uniforms.translationMatrix=s.transform.worldTransform.toArray(!0),C.uniforms.uSampler=T,l.shader.bind(C),l.geometry.bind(c),this.state.blendMode=_.utils.correctBlendMode(s.blendMode,A),l.state.set(this.state),l.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}TilingSpriteRenderer.extension={name:"tilingSprite",type:_.ExtensionType.RendererPlugin},_.extensions.add(TilingSpriteRenderer),l.TilingSpriteRenderer=TilingSpriteRenderer},87465:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(20568),y=c(72097);l.TilingSprite=_.TilingSprite,l.TilingSpriteRenderer=y.TilingSpriteRenderer},78063:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n"},62355:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},75985:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n"},46642:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n"},55262:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},18268:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191);const m=new _.Point,v=new Uint16Array([0,1,2,0,2,3]);class Sprite extends y.Container{constructor(s){super(),this._anchor=new _.ObservablePoint(this._onAnchorUpdate,this,s?s.defaultAnchor.x:0,s?s.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new _.Color(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=_.BLEND_MODES.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=s||_.Texture.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=v,this.pluginName="batch",this.isSprite=!0,this._roundPixels=_.settings.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=_.utils.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=_.utils.sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const s=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===s._updateID)return;this._textureID!==s._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=s._updateID;const l=this.transform.worldTransform,c=l.a,y=l.b,m=l.c,v=l.d,T=l.tx,E=l.ty,S=this.vertexData,A=s.trim,w=s.orig,P=this._anchor;let O=0,C=0,R=0,L=0;if(A?(C=A.x-P._x*w.width,O=C+A.width,L=A.y-P._y*w.height,R=L+A.height):(C=-P._x*w.width,O=C+w.width,L=-P._y*w.height,R=L+w.height),S[0]=c*C+m*L+T,S[1]=v*L+y*C+E,S[2]=c*O+m*L+T,S[3]=v*L+y*O+E,S[4]=c*O+m*R+T,S[5]=v*R+y*O+E,S[6]=c*C+m*R+T,S[7]=v*R+y*C+E,this._roundPixels){const s=_.settings.RESOLUTION;for(let l=0;l<S.length;++l)S[l]=Math.round(S[l]*s)/s}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const s=this._texture,l=this.vertexTrimmedData,c=s.orig,_=this._anchor,y=this.transform.worldTransform,m=y.a,v=y.b,T=y.c,E=y.d,S=y.tx,A=y.ty,w=-_._x*c.width,P=w+c.width,O=-_._y*c.height,C=O+c.height;l[0]=m*w+T*O+S,l[1]=E*O+v*w+A,l[2]=m*P+T*O+S,l[3]=E*O+v*P+A,l[4]=m*P+T*C+S,l[5]=E*C+v*P+A,l[6]=m*w+T*C+S,l[7]=E*C+v*w+A}_render(s){this.calculateVertices(),s.batch.setObjectRenderer(s.plugins[this.pluginName]),s.plugins[this.pluginName].render(this)}_calculateBounds(){const s=this._texture.trim,l=this._texture.orig;!s||s.width===l.width&&s.height===l.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(s){return 0===this.children.length?(this._localBounds||(this._localBounds=new y.Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),s||(this._localBoundsRect||(this._localBoundsRect=new _.Rectangle),s=this._localBoundsRect),this._localBounds.getRectangle(s)):super.getLocalBounds.call(this,s)}containsPoint(s){this.worldTransform.applyInverse(s,m);const l=this._texture.orig.width,c=this._texture.orig.height,_=-l*this.anchor.x;let y=0;return m.x>=_&&m.x<_+l&&(y=-c*this.anchor.y,m.y>=y&&m.y<y+c)}destroy(s){super.destroy(s),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;if("boolean"==typeof s?s:s?.texture){const l="boolean"==typeof s?s:s?.baseTexture;this._texture.destroy(!!l)}this._texture=null}static from(s,l){const c=s instanceof _.Texture?s:_.Texture.from(s,l);return new Sprite(c)}set roundPixels(s){this._roundPixels!==s&&(this._transformID=-1),this._roundPixels=s}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(s){const l=_.utils.sign(this.scale.x)||1;this.scale.x=l*s/this._texture.orig.width,this._width=s}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(s){const l=_.utils.sign(this.scale.y)||1;this.scale.y=l*s/this._texture.orig.height,this._height=s}get anchor(){return this._anchor}set anchor(s){this._anchor.copyFrom(s)}get tint(){return this._tintColor.value}set tint(s){this._tintColor.setValue(s),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(s){this._texture!==s&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=s||_.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,s&&(s.baseTexture.valid?this._onTextureUpdate():s.once("update",this._onTextureUpdate,this)))}}l.Sprite=Sprite},6903:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(18268);l.Sprite=_.Sprite},95031:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);const y=class{constructor(s,l,c=null){this.linkedSheets=[],this._texture=s instanceof _.Texture?s:null,this.baseTexture=s instanceof _.BaseTexture?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=l;const y=this.baseTexture.resource;this.resolution=this._updateResolution(c||(y?y.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(s=null){const{scale:l}=this.data.meta;let c=_.utils.getResolutionOfUrl(s,null);return null===c&&(c=parseFloat(l??"1")),1!==c&&this.baseTexture.setResolution(c),c}parse(){return new Promise((s=>{this._callback=s,this._batchIndex=0,this._frameKeys.length<=y.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}))}_processFrames(s){let l=s;const c=y.BATCH_SIZE;for(;l-s<c&&l<this._frameKeys.length;){const s=this._frameKeys[l],c=this._frames[s],y=c.frame;if(y){let l=null,m=null;const v=!1!==c.trimmed&&c.sourceSize?c.sourceSize:c.frame,T=new _.Rectangle(0,0,Math.floor(v.w)/this.resolution,Math.floor(v.h)/this.resolution);l=c.rotated?new _.Rectangle(Math.floor(y.x)/this.resolution,Math.floor(y.y)/this.resolution,Math.floor(y.h)/this.resolution,Math.floor(y.w)/this.resolution):new _.Rectangle(Math.floor(y.x)/this.resolution,Math.floor(y.y)/this.resolution,Math.floor(y.w)/this.resolution,Math.floor(y.h)/this.resolution),!1!==c.trimmed&&c.spriteSourceSize&&(m=new _.Rectangle(Math.floor(c.spriteSourceSize.x)/this.resolution,Math.floor(c.spriteSourceSize.y)/this.resolution,Math.floor(y.w)/this.resolution,Math.floor(y.h)/this.resolution)),this.textures[s]=new _.Texture(this.baseTexture,l,T,m,c.rotated?2:0,c.anchor,c.borders),_.Texture.addToCache(this.textures[s],s)}l++}}_processAnimations(){const s=this.data.animations||{};for(const l in s){this.animations[l]=[];for(let c=0;c<s[l].length;c++){const _=s[l][c];this.animations[l].push(this.textures[_])}}}_parseComplete(){const s=this._callback;this._callback=null,this._batchIndex=0,s.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*y.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*y.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(s=!1){for(const s in this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,s&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let m=y;m.BATCH_SIZE=1e3,l.Spritesheet=m},39432:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(95031),y=c(32650);l.Spritesheet=_.Spritesheet,l.spritesheetAsset=y.spritesheetAsset},32650:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(8415),y=c(48742),m=c(95031);const v=["jpg","png","jpeg","avif","webp"];function getCacheableAssets(s,l,c){const _={};if(s.forEach((s=>{_[s]=l})),Object.keys(l.textures).forEach((s=>{_[s]=l.textures[s]})),!c){const c=y.utils.path.dirname(s[0]);l.linkedSheets.forEach(((s,y)=>{const m=getCacheableAssets([`${c}/${l.data.meta.related_multi_packs[y]}`],s,!0);Object.assign(_,m)}))}return _}const T={extension:y.ExtensionType.Asset,cache:{test:s=>s instanceof m.Spritesheet,getCacheableAssets:(s,l)=>getCacheableAssets(s,l,!1)},resolver:{test:s=>{const l=s.split("?")[0].split("."),c=l.pop(),_=l.pop();return"json"===c&&v.includes(_)},parse:s=>{const l=s.split(".");return{resolution:parseFloat(y.settings.RETINA_PREFIX.exec(s)?.[1]??"1"),format:l[l.length-2],src:s}}},loader:{name:"spritesheetLoader",extension:{type:y.ExtensionType.LoadParser,priority:_.LoaderParserPriority.Normal},testParse:async(s,l)=>".json"===y.utils.path.extname(l.src).toLowerCase()&&!!s.frames,async parse(s,l,c){let v=y.utils.path.dirname(l.src);v&&v.lastIndexOf("/")!==v.length-1&&(v+="/");let T=v+s.meta.image;T=_.copySearchParams(T,l.src);const E=(await c.load([T]))[T],S=new m.Spritesheet(E.baseTexture,s,l.src);await S.parse();const A=s?.meta?.related_multi_packs;if(Array.isArray(A)){const s=[];for(const y of A){if("string"!=typeof y)continue;let m=v+y;l.data?.ignoreMultiPack||(m=_.copySearchParams(m,l.src),s.push(c.load({src:m,data:{ignoreMultiPack:!0}})))}const y=await Promise.all(s);S.linkedSheets=y,y.forEach((s=>{s.linkedSheets=[S].concat(S.linkedSheets.filter((l=>l!==s)))}))}return S},unload(s){s.destroy(!0)}}};y.extensions.add(T),l.spritesheetAsset=T},76362:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(66338),m=c(99238),v=c(4772);c(49307);var T=c(61717),E=c(95375),S=c(40171);const A=class{constructor(s,l,c){const[y]=s.info,[m]=s.common,[v]=s.page,[T]=s.distanceField,E=_.utils.getResolutionOfUrl(v.file),S={};this._ownsTextures=c,this.font=y.face,this.size=y.size,this.lineHeight=m.lineHeight/E,this.chars={},this.pageTextures=S;for(let c=0;c<s.page.length;c++){const{id:y,file:m}=s.page[c];S[y]=l instanceof Array?l[c]:l[m],T?.fieldType&&"none"!==T.fieldType&&(S[y].baseTexture.alphaMode=_.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,S[y].baseTexture.mipmap=_.MIPMAP_MODES.OFF)}for(let l=0;l<s.char.length;l++){const{id:c,page:y}=s.char[l];let{x:m,y:v,width:T,height:A,xoffset:w,yoffset:P,xadvance:O}=s.char[l];m/=E,v/=E,T/=E,A/=E,w/=E,P/=E,O/=E;const C=new _.Rectangle(m+S[y].frame.x/E,v+S[y].frame.y/E,T,A);this.chars[c]={xOffset:w,yOffset:P,xAdvance:O,kerning:{},texture:new _.Texture(S[y].baseTexture,C),page:y}}for(let l=0;l<s.kerning.length;l++){let{first:c,second:_,amount:y}=s.kerning[l];c/=E,_/=E,y/=E,this.chars[_]&&(this.chars[_].kerning[c]=y)}this.distanceFieldRange=T?.distanceRange,this.distanceFieldType=T?.fieldType?.toLowerCase()??"none"}destroy(){for(const s in this.chars)this.chars[s].texture.destroy(),this.chars[s].texture=null;for(const s in this.pageTextures)this._ownsTextures&&this.pageTextures[s].destroy(!0),this.pageTextures[s]=null;this.chars=null,this.pageTextures=null}static install(s,l,c){let y;if(s instanceof m.BitmapFontData)y=s;else{const l=v.autoDetectFormat(s);if(!l)throw new Error("Unrecognized data format for font.");y=l.parse(s)}l instanceof _.Texture&&(l=[l]);const T=new A(y,l,c);return A.available[T.font]=T,T}static uninstall(s){const l=A.available[s];if(!l)throw new Error(`No font found named '${s}'`);l.destroy(),delete A.available[s]}static from(s,l,c){if(!s)throw new Error("[BitmapFont] Property `name` is required.");const{chars:v,padding:w,resolution:P,textureWidth:O,textureHeight:C,...R}=Object.assign({},A.defaultOptions,c),L=T.resolveCharacters(v),D=l instanceof y.TextStyle?l:new y.TextStyle(l),B=O,F=new m.BitmapFontData;F.info[0]={face:D.fontFamily,size:D.fontSize},F.common[0]={lineHeight:D.fontSize};let k,U,G,V=0,W=0,z=0;const X=[],Y=[];for(let s=0;s<L.length;s++){k||(k=_.settings.ADAPTER.createCanvas(),k.width=O,k.height=C,U=k.getContext("2d"),G=new _.BaseTexture(k,{resolution:P,...R}),X.push(G),Y.push(new _.Texture(G)),F.page.push({id:Y.length-1,file:""}));const l=L[s],c=y.TextMetrics.measureText(l,D,!1,k),m=c.width,v=Math.ceil(c.height),T=Math.ceil(("italic"===D.fontStyle?2:1)*m);if(W>=C-v*P){if(0===W)throw new Error(`[BitmapFont] textureHeight ${C}px is too small (fontFamily: '${D.fontFamily}', fontSize: ${D.fontSize}px, char: '${l}')`);--s,k=null,U=null,G=null,W=0,V=0,z=0;continue}if(z=Math.max(v+c.fontProperties.descent,z),T*P+V>=B){if(0===V)throw new Error(`[BitmapFont] textureWidth ${O}px is too small (fontFamily: '${D.fontFamily}', fontSize: ${D.fontSize}px, char: '${l}')`);--s,W+=z*P,W=Math.ceil(W),V=0,z=0;continue}E.drawGlyph(k,U,c,V,W,P,D);const A=S.extractCharCode(c.text);F.char.push({id:A,page:Y.length-1,x:V/P,y:W/P,width:T,height:v,xoffset:0,yoffset:0,xadvance:m-(D.dropShadow?D.dropShadowDistance:0)-(D.stroke?D.strokeThickness:0)}),V+=(T+2*w)*P,V=Math.ceil(V)}for(let s=0,l=L.length;s<l;s++){const c=L[s];for(let s=0;s<l;s++){const l=L[s],_=U.measureText(c).width,y=U.measureText(l).width,m=U.measureText(c+l).width-(_+y);m&&F.kerning.push({first:S.extractCharCode(c),second:S.extractCharCode(l),amount:m})}}const $=new A(F,Y,!0);return void 0!==A.available[s]&&A.uninstall(s),A.available[s]=$,$}};let w=A;w.ALPHA=[["a","z"],["A","Z"]," "],w.NUMERIC=[["0","9"]],w.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],w.ASCII=[[" ","~"]],w.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:A.ALPHANUMERIC},w.available={},l.BitmapFont=w},99238:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.BitmapFontData=class BitmapFontData{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}},88236:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(27191),m=c(21770),v=c(76362),T=c(27088),E=c(56670);c(49307);var S=c(4937),A=c(40171);const w=[],P=[],O=[],C=class extends y.Container{constructor(s,l={}){super();const{align:c,tint:y,maxWidth:m,letterSpacing:T,fontName:E,fontSize:S}=Object.assign({},C.styleDefaults,l);if(!v.BitmapFont.available[E])throw new Error(`Missing BitmapFont "${E}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=c,this._tintColor=new _.Color(y),this._font=void 0,this._fontName=E,this._fontSize=S,this.text=s,this._maxWidth=m,this._maxLineHeight=0,this._letterSpacing=T,this._anchor=new _.ObservablePoint((()=>{this.dirty=!0}),this,0,0),this._roundPixels=_.settings.ROUND_PIXELS,this.dirty=!0,this._resolution=_.settings.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const s=v.BitmapFont.available[this._fontName],l=this.fontSize,c=l/s.size,y=new _.Point,C=[],R=[],L=[],D=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",B=S.splitTextToCharacters(D),F=this._maxWidth*s.size/l,k="none"===s.distanceFieldType?w:P;let U=null,G=0,V=0,W=0,z=-1,X=0,Y=0,$=0,q=0;for(let l=0;l<B.length;l++){const c=B[l],m=A.extractCharCode(c);if(/(?:\s)/.test(c)&&(z=l,X=G,q++),"\r"===c||"\n"===c){R.push(G),L.push(-1),V=Math.max(V,G),++W,++Y,y.x=0,y.y+=s.lineHeight,U=null,q=0;continue}const v=s.chars[m];if(!v)continue;U&&v.kerning[U]&&(y.x+=v.kerning[U]);const T=O.pop()||{texture:_.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new _.Point};T.texture=v.texture,T.line=W,T.charCode=m,T.position.x=Math.round(y.x+v.xOffset+this._letterSpacing/2),T.position.y=Math.round(y.y+v.yOffset),T.prevSpaces=q,C.push(T),G=T.position.x+Math.max(v.xAdvance-v.xOffset,v.texture.orig.width),y.x+=v.xAdvance+this._letterSpacing,$=Math.max($,v.yOffset+v.texture.height),U=m,-1!==z&&F>0&&y.x>F&&(++Y,_.utils.removeItems(C,1+z-Y,1+l-z),l=z,z=-1,R.push(X),L.push(C.length>0?C[C.length-1].prevSpaces:0),V=Math.max(V,X),W++,y.x=0,y.y+=s.lineHeight,U=null,q=0)}const K=B[B.length-1];"\r"!==K&&"\n"!==K&&(/(?:\s)/.test(K)&&(G=X),R.push(G),V=Math.max(V,G),L.push(-1));const Q=[];for(let s=0;s<=W;s++){let l=0;"right"===this._align?l=V-R[s]:"center"===this._align?l=(V-R[s])/2:"justify"===this._align&&(l=L[s]<0?0:(V-R[s])/L[s]),Q.push(l)}const J=C.length,Z={},ee=[],te=this._activePagesMeshData;k.push(...te);for(let l=0;l<J;l++){const c=C[l].texture,y=c.baseTexture.uid;if(!Z[y]){let l=k.pop();if(!l){const c=new m.MeshGeometry;let y,v;"none"===s.distanceFieldType?(y=new m.MeshMaterial(_.Texture.EMPTY),v=_.BLEND_MODES.NORMAL):(y=new m.MeshMaterial(_.Texture.EMPTY,{program:_.Program.from(E.default,T.default),uniforms:{uFWidth:0}}),v=_.BLEND_MODES.NORMAL_NPM);const S=new m.Mesh(c,y);S.blendMode=v,l={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:S,vertices:null,uvs:null,indices:null}}l.index=0,l.indexCount=0,l.vertexCount=0,l.uvsCount=0,l.total=0;const{_textureCache:v}=this;v[y]=v[y]||new _.Texture(c.baseTexture),l.mesh.texture=v[y],l.mesh.tint=this._tintColor.value,ee.push(l),Z[y]=l}Z[y].total++}for(let s=0;s<te.length;s++)ee.includes(te[s])||this.removeChild(te[s].mesh);for(let s=0;s<ee.length;s++)ee[s].mesh.parent!==this&&this.addChild(ee[s].mesh);this._activePagesMeshData=ee;for(const s in Z){const l=Z[s],c=l.total;if(!(l.indices?.length>6*c)||l.vertices.length<2*m.Mesh.BATCHABLE_SIZE)l.vertices=new Float32Array(8*c),l.uvs=new Float32Array(8*c),l.indices=new Uint16Array(6*c);else{const s=l.total,c=l.vertices;for(let l=4*s*2;l<c.length;l++)c[l]=0}l.mesh.size=6*c}for(let s=0;s<J;s++){const l=C[s];let _=l.position.x+Q[l.line]*("justify"===this._align?l.prevSpaces:1);this._roundPixels&&(_=Math.round(_));const y=_*c,m=l.position.y*c,v=l.texture,T=Z[v.baseTexture.uid],E=v.frame,S=v._uvs,A=T.index++;T.indices[6*A+0]=0+4*A,T.indices[6*A+1]=1+4*A,T.indices[6*A+2]=2+4*A,T.indices[6*A+3]=0+4*A,T.indices[6*A+4]=2+4*A,T.indices[6*A+5]=3+4*A,T.vertices[8*A+0]=y,T.vertices[8*A+1]=m,T.vertices[8*A+2]=y+E.width*c,T.vertices[8*A+3]=m,T.vertices[8*A+4]=y+E.width*c,T.vertices[8*A+5]=m+E.height*c,T.vertices[8*A+6]=y,T.vertices[8*A+7]=m+E.height*c,T.uvs[8*A+0]=S.x0,T.uvs[8*A+1]=S.y0,T.uvs[8*A+2]=S.x1,T.uvs[8*A+3]=S.y1,T.uvs[8*A+4]=S.x2,T.uvs[8*A+5]=S.y2,T.uvs[8*A+6]=S.x3,T.uvs[8*A+7]=S.y3}this._textWidth=V*c,this._textHeight=(y.y+s.lineHeight)*c;for(const s in Z){const l=Z[s];if(0!==this.anchor.x||0!==this.anchor.y){let s=0;const c=this._textWidth*this.anchor.x,_=this._textHeight*this.anchor.y;for(let y=0;y<l.total;y++)l.vertices[s++]-=c,l.vertices[s++]-=_,l.vertices[s++]-=c,l.vertices[s++]-=_,l.vertices[s++]-=c,l.vertices[s++]-=_,l.vertices[s++]-=c,l.vertices[s++]-=_}this._maxLineHeight=$*c;const _=l.mesh.geometry.getBuffer("aVertexPosition"),y=l.mesh.geometry.getBuffer("aTextureCoord"),m=l.mesh.geometry.getIndex();_.data=l.vertices,y.data=l.uvs,m.data=l.indices,_.update(),y.update(),m.update()}for(let s=0;s<C.length;s++)O.push(C[s]);this._font=s,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(s){this._autoResolution&&this._resolution!==s.resolution&&(this._resolution=s.resolution,this.dirty=!0);const{distanceFieldRange:l,distanceFieldType:c,size:_}=v.BitmapFont.available[this._fontName];if("none"!==c){const{a:c,b:y,c:m,d:v}=this.worldTransform,T=Math.sqrt(c*c+y*y),E=Math.sqrt(m*m+v*v),S=(Math.abs(T)+Math.abs(E))/2,A=this.fontSize/_,w=s._view.resolution;for(const s of this._activePagesMeshData)s.mesh.shader.uniforms.uFWidth=S*l*A*w}super._render(s)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const s=v.BitmapFont.available[this._fontName];if(!s)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==s&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(s){if(this.tint!==s){this._tintColor.setValue(s);for(let l=0;l<this._activePagesMeshData.length;l++)this._activePagesMeshData[l].mesh.tint=s}}get align(){return this._align}set align(s){this._align!==s&&(this._align=s,this.dirty=!0)}get fontName(){return this._fontName}set fontName(s){if(!v.BitmapFont.available[s])throw new Error(`Missing BitmapFont "${s}"`);this._fontName!==s&&(this._fontName=s,this.dirty=!0)}get fontSize(){return this._fontSize??v.BitmapFont.available[this._fontName].size}set fontSize(s){this._fontSize!==s&&(this._fontSize=s,this.dirty=!0)}get anchor(){return this._anchor}set anchor(s){"number"==typeof s?this._anchor.set(s):this._anchor.copyFrom(s)}get text(){return this._text}set text(s){s=String(null==s?"":s),this._text!==s&&(this._text=s,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(s){this._maxWidth!==s&&(this._maxWidth=s,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(s){this._letterSpacing!==s&&(this._letterSpacing=s,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(s){s!==this._roundPixels&&(this._roundPixels=s,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(s){this._autoResolution=!1,this._resolution!==s&&(this._resolution=s,this.dirty=!0)}destroy(s){const{_textureCache:l}=this,c="none"===v.BitmapFont.available[this._fontName].distanceFieldType?w:P;c.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],c.filter((s=>l[s.mesh.texture.baseTexture.uid])).forEach((s=>{s.mesh.texture=_.Texture.EMPTY}));for(const s in l){l[s].destroy(),delete l[s]}this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(s)}};let R=C;R.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},l.BitmapText=R},94289:()=>{},59340:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(99238);l.TextFormat=class TextFormat{static test(s){return"string"==typeof s&&s.startsWith("info face=")}static parse(s){const l=s.match(/^[a-z]+\s+.+$/gm),c={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in l){const _=l[s].match(/^[a-z]+/gm)[0],y=l[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),m={};for(const s in y){const l=y[s].split("="),c=l[0],_=l[1].replace(/"/gm,""),v=parseFloat(_),T=isNaN(v)?_:v;m[c]=T}c[_].push(m)}const y=new _.BitmapFontData;return c.info.forEach((s=>y.info.push({face:s.face,size:parseInt(s.size,10)}))),c.common.forEach((s=>y.common.push({lineHeight:parseInt(s.lineHeight,10)}))),c.page.forEach((s=>y.page.push({id:parseInt(s.id,10),file:s.file}))),c.char.forEach((s=>y.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)}))),c.kerning.forEach((s=>y.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)}))),c.distanceField.forEach((s=>y.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType}))),y}}},96257:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(99238);l.XMLFormat=class XMLFormat{static test(s){const l=s;return"getElementsByTagName"in l&&l.getElementsByTagName("page").length&&null!==l.getElementsByTagName("info")[0].getAttribute("face")}static parse(s){const l=new _.BitmapFontData,c=s.getElementsByTagName("info"),y=s.getElementsByTagName("common"),m=s.getElementsByTagName("page"),v=s.getElementsByTagName("char"),T=s.getElementsByTagName("kerning"),E=s.getElementsByTagName("distanceField");for(let s=0;s<c.length;s++)l.info.push({face:c[s].getAttribute("face"),size:parseInt(c[s].getAttribute("size"),10)});for(let s=0;s<y.length;s++)l.common.push({lineHeight:parseInt(y[s].getAttribute("lineHeight"),10)});for(let s=0;s<m.length;s++)l.page.push({id:parseInt(m[s].getAttribute("id"),10)||0,file:m[s].getAttribute("file")});for(let s=0;s<v.length;s++){const c=v[s];l.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let s=0;s<T.length;s++)l.kerning.push({first:parseInt(T[s].getAttribute("first"),10),second:parseInt(T[s].getAttribute("second"),10),amount:parseInt(T[s].getAttribute("amount"),10)});for(let s=0;s<E.length;s++)l.distanceField.push({fieldType:E[s].getAttribute("fieldType"),distanceRange:parseInt(E[s].getAttribute("distanceRange"),10)});return l}}},24869:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(96257);l.XMLStringFormat=class XMLStringFormat{static test(s){return!("string"!=typeof s||!s.includes("<font>"))&&y.XMLFormat.test(_.settings.ADAPTER.parseXML(s))}static parse(s){return y.XMLFormat.parse(_.settings.ADAPTER.parseXML(s))}}},4772:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(59340),y=c(96257),m=c(24869);const v=[_.TextFormat,y.XMLFormat,m.XMLStringFormat];l.TextFormat=_.TextFormat,l.XMLFormat=y.XMLFormat,l.XMLStringFormat=m.XMLStringFormat,l.autoDetectFormat=function autoDetectFormat(s){for(let l=0;l<v.length;l++)if(v[l].test(s))return v[l];return null}},53485:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(76362),y=c(99238),m=c(88236);c(94289);var v=c(4772),T=c(54457),E=c(59340),S=c(96257),A=c(24869);l.BitmapFont=_.BitmapFont,l.BitmapFontData=y.BitmapFontData,l.BitmapText=m.BitmapText,l.autoDetectFormat=v.autoDetectFormat,l.loadBitmapFont=T.loadBitmapFont,l.TextFormat=E.TextFormat,l.XMLFormat=S.XMLFormat,l.XMLStringFormat=A.XMLStringFormat},54457:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(8415),y=c(48742),m=c(76362);c(4772);var v=c(59340),T=c(24869);const E=[".xml",".fnt"],S={extension:{type:y.ExtensionType.LoadParser,priority:_.LoaderParserPriority.Normal},name:"loadBitmapFont",test:s=>E.includes(y.utils.path.extname(s).toLowerCase()),testParse:async s=>v.TextFormat.test(s)||T.XMLStringFormat.test(s),async parse(s,l,c){const E=v.TextFormat.test(s)?v.TextFormat.parse(s):T.XMLStringFormat.parse(s),{src:S}=l,{page:A}=E,w=[];for(let s=0;s<A.length;++s){const l=A[s].file;let c=y.utils.path.join(y.utils.path.dirname(S),l);c=_.copySearchParams(c,S),w.push(c)}const P=await c.load(w),O=w.map((s=>P[s]));return m.BitmapFont.install(E,O,!0)},load:async(s,l)=>(await y.settings.ADAPTER.fetch(s)).text(),unload(s){s.destroy()}};y.extensions.add(S),l.loadBitmapFont=S},27088:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"},56670:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.default="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n"},95375:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(29402);l.drawGlyph=function drawGlyph(s,l,c,m,v,T,E){const S=c.text,A=c.fontProperties;l.translate(m,v),l.scale(T,T);const w=E.strokeThickness/2,P=-E.strokeThickness/2;if(l.font=E.toFontString(),l.lineWidth=E.strokeThickness,l.textBaseline=E.textBaseline,l.lineJoin=E.lineJoin,l.miterLimit=E.miterLimit,l.fillStyle=y.generateFillStyle(s,l,E,T,[S],c),l.strokeStyle=E.stroke,E.dropShadow){const s=E.dropShadowColor,c=E.dropShadowBlur*T,y=E.dropShadowDistance*T;l.shadowColor=_.Color.shared.setValue(s).setAlpha(E.dropShadowAlpha).toRgbaString(),l.shadowBlur=c,l.shadowOffsetX=Math.cos(E.dropShadowAngle)*y,l.shadowOffsetY=Math.sin(E.dropShadowAngle)*y}else l.shadowColor="black",l.shadowBlur=0,l.shadowOffsetX=0,l.shadowOffsetY=0;E.stroke&&E.strokeThickness&&l.strokeText(S,w,P+c.lineHeight-A.descent),E.fill&&l.fillText(S,w,P+c.lineHeight-A.descent),l.setTransform(1,0,0,1,0,0),l.fillStyle="rgba(0, 0, 0, 0)"}},40171:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.extractCharCode=function extractCharCode(s){return s.codePointAt?s.codePointAt(0):s.charCodeAt(0)}},29402:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(66338);l.generateFillStyle=function generateFillStyle(s,l,c,y,m,v){const T=c.fill;if(!Array.isArray(T))return T;if(1===T.length)return T[0];let E;const S=c.dropShadow?c.dropShadowDistance:0,A=c.padding||0,w=s.width/y-S-2*A,P=s.height/y-S-2*A,O=T.slice(),C=c.fillGradientStops.slice();if(!C.length){const s=O.length+1;for(let l=1;l<s;++l)C.push(l/s)}if(O.unshift(T[0]),C.unshift(0),O.push(T[T.length-1]),C.push(1),c.fillGradientType===_.TEXT_GRADIENT.LINEAR_VERTICAL){E=l.createLinearGradient(w/2,A,w/2,P+A);let s=0;const _=(v.fontProperties.fontSize+c.strokeThickness)/P;for(let l=0;l<m.length;l++){const c=v.lineHeight*l;for(let l=0;l<O.length;l++){let y=0;y="number"==typeof C[l]?C[l]:l/O.length;const m=c/P+y*_;let v=Math.max(s,m);v=Math.min(v,1),E.addColorStop(v,O[l]),s=v}}}else{E=l.createLinearGradient(A,P/2,w+A,P/2);const s=O.length+1;let c=1;for(let l=0;l<O.length;l++){let _;_="number"==typeof C[l]?C[l]:c/s,E.addColorStop(_,O[l]),c++}}return E}},49307:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(95375),y=c(40171),m=c(29402),v=c(61717),T=c(4937);l.drawGlyph=_.drawGlyph,l.extractCharCode=y.extractCharCode,l.generateFillStyle=m.generateFillStyle,l.resolveCharacters=v.resolveCharacters,l.splitTextToCharacters=T.splitTextToCharacters},61717:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(4937);l.resolveCharacters=function resolveCharacters(s){"string"==typeof s&&(s=[s]);const l=[];for(let c=0,y=s.length;c<y;c++){const y=s[c];if(Array.isArray(y)){if(2!==y.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${y.length}.`);const s=y[0].charCodeAt(0),c=y[1].charCodeAt(0);if(c<s)throw new Error("[BitmapFont]: Invalid character range.");for(let _=s,y=c;_<=y;_++)l.push(String.fromCharCode(_))}else l.push(..._.splitTextToCharacters(y))}if(0===l.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return l}},4937:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.splitTextToCharacters=function splitTextToCharacters(s){return Array.from?Array.from(s):s.split("")}},91085:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(6903),m=c(66338),v=c(58005);const T=class extends y.Sprite{constructor(s="",l={}){super(_.Texture.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const c=new Image,y=_.Texture.from(c,{scaleMode:_.settings.SCALE_MODE,resourceOptions:{autoLoad:!1}});y.orig=new _.Rectangle,y.trim=new _.Rectangle,this.texture=y;const m="http://www.w3.org/2000/svg",v="http://www.w3.org/1999/xhtml",E=document.createElementNS(m,"svg"),S=document.createElementNS(m,"foreignObject"),A=document.createElementNS(v,"div"),w=document.createElementNS(v,"style");S.setAttribute("width","10000"),S.setAttribute("height","10000"),S.style.overflow="hidden",E.appendChild(S),this.maxWidth=T.defaultMaxWidth,this.maxHeight=T.defaultMaxHeight,this._domElement=A,this._styleElement=w,this._svgRoot=E,this._foreignObject=S,this._foreignObject.appendChild(w),this._foreignObject.appendChild(A),this._image=c,this._loadImage=new Image,this._autoResolution=T.defaultAutoResolution,this._resolution=T.defaultResolution??_.settings.RESOLUTION,this.text=s,this.style=l}measureText(s){const{text:l,style:c,resolution:_}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},s);Object.assign(this._domElement,{innerHTML:l,style:c.toCSS(_)}),this._styleElement.textContent=c.toGlobalCSS(),document.body.appendChild(this._svgRoot);const y=this._domElement.getBoundingClientRect();this._svgRoot.remove();const m=Math.min(this.maxWidth,Math.ceil(y.width)),v=Math.min(this.maxHeight,Math.ceil(y.height));return this._svgRoot.setAttribute("width",m.toString()),this._svgRoot.setAttribute("height",v.toString()),l!==this._text&&(this._domElement.innerHTML=this._text),c!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(_)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:m+2*c.padding,height:v+2*c.padding}}async updateText(s=!0){const{style:l,_image:c,_loadImage:_}=this;if(this.localStyleID!==l.styleID&&(this.dirty=!0,this.localStyleID=l.styleID),!this.dirty&&s)return;const{width:y,height:m}=this.measureText();c.width=_.width=Math.ceil(Math.max(1,y)),c.height=_.height=Math.ceil(Math.max(1,m)),this._loading||(this._loading=!0,await new Promise((s=>{_.onload=async()=>{await l.onBeforeDraw(),this._loading=!1,c.src=_.src,_.onload=null,_.src="",this.updateTexture(),s()};const y=(new XMLSerializer).serializeToString(this._svgRoot);_.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(y)}`})))}get source(){return this._image}updateTexture(){const{style:s,texture:l,_image:c,resolution:_}=this,{padding:y}=s,{baseTexture:m}=l;l.trim.width=l._frame.width=c.width/_,l.trim.height=l._frame.height=c.height/_,l.trim.x=-y,l.trim.y=-y,l.orig.width=l._frame.width-2*y,l.orig.height=l._frame.height-2*y,this._onTextureUpdate(),m.setRealSize(c.width,c.height,_),this.dirty=!1}_render(s){this._autoResolution&&this._resolution!==s.resolution&&(this._resolution=s.resolution,this.dirty=!0),this.updateText(!0),super._render(s)}_renderCanvas(s){this._autoResolution&&this._resolution!==s.resolution&&(this._resolution=s.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(s)}getLocalBounds(s){return this.updateText(!0),super.getLocalBounds(s)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(s){"boolean"==typeof s&&(s={children:s}),s=Object.assign({},T.defaultDestroyOptions,s),super.destroy(s);const l=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=l,this._svgRoot?.remove(),this._svgRoot=l,this._domElement?.remove(),this._domElement=l,this._foreignObject?.remove(),this._foreignObject=l,this._styleElement?.remove(),this._styleElement=l,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=l,this._image.src="",this._image=l}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(s){this.updateText(!0);const l=_.utils.sign(this.scale.x)||1;this.scale.x=l*s/this._image.width/this.resolution,this._width=s}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(s){this.updateText(!0);const l=_.utils.sign(this.scale.y)||1;this.scale.y=l*s/this._image.height/this.resolution,this._height=s}get style(){return this._style}set style(s){this._style!==s&&((s=s||{})instanceof v.HTMLTextStyle?(this.ownsStyle=!1,this._style=s):s instanceof m.TextStyle?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=v.HTMLTextStyle.from(s)):(this.ownsStyle=!0,this._style=new v.HTMLTextStyle(s)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(s){s=String(""===s||null==s?" ":s),s=this.sanitiseText(s),this._text!==s&&(this._text=s,this.dirty=!0)}get resolution(){return this._resolution}set resolution(s){this._autoResolution=!1,this._resolution!==s&&(this._resolution=s,this.dirty=!0)}sanitiseText(s){return s.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let E=T;E.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},E.defaultMaxWidth=2024,E.defaultMaxHeight=2024,E.defaultAutoResolution=!0,l.HTMLText=E},58005:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(66338);const m=class extends y.TextStyle{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(s){return new m(Object.keys(m.defaultOptions).reduce(((l,c)=>({...l,[c]:s[c]})),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach((s=>{URL.revokeObjectURL(s.src),s.refs--,0===s.refs&&(s.fontFace&&document.fonts.delete(s.fontFace),delete m.availableFonts[s.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(s,l={}){const{availableFonts:c}=m;if(c[s]){const l=c[s];return this._fonts.push(l),l.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return _.settings.ADAPTER.fetch(s).then((s=>s.blob())).then((async s=>new Promise(((l,c)=>{const _=URL.createObjectURL(s),y=new FileReader;y.onload=()=>l([_,y.result]),y.onerror=c,y.readAsDataURL(s)})))).then((async([y,m])=>{const v=Object.assign({family:_.utils.path.basename(s,_.utils.path.extname(s)),weight:"normal",style:"normal",src:y,dataSrc:m,refs:1,originalUrl:s,fontFace:null},l);c[s]=v,this._fonts.push(v),this.styleID++;const T=new FontFace(v.family,`url(${v.src})`,{weight:v.weight,style:v.style});v.fontFace=T,await T.load(),document.fonts.add(T),await document.fonts.ready,this.styleID++,this.fontsDirty=!0}))}addOverride(...s){const l=s.filter((s=>!this._overrides.includes(s)));l.length>0&&(this._overrides.push(...l),this.styleID++)}removeOverride(...s){const l=s.filter((s=>this._overrides.includes(s)));l.length>0&&(this._overrides=this._overrides.filter((s=>!l.includes(s))),this.styleID++)}toCSS(s){return[`transform: scale(${s})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?["word-wrap: "+(this.breakWords?"break-all":"break-word"),`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce(((s,l)=>`${s}\n            @font-face {\n                font-family: "${l.family}";\n                src: url('${l.dataSrc}');\n                font-weight: ${l.weight};\n                font-style: ${l.style}; \n            }`),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(s){this._stylesheet!==s&&(this._stylesheet=s,this.styleID++)}normalizeColor(s){return Array.isArray(s)&&(s=_.utils.rgb2hex(s)),"number"==typeof s?_.utils.hex2string(s):s}dropShadowToCSS(){let s=this.normalizeColor(this.dropShadowColor);const l=this.dropShadowAlpha,c=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),_=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);s.startsWith("#")&&l<1&&(s+=(255*l|0).toString(16).padStart(2,"0"));const y=`${c}px ${_}px`;return this.dropShadowBlur>0?`text-shadow: ${y} ${this.dropShadowBlur}px ${s}`:`text-shadow: ${y} ${s}`}reset(){Object.assign(this,m.defaultOptions)}onBeforeDraw(){const{fontsDirty:s}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&s?new Promise((s=>setTimeout(s,100))):Promise.resolve()}get isSafari(){const{userAgent:s}=_.settings.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(s)}set fillGradientStops(s){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(s){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(s){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(s){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(s){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(s){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(s){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let v=m;v.availableFonts={},v.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100},l.HTMLTextStyle=v},17509:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(91085),y=c(58005);l.HTMLText=_.HTMLText,l.HTMLTextStyle=y.HTMLTextStyle},30448:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(6903),m=c(16016),v=c(75345),T=c(38774);const E={texture:!0,children:!1,baseTexture:!0},S=class extends y.Sprite{constructor(s,l,c){let y=!1;c||(c=_.settings.ADAPTER.createCanvas(),y=!0),c.width=3,c.height=3;const m=_.Texture.from(c);m.orig=new _.Rectangle,m.trim=new _.Rectangle,super(m),this._ownCanvas=y,this.canvas=c,this.context=c.getContext("2d",{willReadFrequently:!0}),this._resolution=S.defaultResolution??_.settings.RESOLUTION,this._autoResolution=S.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=s,this.style=l,this.localStyleID=-1}static get experimentalLetterSpacing(){return v.TextMetrics.experimentalLetterSpacing}static set experimentalLetterSpacing(s){_.utils.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),v.TextMetrics.experimentalLetterSpacing=s}updateText(s){const l=this._style;if(this.localStyleID!==l.styleID&&(this.dirty=!0,this.localStyleID=l.styleID),!this.dirty&&s)return;this._font=this._style.toFontString();const c=this.context,y=v.TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),m=y.width,T=y.height,E=y.lines,S=y.lineHeight,A=y.lineWidths,w=y.maxLineWidth,P=y.fontProperties;let O,C;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,m)+2*l.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,T)+2*l.padding)*this._resolution),c.scale(this._resolution,this._resolution),c.clearRect(0,0,this.canvas.width,this.canvas.height),c.font=this._font,c.lineWidth=l.strokeThickness,c.textBaseline=l.textBaseline,c.lineJoin=l.lineJoin,c.miterLimit=l.miterLimit;const R=l.dropShadow?2:1;for(let s=0;s<R;++s){const m=l.dropShadow&&0===s,v=m?Math.ceil(Math.max(1,T)+2*l.padding):0,R=v*this._resolution;if(m){c.fillStyle="black",c.strokeStyle="black";const s=l.dropShadowColor,y=l.dropShadowBlur*this._resolution,m=l.dropShadowDistance*this._resolution;c.shadowColor=_.Color.shared.setValue(s).setAlpha(l.dropShadowAlpha).toRgbaString(),c.shadowBlur=y,c.shadowOffsetX=Math.cos(l.dropShadowAngle)*m,c.shadowOffsetY=Math.sin(l.dropShadowAngle)*m+R}else c.fillStyle=this._generateFillStyle(l,E,y),c.strokeStyle=l.stroke,c.shadowColor="black",c.shadowBlur=0,c.shadowOffsetX=0,c.shadowOffsetY=0;let L=(S-P.fontSize)/2;S-P.fontSize<0&&(L=0);for(let s=0;s<E.length;s++)O=l.strokeThickness/2,C=l.strokeThickness/2+s*S+P.ascent+L,"right"===l.align?O+=w-A[s]:"center"===l.align&&(O+=(w-A[s])/2),l.stroke&&l.strokeThickness&&this.drawLetterSpacing(E[s],O+l.padding,C+l.padding-v,!0),l.fill&&this.drawLetterSpacing(E[s],O+l.padding,C+l.padding-v)}this.updateTexture()}drawLetterSpacing(s,l,c,_=!1){const y=this._style.letterSpacing;let m=!1;if(v.TextMetrics.experimentalLetterSpacingSupported&&(v.TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing=`${y}px`,this.context.textLetterSpacing=`${y}px`,m=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===y||m)return void(_?this.context.strokeText(s,l,c):this.context.fillText(s,l,c));let T=l;const E=v.TextMetrics.graphemeSegmenter(s);let S=this.context.measureText(s).width,A=0;for(let s=0;s<E.length;++s){const l=E[s];_?this.context.strokeText(l,T,c):this.context.fillText(l,T,c);let m="";for(let l=s+1;l<E.length;++l)m+=E[l];A=this.context.measureText(m).width,T+=S-A+y,S=A}}updateTexture(){const s=this.canvas;if(this._style.trim){const l=_.utils.trimCanvas(s);l.data&&(s.width=l.width,s.height=l.height,this.context.putImageData(l.data,0,0))}const l=this._texture,c=this._style,y=c.trim?0:c.padding,m=l.baseTexture;l.trim.width=l._frame.width=s.width/this._resolution,l.trim.height=l._frame.height=s.height/this._resolution,l.trim.x=-y,l.trim.y=-y,l.orig.width=l._frame.width-2*y,l.orig.height=l._frame.height-2*y,this._onTextureUpdate(),m.setRealSize(s.width,s.height,this._resolution),l.updateUvs(),this.dirty=!1}_render(s){this._autoResolution&&this._resolution!==s.resolution&&(this._resolution=s.resolution,this.dirty=!0),this.updateText(!0),super._render(s)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(s,l){return this.updateText(!0),-1===this._textureID&&(s=!1),super.getBounds(s,l)}getLocalBounds(s){return this.updateText(!0),super.getLocalBounds.call(this,s)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(s,l,c){const _=s.fill;if(!Array.isArray(_))return _;if(1===_.length)return _[0];let y;const v=s.dropShadow?s.dropShadowDistance:0,T=s.padding||0,E=this.canvas.width/this._resolution-v-2*T,S=this.canvas.height/this._resolution-v-2*T,A=_.slice(),w=s.fillGradientStops.slice();if(!w.length){const s=A.length+1;for(let l=1;l<s;++l)w.push(l/s)}if(A.unshift(_[0]),w.unshift(0),A.push(_[_.length-1]),w.push(1),s.fillGradientType===m.TEXT_GRADIENT.LINEAR_VERTICAL){y=this.context.createLinearGradient(E/2,T,E/2,S+T);const _=c.fontProperties.fontSize+s.strokeThickness;for(let s=0;s<l.length;s++){const m=c.lineHeight*(s-1)+_,v=c.lineHeight*s;let T=v;s>0&&m>v&&(T=(v+m)/2);const E=v+_,P=c.lineHeight*(s+1);let O=E;s+1<l.length&&P<E&&(O=(E+P)/2);const C=(O-T)/S;for(let s=0;s<A.length;s++){let l=0;l="number"==typeof w[s]?w[s]:s/A.length;let c=Math.min(1,Math.max(0,T/S+l*C));c=Number(c.toFixed(5)),y.addColorStop(c,A[s])}}}else{y=this.context.createLinearGradient(T,S/2,E+T,S/2);const s=A.length+1;let l=1;for(let c=0;c<A.length;c++){let _;_="number"==typeof w[c]?w[c]:l/s,y.addColorStop(_,A[c]),l++}}return y}destroy(s){"boolean"==typeof s&&(s={children:s}),s=Object.assign({},E,s),super.destroy(s),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(s){this.updateText(!0);const l=_.utils.sign(this.scale.x)||1;this.scale.x=l*s/this._texture.orig.width,this._width=s}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(s){this.updateText(!0);const l=_.utils.sign(this.scale.y)||1;this.scale.y=l*s/this._texture.orig.height,this._height=s}get style(){return this._style}set style(s){(s=s||{})instanceof T.TextStyle?this._style=s:this._style=new T.TextStyle(s),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(s){s=String(null==s?"":s),this._text!==s&&(this._text=s,this.dirty=!0)}get resolution(){return this._resolution}set resolution(s){this._autoResolution=!1,this._resolution!==s&&(this._resolution=s,this.dirty=!0)}};let A=S;A.defaultAutoResolution=!0,l.Text=A},75345:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742);const y={willReadFrequently:!0},m=class{static get experimentalLetterSpacingSupported(){let s=m._experimentalLetterSpacingSupported;if(void 0!==s){const l=_.settings.ADAPTER.getCanvasRenderingContext2D().prototype;s=m._experimentalLetterSpacingSupported="letterSpacing"in l||"textLetterSpacing"in l}return s}constructor(s,l,c,_,y,m,v,T,E){this.text=s,this.style=l,this.width=c,this.height=_,this.lines=y,this.lineWidths=m,this.lineHeight=v,this.maxLineWidth=T,this.fontProperties=E}static measureText(s,l,c,_=m._canvas){c=null==c?l.wordWrap:c;const v=l.toFontString(),T=m.measureFont(v);0===T.fontSize&&(T.fontSize=l.fontSize,T.ascent=l.fontSize);const E=_.getContext("2d",y);E.font=v;const S=(c?m.wordWrap(s,l,_):s).split(/(?:\r\n|\r|\n)/),A=new Array(S.length);let w=0;for(let s=0;s<S.length;s++){const c=m._measureText(S[s],l.letterSpacing,E);A[s]=c,w=Math.max(w,c)}let P=w+l.strokeThickness;l.dropShadow&&(P+=l.dropShadowDistance);const O=l.lineHeight||T.fontSize+l.strokeThickness;let C=Math.max(O,T.fontSize+2*l.strokeThickness)+(S.length-1)*(O+l.leading);return l.dropShadow&&(C+=l.dropShadowDistance),new m(s,l,P,C,S,A,O+l.leading,w,T)}static _measureText(s,l,c){let _=!1;m.experimentalLetterSpacingSupported&&(m.experimentalLetterSpacing?(c.letterSpacing=`${l}px`,c.textLetterSpacing=`${l}px`,_=!0):(c.letterSpacing="0px",c.textLetterSpacing="0px"));let y=c.measureText(s).width;return y>0&&(_?y-=l:y+=(m.graphemeSegmenter(s).length-1)*l),y}static wordWrap(s,l,c=m._canvas){const _=c.getContext("2d",y);let v=0,T="",E="";const S=Object.create(null),{letterSpacing:A,whiteSpace:w}=l,P=m.collapseSpaces(w),O=m.collapseNewlines(w);let C=!P;const R=l.wordWrapWidth+A,L=m.tokenize(s);for(let s=0;s<L.length;s++){let c=L[s];if(m.isNewline(c)){if(!O){E+=m.addLine(T),C=!P,T="",v=0;continue}c=" "}if(P){const s=m.isBreakingSpace(c),l=m.isBreakingSpace(T[T.length-1]);if(s&&l)continue}const y=m.getFromCache(c,A,S,_);if(y>R)if(""!==T&&(E+=m.addLine(T),T="",v=0),m.canBreakWords(c,l.breakWords)){const s=m.wordWrapSplit(c);for(let y=0;y<s.length;y++){let w=s[y],P=w,O=1;for(;s[y+O];){const _=s[y+O];if(m.canBreakChars(P,_,c,y,l.breakWords))break;w+=_,P=_,O++}y+=O-1;const L=m.getFromCache(w,A,S,_);L+v>R&&(E+=m.addLine(T),C=!1,T="",v=0),T+=w,v+=L}}else{T.length>0&&(E+=m.addLine(T),T="",v=0);const l=s===L.length-1;E+=m.addLine(c,!l),C=!1,T="",v=0}else y+v>R&&(C=!1,E+=m.addLine(T),T="",v=0),(T.length>0||!m.isBreakingSpace(c)||C)&&(T+=c,v+=y)}return E+=m.addLine(T,!1),E}static addLine(s,l=!0){return s=m.trimRight(s),s=l?`${s}\n`:s}static getFromCache(s,l,c,_){let y=c[s];return"number"!=typeof y&&(y=m._measureText(s,l,_)+l,c[s]=y),y}static collapseSpaces(s){return"normal"===s||"pre-line"===s}static collapseNewlines(s){return"normal"===s}static trimRight(s){if("string"!=typeof s)return"";for(let l=s.length-1;l>=0;l--){const c=s[l];if(!m.isBreakingSpace(c))break;s=s.slice(0,-1)}return s}static isNewline(s){return"string"==typeof s&&m._newlines.includes(s.charCodeAt(0))}static isBreakingSpace(s,l){return"string"==typeof s&&m._breakingSpaces.includes(s.charCodeAt(0))}static tokenize(s){const l=[];let c="";if("string"!=typeof s)return l;for(let _=0;_<s.length;_++){const y=s[_],v=s[_+1];m.isBreakingSpace(y,v)||m.isNewline(y)?(""!==c&&(l.push(c),c=""),l.push(y)):c+=y}return""!==c&&l.push(c),l}static canBreakWords(s,l){return l}static canBreakChars(s,l,c,_,y){return!0}static wordWrapSplit(s){return m.graphemeSegmenter(s)}static measureFont(s){if(m._fonts[s])return m._fonts[s];const l={ascent:0,descent:0,fontSize:0},c=m._canvas,_=m._context;_.font=s;const y=m.METRICS_STRING+m.BASELINE_SYMBOL,v=Math.ceil(_.measureText(y).width);let T=Math.ceil(_.measureText(m.BASELINE_SYMBOL).width);const E=Math.ceil(m.HEIGHT_MULTIPLIER*T);if(T=T*m.BASELINE_MULTIPLIER|0,0===v||0===E)return m._fonts[s]=l,l;c.width=v,c.height=E,_.fillStyle="#f00",_.fillRect(0,0,v,E),_.font=s,_.textBaseline="alphabetic",_.fillStyle="#000",_.fillText(y,0,T);const S=_.getImageData(0,0,v,E).data,A=S.length,w=4*v;let P=0,O=0,C=!1;for(P=0;P<T;++P){for(let s=0;s<w;s+=4)if(255!==S[O+s]){C=!0;break}if(C)break;O+=w}for(l.ascent=T-P,O=A-w,C=!1,P=E;P>T;--P){for(let s=0;s<w;s+=4)if(255!==S[O+s]){C=!0;break}if(C)break;O-=w}return l.descent=P-T,l.fontSize=l.ascent+l.descent,m._fonts[s]=l,l}static clearMetrics(s=""){s?delete m._fonts[s]:m._fonts={}}static get _canvas(){if(!m.__canvas){let s;try{const l=new OffscreenCanvas(0,0),c=l.getContext("2d",y);if(c?.measureText)return m.__canvas=l,l;s=_.settings.ADAPTER.createCanvas()}catch(l){s=_.settings.ADAPTER.createCanvas()}s.width=s.height=10,m.__canvas=s}return m.__canvas}static get _context(){return m.__context||(m.__context=m._canvas.getContext("2d",y)),m.__context}};let v=m;v.METRICS_STRING="|ÉqÅ",v.BASELINE_SYMBOL="M",v.BASELINE_MULTIPLIER=1.4,v.HEIGHT_MULTIPLIER=2,v.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const s=new Intl.Segmenter;return l=>[...s.segment(l)].map((s=>s.segment))}return s=>[...s]})(),v.experimentalLetterSpacing=!1,v._fonts={},v._newlines=[10,13],v._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288],l.TextMetrics=v},38774:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(16016),y=c(48742);const m=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],v=class{constructor(s){this.styleID=0,this.reset(),deepCopyProperties(this,s,s)}clone(){const s={};return deepCopyProperties(s,this,v.defaultStyle),new v(s)}reset(){deepCopyProperties(this,v.defaultStyle,v.defaultStyle)}get align(){return this._align}set align(s){this._align!==s&&(this._align=s,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(s){this._breakWords!==s&&(this._breakWords=s,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(s){this._dropShadow!==s&&(this._dropShadow=s,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(s){this._dropShadowAlpha!==s&&(this._dropShadowAlpha=s,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(s){this._dropShadowAngle!==s&&(this._dropShadowAngle=s,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(s){this._dropShadowBlur!==s&&(this._dropShadowBlur=s,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(s){const l=getColor(s);this._dropShadowColor!==l&&(this._dropShadowColor=l,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(s){this._dropShadowDistance!==s&&(this._dropShadowDistance=s,this.styleID++)}get fill(){return this._fill}set fill(s){const l=getColor(s);this._fill!==l&&(this._fill=l,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(s){this._fillGradientType!==s&&(this._fillGradientType=s,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(s){(function areArraysEqual(s,l){if(!Array.isArray(s)||!Array.isArray(l))return!1;if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._fillGradientStops,s)||(this._fillGradientStops=s,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(s){this.fontFamily!==s&&(this._fontFamily=s,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(s){this._fontSize!==s&&(this._fontSize=s,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(s){this._fontStyle!==s&&(this._fontStyle=s,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(s){this._fontVariant!==s&&(this._fontVariant=s,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(s){this._fontWeight!==s&&(this._fontWeight=s,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(s){this._letterSpacing!==s&&(this._letterSpacing=s,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(s){this._lineHeight!==s&&(this._lineHeight=s,this.styleID++)}get leading(){return this._leading}set leading(s){this._leading!==s&&(this._leading=s,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(s){this._lineJoin!==s&&(this._lineJoin=s,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(s){this._miterLimit!==s&&(this._miterLimit=s,this.styleID++)}get padding(){return this._padding}set padding(s){this._padding!==s&&(this._padding=s,this.styleID++)}get stroke(){return this._stroke}set stroke(s){const l=getColor(s);this._stroke!==l&&(this._stroke=l,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(s){this._strokeThickness!==s&&(this._strokeThickness=s,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(s){this._textBaseline!==s&&(this._textBaseline=s,this.styleID++)}get trim(){return this._trim}set trim(s){this._trim!==s&&(this._trim=s,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(s){this._whiteSpace!==s&&(this._whiteSpace=s,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(s){this._wordWrap!==s&&(this._wordWrap=s,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(s){this._wordWrapWidth!==s&&(this._wordWrapWidth=s,this.styleID++)}toFontString(){const s="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let l=this.fontFamily;Array.isArray(this.fontFamily)||(l=this.fontFamily.split(","));for(let s=l.length-1;s>=0;s--){let c=l[s].trim();/([\"\'])[^\'\"]+\1/.test(c)||m.includes(c)||(c=`"${c}"`),l[s]=c}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${s} ${l.join(",")}`}};let T=v;function getColor(s){const l=y.Color.shared;return Array.isArray(s)?s.map((s=>l.setValue(s).toHex())):l.setValue(s).toHex()}function deepCopyProperties(s,l,c){for(const _ in c)Array.isArray(l[_])?s[_]=l[_].slice():s[_]=l[_]}T.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:_.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100},l.TextStyle=T},16016:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c=(s=>(s[s.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",s[s.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",s))(c||{});l.TEXT_GRADIENT=c},66338:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(16016),y=c(30448),m=c(75345),v=c(38774);l.TEXT_GRADIENT=_.TEXT_GRADIENT,l.Text=y.Text,l.TextMetrics=m.TextMetrics,l.TextStyle=v.TextStyle},91253:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(99699),y=c(80247);const m=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new y.TickerListener(null,null,1/0),this.deltaMS=1/m.targetFPMS,this.elapsedMS=1/m.targetFPMS,this._tick=s=>{this._requestId=null,this.started&&(this.update(s),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(s,l,c=_.UPDATE_PRIORITY.NORMAL){return this._addListener(new y.TickerListener(s,l,c))}addOnce(s,l,c=_.UPDATE_PRIORITY.NORMAL){return this._addListener(new y.TickerListener(s,l,c,!0))}_addListener(s){let l=this._head.next,c=this._head;if(l){for(;l;){if(s.priority>l.priority){s.connect(c);break}c=l,l=l.next}s.previous||s.connect(c)}else s.connect(c);return this._startIfPossible(),this}remove(s,l){let c=this._head.next;for(;c;)c=c.match(s,l)?c.destroy():c.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let s=0,l=this._head;for(;l=l.next;)s++;return s}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let s=this._head.next;for(;s;)s=s.destroy(!0);this._head.destroy(),this._head=null}}update(s=performance.now()){let l;if(s>this.lastTime){if(l=this.elapsedMS=s-this.lastTime,l>this._maxElapsedMS&&(l=this._maxElapsedMS),l*=this.speed,this._minElapsedMS){const l=s-this._lastFrame|0;if(l<this._minElapsedMS)return;this._lastFrame=s-l%this._minElapsedMS}this.deltaMS=l,this.deltaTime=this.deltaMS*m.targetFPMS;const c=this._head;let _=c.next;for(;_;)_=_.emit(this.deltaTime);c.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=s}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(s){const l=Math.min(this.maxFPS,s),c=Math.min(Math.max(0,l)/1e3,m.targetFPMS);this._maxElapsedMS=1/c}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(s){if(0===s)this._minElapsedMS=0;else{const l=Math.max(this.minFPS,s);this._minElapsedMS=1/(l/1e3)}}static get shared(){if(!m._shared){const s=m._shared=new m;s.autoStart=!0,s._protected=!0}return m._shared}static get system(){if(!m._system){const s=m._system=new m;s.autoStart=!0,s._protected=!0}return m._system}};let v=m;v.targetFPMS=.06,l.Ticker=v},80247:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.TickerListener=class TickerListener{constructor(s,l=null,c=0,_=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=s,this.context=l,this.priority=c,this.once=_}match(s,l=null){return this.fn===s&&this.context===l}emit(s){this.fn&&(this.context?this.fn.call(this.context,s):this.fn(s));const l=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),l}connect(s){this.previous=s,s.next&&(s.next.previous=this),this.next=s.next,s.next=this}destroy(s=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const l=this.next;return this.next=s?null:l,this.previous=null,l}}},43019:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(71648),y=c(99699),m=c(91253);class TickerPlugin{static init(s){s=Object.assign({autoStart:!0,sharedTicker:!1},s),Object.defineProperty(this,"ticker",{set(s){this._ticker&&this._ticker.remove(this.render,this),this._ticker=s,s&&s.add(this.render,this,y.UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=s.sharedTicker?m.Ticker.shared:new m.Ticker,s.autoStart&&this.start()}static destroy(){if(this._ticker){const s=this._ticker;this.ticker=null,s.destroy()}}}TickerPlugin.extension=_.ExtensionType.Application,_.extensions.add(TickerPlugin),l.TickerPlugin=TickerPlugin},99699:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(c||{});l.UPDATE_PRIORITY=c},36082:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(12819);var _=c(99699),y=c(91253),m=c(43019);l.UPDATE_PRIORITY=_.UPDATE_PRIORITY,l.Ticker=y.Ticker,l.TickerPlugin=m.TickerPlugin},12819:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82101),y=c(12191),m=c(91253);Object.defineProperties(_.settings,{TARGET_FPMS:{get:()=>m.Ticker.targetFPMS,set(s){y.deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),m.Ticker.targetFPMS=s}}}),Object.defineProperty(l,"settings",{enumerable:!0,get:function(){return _.settings}})},38944:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(78162);l.sayHello=function sayHello(){_.deprecation("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')},l.skipHello=function skipHello(){_.deprecation("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}},16358:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(70335);var _=c(82101);let y;l.isWebGLSupported=function isWebGLSupported(){return void 0===y&&(y=function supported2(){const s={stencil:!0,failIfMajorPerformanceCaveat:_.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!_.settings.ADAPTER.getWebGLRenderingContext())return!1;const l=_.settings.ADAPTER.createCanvas();let c=l.getContext("webgl",s)||l.getContext("experimental-webgl",s);const y=!!c?.getContextAttributes()?.stencil;if(c){const s=c.getExtension("WEBGL_lose_context");s&&s.loseContext()}return c=null,y}catch(s){return!1}}()),y}},6165:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(1122),y=c(78162);l.hex2rgb=function hex2rgb(s,l=[]){return y.deprecation("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),_.Color.shared.setValue(s).toRgbArray(l)},l.hex2string=function hex2string(s){return y.deprecation("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),_.Color.shared.setValue(s).toHex()},l.rgb2hex=function rgb2hex(s){return y.deprecation("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),_.Color.shared.setValue(s).toNumber()},l.string2hex=function string2hex(s){return y.deprecation("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),_.Color.shared.setValue(s).toNumber()}},61469:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(1122),y=c(57616),m=c(78162);const v=function mapPremultipliedBlendModes(){const s=[],l=[];for(let c=0;c<32;c++)s[c]=c,l[c]=c;s[y.BLEND_MODES.NORMAL_NPM]=y.BLEND_MODES.NORMAL,s[y.BLEND_MODES.ADD_NPM]=y.BLEND_MODES.ADD,s[y.BLEND_MODES.SCREEN_NPM]=y.BLEND_MODES.SCREEN,l[y.BLEND_MODES.NORMAL]=y.BLEND_MODES.NORMAL_NPM,l[y.BLEND_MODES.ADD]=y.BLEND_MODES.ADD_NPM,l[y.BLEND_MODES.SCREEN]=y.BLEND_MODES.SCREEN_NPM;const c=[];return c.push(l),c.push(s),c}();l.correctBlendMode=function correctBlendMode(s,l){return v[l?1:0][s]},l.premultiplyBlendMode=v,l.premultiplyRgba=function premultiplyRgba(s,l,c,y=!0){return m.deprecation("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),_.Color.shared.setValue(s).premultiply(l,y).toArray(c??new Float32Array(4))},l.premultiplyTint=function premultiplyTint(s,l){return m.deprecation("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),_.Color.shared.setValue(s).toPremultiplied(l)},l.premultiplyTintToRgba=function premultiplyTintToRgba(s,l,c,y=!0){return m.deprecation("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),_.Color.shared.setValue(s).premultiply(l,y).toArray(c??new Float32Array(4))}},91988:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i},37154:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.createIndicesForQuads=function createIndicesForQuads(s,l=null){const c=6*s;if((l=l||new Uint16Array(c)).length!==c)throw new Error(`Out buffer length is incorrect, got ${l.length} and expected ${c}`);for(let s=0,_=0;s<c;s+=6,_+=4)l[s+0]=_+0,l[s+1]=_+1,l[s+2]=_+2,l[s+3]=_+0,l[s+4]=_+2,l[s+5]=_+3;return l}},15668:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.getBufferType=function getBufferType(s){if(4===s.BYTES_PER_ELEMENT)return s instanceof Float32Array?"Float32Array":s instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===s.BYTES_PER_ELEMENT){if(s instanceof Uint16Array)return"Uint16Array"}else if(1===s.BYTES_PER_ELEMENT&&s instanceof Uint8Array)return"Uint8Array";return null}},89530:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(15668);const y={Float32Array,Uint32Array,Int32Array,Uint8Array};l.interleaveTypedArrays=function interleaveTypedArrays(s,l){let c=0,m=0;const v={};for(let _=0;_<s.length;_++)m+=l[_],c+=s[_].length;const T=new ArrayBuffer(4*c);let E=null,S=0;for(let c=0;c<s.length;c++){const A=l[c],w=s[c],P=_.getBufferType(w);v[P]||(v[P]=new y[P](T)),E=v[P];for(let s=0;s<w.length;s++){E[(s/A|0)*m+S+s%A]=w[s]}S+=A}return new Float32Array(T)}},55919:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isPow2=function isPow2(s){return!(s&s-1||!s)},l.log2=function log2(s){let l=(s>65535?1:0)<<4,c=((s>>>=l)>255?1:0)<<3;return l|=c,c=((s>>>=c)>15?1:0)<<2,l|=c,c=((s>>>=c)>3?1:0)<<1,l|=c,l|(s>>>=c)>>1},l.nextPow2=function nextPow2(s){return s+=0===s?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,(s|=s>>>16)+1}},23582:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.removeItems=function removeItems(s,l,c){const _=s.length;let y;if(l>=_||0===c)return;const m=_-(c=l+c>_?_-l:c);for(y=l;y<m;++y)s[y]=s[y+c];s.length=m}},91815:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.sign=function sign(s){return 0===s?0:s<0?-1:1}},46066:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=0;l.uid=function uid(){return++c}},12191:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(70335);var _=c(82101),y=c(26729),m=c(9187),v=c(41913),T=c(1087),E=c(38944),S=c(16358),A=c(6165),w=c(61469),P=c(91988),O=c(37154),C=c(15668),R=c(89530),L=c(55919),D=c(23582),B=c(91815),F=c(46066),k=c(78162),U=c(42114),G=c(91635),V=c(78260),W=c(58217),z=c(3889),X=c(3424),Y=c(37570),$=c(15197);function _interopDefaultLegacy(s){return s&&"object"==typeof s&&"default"in s?s:{default:s}}c(17090);var q=_interopDefaultLegacy(y),K=_interopDefaultLegacy(m);Object.defineProperty(l,"isMobile",{enumerable:!0,get:function(){return _.isMobile}}),Object.defineProperty(l,"EventEmitter",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(l,"earcut",{enumerable:!0,get:function(){return K.default}}),l.url=v.url,l.path=T.path,l.sayHello=E.sayHello,l.skipHello=E.skipHello,l.isWebGLSupported=S.isWebGLSupported,l.hex2rgb=A.hex2rgb,l.hex2string=A.hex2string,l.rgb2hex=A.rgb2hex,l.string2hex=A.string2hex,l.correctBlendMode=w.correctBlendMode,l.premultiplyBlendMode=w.premultiplyBlendMode,l.premultiplyRgba=w.premultiplyRgba,l.premultiplyTint=w.premultiplyTint,l.premultiplyTintToRgba=w.premultiplyTintToRgba,l.DATA_URI=P.DATA_URI,l.createIndicesForQuads=O.createIndicesForQuads,l.getBufferType=C.getBufferType,l.interleaveTypedArrays=R.interleaveTypedArrays,l.isPow2=L.isPow2,l.log2=L.log2,l.nextPow2=L.nextPow2,l.removeItems=D.removeItems,l.sign=B.sign,l.uid=F.uid,l.deprecation=k.deprecation,l.BoundingBox=U.BoundingBox,l.BaseTextureCache=G.BaseTextureCache,l.ProgramCache=G.ProgramCache,l.TextureCache=G.TextureCache,l.clearTextureCache=G.clearTextureCache,l.destroyTextureCache=G.destroyTextureCache,l.CanvasRenderTarget=V.CanvasRenderTarget,l.getCanvasBoundingBox=W.getCanvasBoundingBox,l.trimCanvas=z.trimCanvas,l.decomposeDataUri=X.decomposeDataUri,l.determineCrossOrigin=Y.determineCrossOrigin,l.getResolutionOfUrl=$.getResolutionOfUrl},78162:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c={};l.deprecation=function deprecation(s,l,_=3){if(c[l])return;let y=(new Error).stack;void 0===y?console.warn("PixiJS Deprecation Warning: ",`${l}\nDeprecated since v${s}`):(y=y.split("\n").splice(_).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${l}\nDeprecated since v${s}`),console.warn(y),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${l}\nDeprecated since v${s}`),console.warn(y))),c[l]=!0}},42114:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=class{constructor(s,l,c,_){this.left=s,this.top=l,this.right=c,this.bottom=_}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let _=c;_.EMPTY=new c(0,0,0,0),l.BoundingBox=_},78260:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82101);l.CanvasRenderTarget=class CanvasRenderTarget{constructor(s,l,c){this._canvas=_.settings.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=c||_.settings.RESOLUTION,this.resize(s,l)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(s,l){this._checkDestroyed(),this._canvas.width=Math.round(s*this.resolution),this._canvas.height=Math.round(l*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(s){this._checkDestroyed(),this._canvas.width=Math.round(s)}get height(){return this._checkDestroyed(),this._canvas.height}set height(s){this._checkDestroyed(),this._canvas.height=Math.round(s)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}},91635:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=Object.create(null),_=Object.create(null);l.BaseTextureCache=_,l.ProgramCache={},l.TextureCache=c,l.clearTextureCache=function clearTextureCache(){let s;for(s in c)delete c[s];for(s in _)delete _[s]},l.destroyTextureCache=function destroyTextureCache(){let s;for(s in c)c[s].destroy();for(s in _)_[s].destroy()}},58217:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(42114);function checkRow(s,l,c){for(let _=0,y=4*c*l;_<l;++_,y+=4)if(0!==s[y+3])return!1;return!0}function checkColumn(s,l,c,_,y){const m=4*l;for(let l=_,v=_*m+4*c;l<=y;++l,v+=m)if(0!==s[v+3])return!1;return!0}l.getCanvasBoundingBox=function getCanvasBoundingBox(s){const{width:l,height:c}=s,y=s.getContext("2d",{willReadFrequently:!0});if(null===y)throw new TypeError("Failed to get canvas 2D context");const m=y.getImageData(0,0,l,c).data;let v=0,T=0,E=l-1,S=c-1;for(;T<c&&checkRow(m,l,T);)++T;if(T===c)return _.BoundingBox.EMPTY;for(;checkRow(m,l,S);)--S;for(;checkColumn(m,l,v,T,S);)++v;for(;checkColumn(m,l,E,T,S);)--E;return++E,++S,new _.BoundingBox(v,T,E,S)}},3889:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(58217);l.trimCanvas=function trimCanvas(s){const l=_.getCanvasBoundingBox(s),{width:c,height:y}=l;let m=null;if(!l.isEmpty()){const _=s.getContext("2d");if(null===_)throw new TypeError("Failed to get canvas 2D context");m=_.getImageData(l.left,l.top,c,y)}return{width:c,height:y,data:m}}},3424:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(91988);l.decomposeDataUri=function decomposeDataUri(s){const l=_.DATA_URI.exec(s);if(l)return{mediaType:l[1]?l[1].toLowerCase():void 0,subType:l[2]?l[2].toLowerCase():void 0,charset:l[3]?l[3].toLowerCase():void 0,encoding:l[4]?l[4].toLowerCase():void 0,data:l[5]}}},37570:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(41913);let y;l.determineCrossOrigin=function determineCrossOrigin(s,l=globalThis.location){if(s.startsWith("data:"))return"";l=l||globalThis.location,y||(y=document.createElement("a")),y.href=s;const c=_.url.parse(y.href),m=!c.port&&""===l.port||c.port===l.port;return c.hostname===l.hostname&&m&&c.protocol===l.protocol?"":"anonymous"}},15197:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(70335);var _=c(82101);l.getResolutionOfUrl=function getResolutionOfUrl(s,l=1){const c=_.settings.RETINA_PREFIX?.exec(s);return c?parseFloat(c[1]):l}},1087:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82101);function assertPath(s){if("string"!=typeof s)throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function removeUrlParams(s){return s.split("?")[0].split("#")[0]}const y={toPosix:s=>function replaceAll(s,l,c){return s.replace(new RegExp(function escapeRegExp(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(l),"g"),c)}(s,"\\","/"),isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl:s=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s),hasProtocol(s){return/^[^/:]+:\//.test(this.toPosix(s))},getProtocol(s){assertPath(s),s=this.toPosix(s);let l="";const c=/^file:\/\/\//.exec(s),_=/^[^/:]+:\/\//.exec(s),y=/^[^/:]+:\//.exec(s);if(c||_||y){const m=c?.[0]||_?.[0]||y?.[0];l=m,s=s.slice(m.length)}return l},toAbsolute(s,l,c){if(this.isDataUrl(s))return s;const m=removeUrlParams(this.toPosix(l??_.settings.ADAPTER.getBaseUrl())),v=removeUrlParams(this.toPosix(c??this.rootname(m)));if(assertPath(s),(s=this.toPosix(s)).startsWith("/"))return y.join(v,s.slice(1));return this.isAbsolute(s)?s:this.join(m,s)},normalize(s){if(assertPath(s=this.toPosix(s)),0===s.length)return".";let l="";const c=s.startsWith("/");this.hasProtocol(s)&&(l=this.rootname(s),s=s.slice(l.length));const _=s.endsWith("/");return(s=function normalizeStringPosix(s,l){let c="",_=0,y=-1,m=0,v=-1;for(let T=0;T<=s.length;++T){if(T<s.length)v=s.charCodeAt(T);else{if(47===v)break;v=47}if(47===v){if(y===T-1||1===m);else if(y!==T-1&&2===m){if(c.length<2||2!==_||46!==c.charCodeAt(c.length-1)||46!==c.charCodeAt(c.length-2))if(c.length>2){const s=c.lastIndexOf("/");if(s!==c.length-1){-1===s?(c="",_=0):(c=c.slice(0,s),_=c.length-1-c.lastIndexOf("/")),y=T,m=0;continue}}else if(2===c.length||1===c.length){c="",_=0,y=T,m=0;continue}l&&(c.length>0?c+="/..":c="..",_=2)}else c.length>0?c+=`/${s.slice(y+1,T)}`:c=s.slice(y+1,T),_=T-y-1;y=T,m=0}else 46===v&&-1!==m?++m:m=-1}return c}(s,!1)).length>0&&_&&(s+="/"),c?`/${s}`:l+s},isAbsolute(s){return assertPath(s),s=this.toPosix(s),!!this.hasProtocol(s)||s.startsWith("/")},join(...s){if(0===s.length)return".";let l;for(let c=0;c<s.length;++c){const _=s[c];if(assertPath(_),_.length>0)if(void 0===l)l=_;else{const y=s[c-1]??"";this.extname(y)?l+=`/../${_}`:l+=`/${_}`}}return void 0===l?".":this.normalize(l)},dirname(s){if(assertPath(s),0===s.length)return".";let l=(s=this.toPosix(s)).charCodeAt(0);const c=47===l;let _=-1,y=!0;const m=this.getProtocol(s),v=s;for(let c=(s=s.slice(m.length)).length-1;c>=1;--c)if(l=s.charCodeAt(c),47===l){if(!y){_=c;break}}else y=!1;return-1===_?c?"/":this.isUrl(v)?m+s:m:c&&1===_?"//":m+s.slice(0,_)},rootname(s){assertPath(s);let l="";if(l=(s=this.toPosix(s)).startsWith("/")?"/":this.getProtocol(s),this.isUrl(s)){const c=s.indexOf("/",l.length);l=-1!==c?s.slice(0,c):s,l.endsWith("/")||(l+="/")}return l},basename(s,l){assertPath(s),l&&assertPath(l),s=removeUrlParams(this.toPosix(s));let c,_=0,y=-1,m=!0;if(void 0!==l&&l.length>0&&l.length<=s.length){if(l.length===s.length&&l===s)return"";let v=l.length-1,T=-1;for(c=s.length-1;c>=0;--c){const E=s.charCodeAt(c);if(47===E){if(!m){_=c+1;break}}else-1===T&&(m=!1,T=c+1),v>=0&&(E===l.charCodeAt(v)?-1==--v&&(y=c):(v=-1,y=T))}return _===y?y=T:-1===y&&(y=s.length),s.slice(_,y)}for(c=s.length-1;c>=0;--c)if(47===s.charCodeAt(c)){if(!m){_=c+1;break}}else-1===y&&(m=!1,y=c+1);return-1===y?"":s.slice(_,y)},extname(s){assertPath(s);let l=-1,c=0,_=-1,y=!0,m=0;for(let v=(s=removeUrlParams(this.toPosix(s))).length-1;v>=0;--v){const T=s.charCodeAt(v);if(47!==T)-1===_&&(y=!1,_=v+1),46===T?-1===l?l=v:1!==m&&(m=1):-1!==l&&(m=-1);else if(!y){c=v+1;break}}return-1===l||-1===_||0===m||1===m&&l===_-1&&l===c+1?"":s.slice(l,_)},parse(s){assertPath(s);const l={root:"",dir:"",base:"",ext:"",name:""};if(0===s.length)return l;let c=(s=removeUrlParams(this.toPosix(s))).charCodeAt(0);const _=this.isAbsolute(s);let y;l.root=this.rootname(s),y=_||this.hasProtocol(s)?1:0;let m=-1,v=0,T=-1,E=!0,S=s.length-1,A=0;for(;S>=y;--S)if(c=s.charCodeAt(S),47!==c)-1===T&&(E=!1,T=S+1),46===c?-1===m?m=S:1!==A&&(A=1):-1!==m&&(A=-1);else if(!E){v=S+1;break}return-1===m||-1===T||0===A||1===A&&m===T-1&&m===v+1?-1!==T&&(l.base=l.name=0===v&&_?s.slice(1,T):s.slice(v,T)):(0===v&&_?(l.name=s.slice(1,m),l.base=s.slice(1,T)):(l.name=s.slice(v,m),l.base=s.slice(v,T)),l.ext=s.slice(m,T)),l.dir=this.dirname(s),l},sep:"/",delimiter:":"};l.path=y},70335:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(82101);_.settings.RETINA_PREFIX=/@([0-9\.]+)x/,_.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,Object.defineProperty(l,"settings",{enumerable:!0,get:function(){return _.settings}})},17090:()=>{},41913:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(8575);const y={parse:_.parse,format:_.format,resolve:_.resolve};l.url=y},21924:(s,l,c)=>{"use strict";var _=c(40210),y=c(55559),m=y(_("String.prototype.indexOf"));s.exports=function callBoundIntrinsic(s,l){var c=_(s,!!l);return"function"==typeof c&&m(s,".prototype.")>-1?y(c):c}},55559:(s,l,c)=>{"use strict";var _=c(58612),y=c(40210),m=y("%Function.prototype.apply%"),v=y("%Function.prototype.call%"),T=y("%Reflect.apply%",!0)||_.call(v,m),E=y("%Object.getOwnPropertyDescriptor%",!0),S=y("%Object.defineProperty%",!0),A=y("%Math.max%");if(S)try{S({},"a",{value:1})}catch(s){S=null}s.exports=function callBind(s){var l=T(_,v,arguments);E&&S&&(E(l,"length").configurable&&S(l,"length",{value:1+A(0,s.length-(arguments.length-1))}));return l};var w=function applyBind(){return T(_,m,arguments)};S?S(s.exports,"apply",{value:w}):s.exports.apply=w},96872:(s,l)=>{Object.defineProperty(l,"__esModule",{value:!0});var c={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(s){return"string"==typeof s?s.length>0:"number"==typeof s},n=function(s,l,c){return void 0===l&&(l=0),void 0===c&&(c=Math.pow(10,l)),Math.round(c*s)/c+0},e=function(s,l,c){return void 0===l&&(l=0),void 0===c&&(c=1),s>c?c:s>l?s:l},u=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},o=function(s){return{r:e(s.r,0,255),g:e(s.g,0,255),b:e(s.b,0,255),a:e(s.a)}},a=function(s){return{r:n(s.r),g:n(s.g),b:n(s.b),a:n(s.a,3)}},_=/^#([0-9a-f]{3,8})$/i,i=function(s){var l=s.toString(16);return l.length<2?"0"+l:l},h=function(s){var l=s.r,c=s.g,_=s.b,y=s.a,m=Math.max(l,c,_),v=m-Math.min(l,c,_),T=v?m===l?(c-_)/v:m===c?2+(_-l)/v:4+(l-c)/v:0;return{h:60*(T<0?T+6:T),s:m?v/m*100:0,v:m/255*100,a:y}},b=function(s){var l=s.h,c=s.s,_=s.v,y=s.a;l=l/360*6,c/=100,_/=100;var m=Math.floor(l),v=_*(1-c),T=_*(1-(l-m)*c),E=_*(1-(1-l+m)*c),S=m%6;return{r:255*[_,T,v,v,E,_][S],g:255*[E,_,_,T,v,v][S],b:255*[v,v,E,_,_,T][S],a:y}},d=function(s){return{h:u(s.h),s:e(s.s,0,100),l:e(s.l,0,100),a:e(s.a)}},g=function(s){return{h:n(s.h),s:n(s.s),l:n(s.l),a:n(s.a,3)}},f=function(s){return b((c=(l=s).s,{h:l.h,s:(c*=((_=l.l)<50?_:100-_)/100)>0?2*c/(_+c)*100:0,v:_+c,a:l.a}));var l,c,_},p=function(s){return{h:(l=h(s)).h,s:(y=(200-(c=l.s))*(_=l.v)/100)>0&&y<200?c*_/100/(y<=100?y:200-y)*100:0,l:y/2,a:l.a};var l,c,_,y},y=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,T=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,E={string:[[function(s){var l=_.exec(s);return l?(s=l[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:4===s.length?n(parseInt(s[3]+s[3],16)/255,2):1}:6===s.length||8===s.length?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:8===s.length?n(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var l=v.exec(s)||T.exec(s);return l?l[2]!==l[4]||l[4]!==l[6]?null:o({r:Number(l[1])/(l[2]?100/255:1),g:Number(l[3])/(l[4]?100/255:1),b:Number(l[5])/(l[6]?100/255:1),a:void 0===l[7]?1:Number(l[7])/(l[8]?100:1)}):null},"rgb"],[function(s){var l=y.exec(s)||m.exec(s);if(!l)return null;var _,v,T=d({h:(_=l[1],v=l[2],void 0===v&&(v="deg"),Number(_)*(c[v]||1)),s:Number(l[3]),l:Number(l[4]),a:void 0===l[5]?1:Number(l[5])/(l[6]?100:1)});return f(T)},"hsl"]],object:[[function(s){var l=s.r,c=s.g,_=s.b,y=s.a,m=void 0===y?1:y;return t(l)&&t(c)&&t(_)?o({r:Number(l),g:Number(c),b:Number(_),a:Number(m)}):null},"rgb"],[function(s){var l=s.h,c=s.s,_=s.l,y=s.a,m=void 0===y?1:y;if(!t(l)||!t(c)||!t(_))return null;var v=d({h:Number(l),s:Number(c),l:Number(_),a:Number(m)});return f(v)},"hsl"],[function(s){var l=s.h,c=s.s,_=s.v,y=s.a,m=void 0===y?1:y;if(!t(l)||!t(c)||!t(_))return null;var v=function(s){return{h:u(s.h),s:e(s.s,0,100),v:e(s.v,0,100),a:e(s.a)}}({h:Number(l),s:Number(c),v:Number(_),a:Number(m)});return b(v)},"hsv"]]},N=function(s,l){for(var c=0;c<l.length;c++){var _=l[c][0](s);if(_)return[_,l[c][1]]}return[null,void 0]},x=function(s){return"string"==typeof s?N(s.trim(),E.string):"object"==typeof s&&null!==s?N(s,E.object):[null,void 0]},M=function(s,l){var c=p(s);return{h:c.h,s:e(c.s+100*l,0,100),l:c.l,a:c.a}},I=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},H=function(s,l){var c=p(s);return{h:c.h,s:c.s,l:e(c.l+100*l,0,100),a:c.a}},S=function(){function r(s){this.parsed=x(s)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(I(this.rgba),2)},r.prototype.isDark=function(){return I(this.rgba)<.5},r.prototype.isLight=function(){return I(this.rgba)>=.5},r.prototype.toHex=function(){return l=(s=a(this.rgba)).r,c=s.g,_=s.b,m=(y=s.a)<1?i(n(255*y)):"","#"+i(l)+i(c)+i(_)+m;var s,l,c,_,y,m},r.prototype.toRgb=function(){return a(this.rgba)},r.prototype.toRgbString=function(){return l=(s=a(this.rgba)).r,c=s.g,_=s.b,(y=s.a)<1?"rgba("+l+", "+c+", "+_+", "+y+")":"rgb("+l+", "+c+", "+_+")";var s,l,c,_,y},r.prototype.toHsl=function(){return g(p(this.rgba))},r.prototype.toHslString=function(){return l=(s=g(p(this.rgba))).h,c=s.s,_=s.l,(y=s.a)<1?"hsla("+l+", "+c+"%, "+_+"%, "+y+")":"hsl("+l+", "+c+"%, "+_+"%)";var s,l,c,_,y},r.prototype.toHsv=function(){return s=h(this.rgba),{h:n(s.h),s:n(s.s),v:n(s.v),a:n(s.a,3)};var s},r.prototype.invert=function(){return j({r:255-(s=this.rgba).r,g:255-s.g,b:255-s.b,a:s.a});var s},r.prototype.saturate=function(s){return void 0===s&&(s=.1),j(M(this.rgba,s))},r.prototype.desaturate=function(s){return void 0===s&&(s=.1),j(M(this.rgba,-s))},r.prototype.grayscale=function(){return j(M(this.rgba,-1))},r.prototype.lighten=function(s){return void 0===s&&(s=.1),j(H(this.rgba,s))},r.prototype.darken=function(s){return void 0===s&&(s=.1),j(H(this.rgba,-s))},r.prototype.rotate=function(s){return void 0===s&&(s=15),this.hue(this.hue()+s)},r.prototype.alpha=function(s){return"number"==typeof s?j({r:(l=this.rgba).r,g:l.g,b:l.b,a:s}):n(this.rgba.a,3);var l},r.prototype.hue=function(s){var l=p(this.rgba);return"number"==typeof s?j({h:s,s:l.s,l:l.l,a:l.a}):n(l.h)},r.prototype.isEqual=function(s){return this.toHex()===j(s).toHex()},r}(),j=function(s){return s instanceof S?s:new S(s)},A=[];l.Colord=S,l.colord=j,l.extend=function(s){s.forEach((function(s){A.indexOf(s)<0&&(s(S,E),A.push(s))}))},l.getFormat=function(s){return x(s)[1]},l.random=function(){return new S({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},12121:s=>{s.exports=function(s,l){var c={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},_={};for(var y in c)_[c[y]]=y;var m={};s.prototype.toName=function(l){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var y,v,T=_[this.toHex()];if(T)return T;if(null==l?void 0:l.closest){var E=this.toRgb(),S=1/0,A="black";if(!m.length)for(var w in c)m[w]=new s(c[w]).toRgb();for(var P in c){var O=(y=E,v=m[P],Math.pow(y.r-v.r,2)+Math.pow(y.g-v.g,2)+Math.pow(y.b-v.b,2));O<S&&(S=O,A=P)}return A}},l.string.push([function(l){var _=l.toLowerCase(),y="transparent"===_?"#0000":c[_];return y?new s(y).toRgb():null},"name"])}},9187:s=>{"use strict";function earcut(s,l,c){c=c||2;var _,y,m,v,T,E,S,A=l&&l.length,w=A?l[0]*c:s.length,P=linkedList(s,0,w,c,!0),O=[];if(!P||P.next===P.prev)return O;if(A&&(P=function eliminateHoles(s,l,c,_){var y,m,v,T=[];for(y=0,m=l.length;y<m;y++)(v=linkedList(s,l[y]*_,y<m-1?l[y+1]*_:s.length,_,!1))===v.next&&(v.steiner=!0),T.push(getLeftmost(v));for(T.sort(compareX),y=0;y<T.length;y++)c=eliminateHole(T[y],c);return c}(s,l,P,c)),s.length>80*c){_=m=s[0],y=v=s[1];for(var C=c;C<w;C+=c)(T=s[C])<_&&(_=T),(E=s[C+1])<y&&(y=E),T>m&&(m=T),E>v&&(v=E);S=0!==(S=Math.max(m-_,v-y))?32767/S:0}return earcutLinked(P,O,c,_,y,S,0),O}function linkedList(s,l,c,_,y){var m,v;if(y===signedArea(s,l,c,_)>0)for(m=l;m<c;m+=_)v=insertNode(m,s[m],s[m+1],v);else for(m=c-_;m>=l;m-=_)v=insertNode(m,s[m],s[m+1],v);return v&&equals(v,v.next)&&(removeNode(v),v=v.next),v}function filterPoints(s,l){if(!s)return s;l||(l=s);var c,_=s;do{if(c=!1,_.steiner||!equals(_,_.next)&&0!==area(_.prev,_,_.next))_=_.next;else{if(removeNode(_),(_=l=_.prev)===_.next)break;c=!0}}while(c||_!==l);return l}function earcutLinked(s,l,c,_,y,m,v){if(s){!v&&m&&function indexCurve(s,l,c,_){var y=s;do{0===y.z&&(y.z=zOrder(y.x,y.y,l,c,_)),y.prevZ=y.prev,y.nextZ=y.next,y=y.next}while(y!==s);y.prevZ.nextZ=null,y.prevZ=null,function sortLinked(s){var l,c,_,y,m,v,T,E,S=1;do{for(c=s,s=null,m=null,v=0;c;){for(v++,_=c,T=0,l=0;l<S&&(T++,_=_.nextZ);l++);for(E=S;T>0||E>0&&_;)0!==T&&(0===E||!_||c.z<=_.z)?(y=c,c=c.nextZ,T--):(y=_,_=_.nextZ,E--),m?m.nextZ=y:s=y,y.prevZ=m,m=y;c=_}m.nextZ=null,S*=2}while(v>1);return s}(y)}(s,_,y,m);for(var T,E,S=s;s.prev!==s.next;)if(T=s.prev,E=s.next,m?isEarHashed(s,_,y,m):isEar(s))l.push(T.i/c|0),l.push(s.i/c|0),l.push(E.i/c|0),removeNode(s),s=E.next,S=E.next;else if((s=E)===S){v?1===v?earcutLinked(s=cureLocalIntersections(filterPoints(s),l,c),l,c,_,y,m,2):2===v&&splitEarcut(s,l,c,_,y,m):earcutLinked(filterPoints(s),l,c,_,y,m,1);break}}}function isEar(s){var l=s.prev,c=s,_=s.next;if(area(l,c,_)>=0)return!1;for(var y=l.x,m=c.x,v=_.x,T=l.y,E=c.y,S=_.y,A=y<m?y<v?y:v:m<v?m:v,w=T<E?T<S?T:S:E<S?E:S,P=y>m?y>v?y:v:m>v?m:v,O=T>E?T>S?T:S:E>S?E:S,C=_.next;C!==l;){if(C.x>=A&&C.x<=P&&C.y>=w&&C.y<=O&&pointInTriangle(y,T,m,E,v,S,C.x,C.y)&&area(C.prev,C,C.next)>=0)return!1;C=C.next}return!0}function isEarHashed(s,l,c,_){var y=s.prev,m=s,v=s.next;if(area(y,m,v)>=0)return!1;for(var T=y.x,E=m.x,S=v.x,A=y.y,w=m.y,P=v.y,O=T<E?T<S?T:S:E<S?E:S,C=A<w?A<P?A:P:w<P?w:P,R=T>E?T>S?T:S:E>S?E:S,L=A>w?A>P?A:P:w>P?w:P,D=zOrder(O,C,l,c,_),B=zOrder(R,L,l,c,_),F=s.prevZ,k=s.nextZ;F&&F.z>=D&&k&&k.z<=B;){if(F.x>=O&&F.x<=R&&F.y>=C&&F.y<=L&&F!==y&&F!==v&&pointInTriangle(T,A,E,w,S,P,F.x,F.y)&&area(F.prev,F,F.next)>=0)return!1;if(F=F.prevZ,k.x>=O&&k.x<=R&&k.y>=C&&k.y<=L&&k!==y&&k!==v&&pointInTriangle(T,A,E,w,S,P,k.x,k.y)&&area(k.prev,k,k.next)>=0)return!1;k=k.nextZ}for(;F&&F.z>=D;){if(F.x>=O&&F.x<=R&&F.y>=C&&F.y<=L&&F!==y&&F!==v&&pointInTriangle(T,A,E,w,S,P,F.x,F.y)&&area(F.prev,F,F.next)>=0)return!1;F=F.prevZ}for(;k&&k.z<=B;){if(k.x>=O&&k.x<=R&&k.y>=C&&k.y<=L&&k!==y&&k!==v&&pointInTriangle(T,A,E,w,S,P,k.x,k.y)&&area(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function cureLocalIntersections(s,l,c){var _=s;do{var y=_.prev,m=_.next.next;!equals(y,m)&&intersects(y,_,_.next,m)&&locallyInside(y,m)&&locallyInside(m,y)&&(l.push(y.i/c|0),l.push(_.i/c|0),l.push(m.i/c|0),removeNode(_),removeNode(_.next),_=s=m),_=_.next}while(_!==s);return filterPoints(_)}function splitEarcut(s,l,c,_,y,m){var v=s;do{for(var T=v.next.next;T!==v.prev;){if(v.i!==T.i&&isValidDiagonal(v,T)){var E=splitPolygon(v,T);return v=filterPoints(v,v.next),E=filterPoints(E,E.next),earcutLinked(v,l,c,_,y,m,0),void earcutLinked(E,l,c,_,y,m,0)}T=T.next}v=v.next}while(v!==s)}function compareX(s,l){return s.x-l.x}function eliminateHole(s,l){var c=function findHoleBridge(s,l){var c,_=l,y=s.x,m=s.y,v=-1/0;do{if(m<=_.y&&m>=_.next.y&&_.next.y!==_.y){var T=_.x+(m-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(T<=y&&T>v&&(v=T,c=_.x<_.next.x?_:_.next,T===y))return c}_=_.next}while(_!==l);if(!c)return null;var E,S=c,A=c.x,w=c.y,P=1/0;_=c;do{y>=_.x&&_.x>=A&&y!==_.x&&pointInTriangle(m<w?y:v,m,A,w,m<w?v:y,m,_.x,_.y)&&(E=Math.abs(m-_.y)/(y-_.x),locallyInside(_,s)&&(E<P||E===P&&(_.x>c.x||_.x===c.x&&sectorContainsSector(c,_)))&&(c=_,P=E)),_=_.next}while(_!==S);return c}(s,l);if(!c)return l;var _=splitPolygon(c,s);return filterPoints(_,_.next),filterPoints(c,c.next)}function sectorContainsSector(s,l){return area(s.prev,s,l.prev)<0&&area(l.next,s,s.next)<0}function zOrder(s,l,c,_,y){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-c)*y|0)|s<<8))|s<<4))|s<<2))|s<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-_)*y|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function getLeftmost(s){var l=s,c=s;do{(l.x<c.x||l.x===c.x&&l.y<c.y)&&(c=l),l=l.next}while(l!==s);return c}function pointInTriangle(s,l,c,_,y,m,v,T){return(y-v)*(l-T)>=(s-v)*(m-T)&&(s-v)*(_-T)>=(c-v)*(l-T)&&(c-v)*(m-T)>=(y-v)*(_-T)}function isValidDiagonal(s,l){return s.next.i!==l.i&&s.prev.i!==l.i&&!function intersectsPolygon(s,l){var c=s;do{if(c.i!==s.i&&c.next.i!==s.i&&c.i!==l.i&&c.next.i!==l.i&&intersects(c,c.next,s,l))return!0;c=c.next}while(c!==s);return!1}(s,l)&&(locallyInside(s,l)&&locallyInside(l,s)&&function middleInside(s,l){var c=s,_=!1,y=(s.x+l.x)/2,m=(s.y+l.y)/2;do{c.y>m!=c.next.y>m&&c.next.y!==c.y&&y<(c.next.x-c.x)*(m-c.y)/(c.next.y-c.y)+c.x&&(_=!_),c=c.next}while(c!==s);return _}(s,l)&&(area(s.prev,s,l.prev)||area(s,l.prev,l))||equals(s,l)&&area(s.prev,s,s.next)>0&&area(l.prev,l,l.next)>0)}function area(s,l,c){return(l.y-s.y)*(c.x-l.x)-(l.x-s.x)*(c.y-l.y)}function equals(s,l){return s.x===l.x&&s.y===l.y}function intersects(s,l,c,_){var y=sign(area(s,l,c)),m=sign(area(s,l,_)),v=sign(area(c,_,s)),T=sign(area(c,_,l));return y!==m&&v!==T||(!(0!==y||!onSegment(s,c,l))||(!(0!==m||!onSegment(s,_,l))||(!(0!==v||!onSegment(c,s,_))||!(0!==T||!onSegment(c,l,_)))))}function onSegment(s,l,c){return l.x<=Math.max(s.x,c.x)&&l.x>=Math.min(s.x,c.x)&&l.y<=Math.max(s.y,c.y)&&l.y>=Math.min(s.y,c.y)}function sign(s){return s>0?1:s<0?-1:0}function locallyInside(s,l){return area(s.prev,s,s.next)<0?area(s,l,s.next)>=0&&area(s,s.prev,l)>=0:area(s,l,s.prev)<0||area(s,s.next,l)<0}function splitPolygon(s,l){var c=new Node(s.i,s.x,s.y),_=new Node(l.i,l.x,l.y),y=s.next,m=l.prev;return s.next=l,l.prev=s,c.next=y,y.prev=c,_.next=c,c.prev=_,m.next=_,_.prev=m,_}function insertNode(s,l,c,_){var y=new Node(s,l,c);return _?(y.next=_.next,y.prev=_,_.next.prev=y,_.next=y):(y.prev=y,y.next=y),y}function removeNode(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function Node(s,l,c){this.i=s,this.x=l,this.y=c,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(s,l,c,_){for(var y=0,m=l,v=c-_;m<c;m+=_)y+=(s[v]-s[m])*(s[m+1]+s[v+1]),v=m;return y}s.exports=earcut,s.exports.default=earcut,earcut.deviation=function(s,l,c,_){var y=l&&l.length,m=y?l[0]*c:s.length,v=Math.abs(signedArea(s,0,m,c));if(y)for(var T=0,E=l.length;T<E;T++){var S=l[T]*c,A=T<E-1?l[T+1]*c:s.length;v-=Math.abs(signedArea(s,S,A,c))}var w=0;for(T=0;T<_.length;T+=3){var P=_[T]*c,O=_[T+1]*c,C=_[T+2]*c;w+=Math.abs((s[P]-s[C])*(s[O+1]-s[P+1])-(s[P]-s[O])*(s[C+1]-s[P+1]))}return 0===v&&0===w?0:Math.abs((w-v)/v)},earcut.flatten=function(s){for(var l=s[0][0].length,c={vertices:[],holes:[],dimensions:l},_=0,y=0;y<s.length;y++){for(var m=0;m<s[y].length;m++)for(var v=0;v<l;v++)c.vertices.push(s[y][m][v]);y>0&&(_+=s[y-1].length,c.holes.push(_))}return c}},26729:s=>{"use strict";var l=Object.prototype.hasOwnProperty,c="~";function Events(){}function EE(s,l,c){this.fn=s,this.context=l,this.once=c||!1}function addListener(s,l,_,y,m){if("function"!=typeof _)throw new TypeError("The listener must be a function");var v=new EE(_,y||s,m),T=c?c+l:l;return s._events[T]?s._events[T].fn?s._events[T]=[s._events[T],v]:s._events[T].push(v):(s._events[T]=v,s._eventsCount++),s}function clearEvent(s,l){0==--s._eventsCount?s._events=new Events:delete s._events[l]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(c=!1)),EventEmitter.prototype.eventNames=function eventNames(){var s,_,y=[];if(0===this._eventsCount)return y;for(_ in s=this._events)l.call(s,_)&&y.push(c?_.slice(1):_);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(s)):y},EventEmitter.prototype.listeners=function listeners(s){var l=c?c+s:s,_=this._events[l];if(!_)return[];if(_.fn)return[_.fn];for(var y=0,m=_.length,v=new Array(m);y<m;y++)v[y]=_[y].fn;return v},EventEmitter.prototype.listenerCount=function listenerCount(s){var l=c?c+s:s,_=this._events[l];return _?_.fn?1:_.length:0},EventEmitter.prototype.emit=function emit(s,l,_,y,m,v){var T=c?c+s:s;if(!this._events[T])return!1;var E,S,A=this._events[T],w=arguments.length;if(A.fn){switch(A.once&&this.removeListener(s,A.fn,void 0,!0),w){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,l),!0;case 3:return A.fn.call(A.context,l,_),!0;case 4:return A.fn.call(A.context,l,_,y),!0;case 5:return A.fn.call(A.context,l,_,y,m),!0;case 6:return A.fn.call(A.context,l,_,y,m,v),!0}for(S=1,E=new Array(w-1);S<w;S++)E[S-1]=arguments[S];A.fn.apply(A.context,E)}else{var P,O=A.length;for(S=0;S<O;S++)switch(A[S].once&&this.removeListener(s,A[S].fn,void 0,!0),w){case 1:A[S].fn.call(A[S].context);break;case 2:A[S].fn.call(A[S].context,l);break;case 3:A[S].fn.call(A[S].context,l,_);break;case 4:A[S].fn.call(A[S].context,l,_,y);break;default:if(!E)for(P=1,E=new Array(w-1);P<w;P++)E[P-1]=arguments[P];A[S].fn.apply(A[S].context,E)}}return!0},EventEmitter.prototype.on=function on(s,l,c){return addListener(this,s,l,c,!1)},EventEmitter.prototype.once=function once(s,l,c){return addListener(this,s,l,c,!0)},EventEmitter.prototype.removeListener=function removeListener(s,l,_,y){var m=c?c+s:s;if(!this._events[m])return this;if(!l)return clearEvent(this,m),this;var v=this._events[m];if(v.fn)v.fn!==l||y&&!v.once||_&&v.context!==_||clearEvent(this,m);else{for(var T=0,E=[],S=v.length;T<S;T++)(v[T].fn!==l||y&&!v[T].once||_&&v[T].context!==_)&&E.push(v[T]);E.length?this._events[m]=1===E.length?E[0]:E:clearEvent(this,m)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(s){var l;return s?(l=c?c+s:s,this._events[l]&&clearEvent(this,l)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=c,EventEmitter.EventEmitter=EventEmitter,s.exports=EventEmitter},6052:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/72230a4fbfeb049cba0ea6c88789d947.png"},85937:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/0ad14c5a65d81d70ae8411f2b18e796b.png"},72396:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/c803f8aae3641e1dccd7cd2788245033.png"},3756:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/5a214d178ddadb84be17df5d2d90cfcd.png"},88083:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d973ca53ee246b636d595fe36f377056.png"},82040:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/2bc478f17efce5e3d17e43a8a3670569.png"},98452:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/6432382fa9f0effb76119dd8184b6fa4.png"},22291:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/078715d977cca324039f5736113c19e7.png"},3118:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/87fb73239c9ef0ccf4334479d923df05.png"},10598:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/1814e65fe68d7961ba8ecb4f1a7c7d11.png"},19624:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/515a0b487062ea933888b7e65a3d862d.png"},36769:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d21dce65c36c7af737f2e300543e0095.png"},22563:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/fb60c7ca022e61e1b4c6c96493d72547.png"},30736:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/4e92f7ba3b4bc43ad40b873010d55893.png"},87667:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/c3769931704a3f24be4ef49a3ebd5281.png"},58133:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/71e2bbc3126f969ea53c43c295445278.png"},36027:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/7f73a8f3fa8e01f654ba8c66f729085b.png"},49800:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/371c641933449bad74df33ec526d8526.png"},98791:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/c1b080dabc42ed2a534ecad884993345.png"},72577:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/49f6193b59e73a1f0c76f07e58d2e5e7.png"},8735:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/4b6661fafbdd19ea28f154b36a661a38.png"},38212:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/54c795543a4801f8cf2dae17749075da.png"},87375:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/f441a38e2e0069d7d8d7c33e6a98de1a.png"},18416:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/1132c6efe9f78abddcf110461ebad911.png"},90708:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/c69b823effdca1a4de74b4b506abebe3.png"},40870:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/ad03156090785e889b77ee4290986872.png"},85298:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/e63aee75ab4a51f56ce7ec09d393925b.png"},66415:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/75a34f59be6b30c3bc8c55936c80cdb3.png"},58449:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/1955bef6758ced64710d5303141b7004.png"},73897:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d9889ac88fef42a1d6fd59822fe4f5b9.png"},82853:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/fa90e42992c693ba13f1fefa0c5754ae.png"},88723:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a854e71a2f34f1bad98fd6a5b9cc395a.png"},63044:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/fcf1b55de00445327defe485db1e5964.png"},29458:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/2d811464f70d0b1f1503beed307bdf32.png"},28615:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/f9a78b3a2d1f82a827cf62b8fbf21387.png"},30826:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/9e65ce54f6ca64f24315796ce0c39593.png"},66935:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/69b44c294de7f2eb3231421be75765f4.png"},95586:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a3caf2f1e954eca5653070b7e2deff74.png"},77620:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/1ff63779201f08c794d707b0f1b1670a.png"},3516:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/6e4022bacfcd98475cd9091bb89f029e.png"},44110:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/be4bbd0c6abd39f5ffe7f52d4139f679.png"},93789:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/497d75fd2bcbd34269dcf699194d9d81.png"},19203:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/65650944e56d195b14463004bb96a27c.png"},59760:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/251941b62351cddec8bae23cb7b1a29e.png"},52851:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/ea1b4f4fa30fc5f2399d0476d175d5fc.png"},79535:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/5e42f1c0caf8f018cd0752d8cf11a2c1.png"},56107:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/0bdc77410ba6d989e4055a0c84f439aa.png"},75908:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/edcc2aaaf3c63e6dd74a7df5c5c623cd.png"},35611:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a345c27fc6e342304bbd911b89a15ff0.png"},3289:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/7ae870caae4025b8243f54ca59eaffb7.png"},40311:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/cfe2d26eda886fb0c28ac3deab924f71.png"},60582:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/443d6a0e82a0d3341d0c1fcf85c4767c.png"},13401:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/bfe070abce85048980b3a6464775b5eb.png"},35960:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/8d63548ea0c08ab2206e5a382c5410cf.png"},30522:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/abb1dc24626b15c342a348adbbb72e0c.png"},70620:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/b6573eeb512147f161d53738629be642.png"},9933:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/f5cc3f7355e732fe24802ebc3e62d31d.png"},50197:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/bdd41829e8ea26ea0f45fd31d17c9cf3.png"},89534:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/1c0e9e3070173584f36590f3bfe55b6f.png"},30714:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/8d62d6f9ac2fc967f26f2ef8bc24a664.jpg"},34282:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/3765774f18cc55610fa01fdcd820521d.png"},51526:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/543a8e9bb84a0878ccaac0fb8f4b953a.png"},75017:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/cdafa24443ed228c46d23762180b8a0d.png"},10770:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/0efb2f5b6dd5f0ce60f956db1c417281.png"},29310:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/30faca0d4b06848e954617d1ba02a7f1.png"},63423:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a525c197cd8881c3487908990d1ac50d.png"},19655:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a60a8960f8116ecd0dd22aeafd6800b9.png"},67726:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/5b2b726229d82a77339a5223a06d35c8.png"},70189:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/169760f78eb2f0b181ccd5a644064ae5.png"},4496:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/ebc27e5630b75bbac2ca6480a8be8d99.png"},931:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/33338607b4e6ffde480f25545eb2b129.png"},93330:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/274aaec420827de49e7a8beff7e7aed3.png"},14565:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d8b546c6f0be93045f705fbdf1a26fcf.png"},41829:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/bf838fd154fc7f3939a407346396883a.png"},55341:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/6328d86bac315c2d678c0e3b669b81b8.png"},38663:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/b44d4dab60da73915617c13207c3cad1.png"},68204:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/4de7a2c5db3298e7ae3b15a64c695f19.png"},52500:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/9eb80069329f7aafef80a4c6067a7f8e.png"},98615:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/01ad974826b2bafd0f7f943ab8a35c3c.png"},25852:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/95f49db37b744d2db89765f2d1751f03.png"},89415:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d369e246366fed083319094e3ce8f0e4.png"},77918:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/cddc562441581b50a883c5aaf2348ca7.png"},33482:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/dba3a8c441e8ffc1bf79f72ba9bf29c2.png"},8111:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d4d3aeb2dc04a76c09b9e7ca1e9aa58f.png"},21217:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/208b26598ce133738029f861b07ee21c.png"},78203:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/c5369a3cb3369cf36b287027460f7a9b.png"},53241:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/bd34e35164eb003f853e5c7437ec03a1.png"},70108:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/6be808db578fa56330652f00308f2885.png"},10753:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/80f054d476fd9faa019db7b54f3f6ee0.png"},49337:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/fac622990c14005b1512c7862405dce7.png"},4077:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/2a18227da8ea02570e859d7afc2b8805.png"},71160:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/95c31866225a781104f5c1b22092843f.png"},81558:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d3011d5a4fa4baa79b412d354d77b464.png"},38657:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/081c7d4b14cf88cca0f8550a16ea4938.png"},37761:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/23cc7fd22e57908ff2d9717343532dd4.png"},21045:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d8ca9bbdc332944227eae968a604b948.png"},68221:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a52c379a87ca07a834b244b6ae9c87f8.png"},14586:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/51a7d75cc3a73fcd83a40391a3d0a480.png"},97242:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/deb14f967917e4c5ebd8ae8bf3873b83.png"},30125:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/13b830f69c4263b22fc86c398788d6a1.png"},92541:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/fd229e2484c34638ba966703f4935282.png"},3192:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/c23fa2d1ff9fdbd9a96f3b45deeea4a1.png"},71018:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/4687fcc611bc69ac0119c1c751227bfb.png"},64362:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/cc7f9756afefa3d3f877ed192fbc2447.png"},16780:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/f1dc1e528bab0882f6a31692a50474bf.png"},86883:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/9c645f06a9bd036131302e83064eb125.png"},96970:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d47deabbe0f4184a2d633c4afc4d1981.png"},71628:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/926da1aeda70be8a97a6303c421c049a.png"},92667:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/8d4f2be553b08a7d652af7d4131d9b57.png"},438:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/c91abcb27874dc2fb6d00b0aba2b28e9.png"},81479:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/e3421940a6ccbcf6d39ea1754f20686b.png"},41369:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/0b308c2a6c43ae502ad209847f97879d.png"},96198:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/8dd80da5b5f204ecc385cd55a9388d6f.png"},71919:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a73cc4e35b7b5ded60f18b07c84d268e.png"},40846:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a659c67d6c0be11ac88cbd06bd4572a5.png"},34704:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/5bec168245c3af349f18feb402b46c04.png"},48346:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/3dc021341b1c6f5c8fcacb11f12cf914.png"},97330:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/2692bbc8e454d73d3b19ebd134ec65b0.png"},9102:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/422f36afedcfbd8002e170d6b604f352.png"},84613:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/7231c575c77f4b95c41c10f48ab8fea8.png"},89053:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/dba120898654748d1ec3bea9bb2c21a6.png"},14136:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/60e8decf1d1ce16c6fefaa4246d1d5b3.png"},45264:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/dd4918e8c93bae17e0aad983421f5b6b.png"},18082:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/505be35020f4f2f37c527d0c3dc7d88f.png"},6669:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/aea476e1f4cdda0f5c98c13493d1486b.png"},39486:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/edde41aff4397d0d2590e675a75f8b72.png"},21187:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/60d4829e40965536ebd59925de53ee5c.png"},44968:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/5fea3599f1cf55516998486c0e952a72.png"},80325:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/c83896ca26ee44c6ddd894a376a57030.png"},21840:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/e0415420f0961ce3fd8bf68767e898a5.png"},66423:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/4c27ac88f293cc18e118429cab46ddd3.png"},14252:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/6ad2fe13b2d9109e9838f772375e441a.png"},89794:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/51fbdf5a09c2b926385de2d5eaa6f8be.png"},2310:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/139898b4dab8041e9aff078df31d2ed5.png"},52129:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/ccae4a9f644f0d7e2e587520546dad88.png"},29360:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/b05b347be8add2765c0f603cfe6f3504.png"},58978:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/e61e191fe28565c4470218907cbf6cb8.png"},95544:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/40e735ebc1c678d316d3872b84fb0ded.png"},20813:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/ded1d3b5f21a5f57e6748994d9cab076.png"},52104:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/000fd98992c56343858eff22eb7bdbeb.png"},11247:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/f69b1d3fbefd9964813cf87277819dfa.png"},61968:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/9696b28fb4b3a8714b577fc18f27496f.png"},70994:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/92779429606295ca007a441d81636cf2.png"},392:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/234fc384e02b3029ea46b5e0613b7b18.png"},77871:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/93945039a47e9630a81e4cba97313fb7.png"},56387:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/71d1d222071ca2ffcc9bb831c9f5159b.png"},71680:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a00d5f3d013af351ab69d566db1141b1.png"},40062:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/0e28c2a82d688f157707c69fd6217aad.png"},8300:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/2edadf312c6861e35949678cdd0e1553.png"},58163:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/c9a47cae57f255fae23fa1e909d790eb.png"},91123:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/7b6aeb08c972bc32b1a3f9680ce95056.png"},33643:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/73bebf5e1d55000da236b26fd6e5ecfd.png"},66812:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/f6edd9da5df092bbb3a495246e601afe.png"},55668:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/48137ffa54b5beef8dbba4fdc6429239.png"},82288:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/80b697ce3dec125cd5f43c4361972a21.png"},10099:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/cc6f4d42791d9afd5bf6aee1a7140185.png"},83833:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/503ff3b4525b8e181c55e9220183e259.png"},68195:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/1d269d01c153c88570bb0906990f2559.png"},61208:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/1e718b4ef044a78e9209acb195985fd6.png"},21681:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a2a83bca8b684b03b1c9a9fac793779f.png"},30039:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/685742885578f4f2cc31cdce4b68cc38.png"},86415:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/8557e6b06a012f5345aa707c9870b872.png"},66533:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/9bec24c1dd744601c696f5599e16264e.png"},5559:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a3600a2321efde179c2a69d07040adf8.png"},45852:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/cb534b1ae5b613eb4c11716bf04139ad.png"},79239:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/9db0885b7dc6fa30ba74af7d9ec38ae3.png"},30456:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/65fef0fc3069eea667d39a2e4fd648a8.png"},86832:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/1182a0cb8e6adef46e4e51f7bba8d29b.png"},73434:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/f22f601dc414ae2c1abbd63c68d6607a.png"},96529:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/6aa935f357730f5209c0bcb50da76db8.png"},68503:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/fac9f798f8457261c7a7260edd3aa376.png"},72001:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/110bda7da01ea1f1d99c2a8c0471cf59.png"},72543:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/923e1675fbf11004515fc0bdd6c3024d.png"},94428:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/efcc23e6c77d89b4dbc056a2259e2b44.png"},50178:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/0de9081b45907e1a4ccedc6524b92a9a.png"},87103:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d9b3646c1a7fb890c150e0fe28dde240.png"},81047:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/f26c6f6dade9d06957ab53197058bf25.png"},66774:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/7d0673e22fc43b9a89058f6e5f9c208a.png"},85824:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/ca3c981b50696838649fd4d88e5062b9.png"},20744:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/6f44f212b7de72013f57370b9cd81d0a.png"},29345:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/26e2c7b5a8f171aa426e4e6734c0fc19.png"},77845:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/7993ea2dc05bfccbd0b8597dc4391d7d.png"},3284:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/4fefbdb8ebf4bd8acfdfa5f24fb91761.png"},87369:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/819c59fda7e17760914f03f15f9104dd.png"},81891:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/c9f24ec96f1a456f3473b751ce3fa2f2.png"},48537:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/452309b79d6992718c5b89aa85051565.png"},71820:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/b89c32a32766ad13b3f44b0965343e8a.png"},82775:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/59babaf8a11097d51cb2e559ac0e925d.png"},35910:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/fb786443c9ad8d11153eb7fe39f9eb30.png"},95391:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/87de09227ee4394c6d9ec1c16055e0e0.png"},40169:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/70dcc7c20b689090f7e2f6ec11f8e442.png"},79328:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/6fabc34d88ea282b8c30dce1ceafd0c7.png"},97426:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/d21aa069efe002ac11604854c34ad86c.png"},67935:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/b2a87b5d1d79ba0b84f5428091c45a20.png"},66734:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/1e187491b3835ff7a7a77214c74b8383.png"},97921:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/8b93f34941a5dc831b22ccc282b899be.png"},46074:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/97f6ad2ebf2b231dcee0d24a4b05c160.png"},21288:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/e045dc044a5bc105e822a784b1ac13f4.png"},75819:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/47b68f668602f53523ff994095423cd2.png"},47297:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/ab023bffa2865faa4e9df49d13d0d9b9.png"},83703:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a3d99e736efdb3f46b062824a7f71da5.png"},58673:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/041af9e18cdc0b51c8604bec3f3b2cef.png"},35219:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/761e3d574d40a96549818112da5ca379.png"},95874:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/b998e11d84eafc291c8bb449ade5091a.png"},14567:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/33bd521d899f974b7879306d01afa597.png"},14641:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/3118dccee5ec1a2e9fa10f018d0c5301.png"},82754:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/37a4ee7c980b88aa12a7eac823bc57b8.png"},99209:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/af19bd10bdd2a9787de5313917e4be9a.png"},32619:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/5a8e12f6380642f5ded0bd879c02dcc7.png"},93745:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/cae359141180ebebeadd257be3b3d4be.png"},32805:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/9cc8e13336a935381116d60f5e0153ea.png"},58680:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/6e1e3e63be656680ae091a462b5eb54d.png"},17794:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/ae32f0eadf73e3aa59824971d7c2b080.png"},13528:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/35b2e0c3954b57dcc63a2882dd84d8ff.png"},14408:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/0a44743923f83e6e0d7012a93997af8a.png"},54650:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/6ff69d6fedb81b9137f6437b6dc13b5d.png"},11365:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/84a7593de257a84a4dbce7be8c8712fc.png"},81405:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/5df63a1b3a57f4cdfc34afb061b0ab00.png"},1366:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/ad6819273f26e2a750b813676908b53e.png"},54476:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/caa8e8ef58737e966c089ab7a9e68930.png"},70160:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/54273d93461b107877287a3f649c5164.png"},87358:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/77a612d812eff67b1c50239711d6da0d.png"},93268:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/a8a5a99220e50e097b861ecc2c7d1ec9.png"},54213:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"images/53574536bfe8cf127cb742c5bfbde044.png"},22876:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"sounds/5d70601a1f7cb69e52a0a575e82e36fc.mp3"},20970:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"sounds/eab6c1a00838f412beb703653fb30cba.mp3"},34625:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"sounds/15ec969136f2bafe7f6b8a65a9afa240.mp3"},42642:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"sounds/f9849804ae9f746426b04c6b838de206.mp3"},39748:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"sounds/b54cfd9822a1283aa4f79e97b5b94b01.mp3"},14086:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"sounds/5b0b6b5da197e00a0a7d9c5a7c6b32a7.mp3"},10157:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>_});const _=c.p+"sounds/17af766190ee8518a32264bcca2c751f.mp3"},17648:s=>{"use strict";var l=Array.prototype.slice,c=Object.prototype.toString;s.exports=function bind(s){var _=this;if("function"!=typeof _||"[object Function]"!==c.call(_))throw new TypeError("Function.prototype.bind called on incompatible "+_);for(var y,m=l.call(arguments,1),v=Math.max(0,_.length-m.length),T=[],E=0;E<v;E++)T.push("$"+E);if(y=Function("binder","return function ("+T.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof y){var c=_.apply(this,m.concat(l.call(arguments)));return Object(c)===c?c:this}return _.apply(s,m.concat(l.call(arguments)))})),_.prototype){var S=function Empty(){};S.prototype=_.prototype,y.prototype=new S,S.prototype=null}return y}},58612:(s,l,c)=>{"use strict";var _=c(17648);s.exports=Function.prototype.bind||_},40210:(s,l,c)=>{"use strict";var _,y=SyntaxError,m=Function,v=TypeError,getEvalledConstructor=function(s){try{return m('"use strict"; return ('+s+").constructor;")()}catch(s){}},T=Object.getOwnPropertyDescriptor;if(T)try{T({},"")}catch(s){T=null}var throwTypeError=function(){throw new v},E=T?function(){try{return throwTypeError}catch(s){try{return T(arguments,"callee").get}catch(s){return throwTypeError}}}():throwTypeError,S=c(41405)(),A=c(28185)(),w=Object.getPrototypeOf||(A?function(s){return s.__proto__}:null),P={},O="undefined"!=typeof Uint8Array&&w?w(Uint8Array):_,C={"%AggregateError%":"undefined"==typeof AggregateError?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?_:ArrayBuffer,"%ArrayIteratorPrototype%":S&&w?w([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":"undefined"==typeof Atomics?_:Atomics,"%BigInt%":"undefined"==typeof BigInt?_:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?_:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?_:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?_:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?_:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?_:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":P,"%Int8Array%":"undefined"==typeof Int8Array?_:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?_:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&w?w(w([][Symbol.iterator]())):_,"%JSON%":"object"==typeof JSON?JSON:_,"%Map%":"undefined"==typeof Map?_:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&S&&w?w((new Map)[Symbol.iterator]()):_,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?_:Promise,"%Proxy%":"undefined"==typeof Proxy?_:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?_:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?_:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&S&&w?w((new Set)[Symbol.iterator]()):_,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&w?w(""[Symbol.iterator]()):_,"%Symbol%":S?Symbol:_,"%SyntaxError%":y,"%ThrowTypeError%":E,"%TypedArray%":O,"%TypeError%":v,"%Uint8Array%":"undefined"==typeof Uint8Array?_:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?_:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?_:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?_:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?_:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?_:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?_:WeakSet};if(w)try{null.error}catch(s){var R=w(w(s));C["%Error.prototype%"]=R}var L=function doEval(s){var l;if("%AsyncFunction%"===s)l=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===s)l=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===s)l=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===s){var c=doEval("%AsyncGeneratorFunction%");c&&(l=c.prototype)}else if("%AsyncIteratorPrototype%"===s){var _=doEval("%AsyncGenerator%");_&&w&&(l=w(_.prototype))}return C[s]=l,l},D={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=c(58612),F=c(17642),k=B.call(Function.call,Array.prototype.concat),U=B.call(Function.apply,Array.prototype.splice),G=B.call(Function.call,String.prototype.replace),V=B.call(Function.call,String.prototype.slice),W=B.call(Function.call,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,X=/\\(\\)?/g,Y=function getBaseIntrinsic(s,l){var c,_=s;if(F(D,_)&&(_="%"+(c=D[_])[0]+"%"),F(C,_)){var m=C[_];if(m===P&&(m=L(_)),void 0===m&&!l)throw new v("intrinsic "+s+" exists, but is not available. Please file an issue!");return{alias:c,name:_,value:m}}throw new y("intrinsic "+s+" does not exist!")};s.exports=function GetIntrinsic(s,l){if("string"!=typeof s||0===s.length)throw new v("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof l)throw new v('"allowMissing" argument must be a boolean');if(null===W(/^%?[^%]*%?$/,s))throw new y("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var c=function stringToPath(s){var l=V(s,0,1),c=V(s,-1);if("%"===l&&"%"!==c)throw new y("invalid intrinsic syntax, expected closing `%`");if("%"===c&&"%"!==l)throw new y("invalid intrinsic syntax, expected opening `%`");var _=[];return G(s,z,(function(s,l,c,y){_[_.length]=c?G(y,X,"$1"):l||s})),_}(s),_=c.length>0?c[0]:"",m=Y("%"+_+"%",l),E=m.name,S=m.value,A=!1,w=m.alias;w&&(_=w[0],U(c,k([0,1],w)));for(var P=1,O=!0;P<c.length;P+=1){var R=c[P],L=V(R,0,1),D=V(R,-1);if(('"'===L||"'"===L||"`"===L||'"'===D||"'"===D||"`"===D)&&L!==D)throw new y("property names with quotes must have matching quotes");if("constructor"!==R&&O||(A=!0),F(C,E="%"+(_+="."+R)+"%"))S=C[E];else if(null!=S){if(!(R in S)){if(!l)throw new v("base intrinsic for "+s+" exists, but the property is not available.");return}if(T&&P+1>=c.length){var B=T(S,R);S=(O=!!B)&&"get"in B&&!("originalValue"in B.get)?B.get:S[R]}else O=F(S,R),S=S[R];O&&!A&&(C[E]=S)}}return S}},28185:s=>{"use strict";var l={foo:{}},c=Object;s.exports=function hasProto(){return{__proto__:l}.foo===l.foo&&!({__proto__:null}instanceof c)}},41405:(s,l,c)=>{"use strict";var _="undefined"!=typeof Symbol&&Symbol,y=c(55419);s.exports=function hasNativeSymbols(){return"function"==typeof _&&("function"==typeof Symbol&&("symbol"==typeof _("foo")&&("symbol"==typeof Symbol("bar")&&y())))}},55419:s=>{"use strict";s.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var s={},l=Symbol("test"),c=Object(l);if("string"==typeof l)return!1;if("[object Symbol]"!==Object.prototype.toString.call(l))return!1;if("[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(l in s[l]=42,s)return!1;if("function"==typeof Object.keys&&0!==Object.keys(s).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(s).length)return!1;var _=Object.getOwnPropertySymbols(s);if(1!==_.length||_[0]!==l)return!1;if(!Object.prototype.propertyIsEnumerable.call(s,l))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var y=Object.getOwnPropertyDescriptor(s,l);if(42!==y.value||!0!==y.enumerable)return!1}return!0}},17642:(s,l,c)=>{"use strict";var _=c(58612);s.exports=_.call(Function.call,Object.prototype.hasOwnProperty)},90891:(s,l,c)=>{"use strict";c.r(l),c.d(l,{default:()=>isMobile});var _=/iPhone/i,y=/iPod/i,m=/iPad/i,v=/\biOS-universal(?:.+)Mac\b/i,T=/\bAndroid(?:.+)Mobile\b/i,E=/Android/i,S=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,A=/Silk/i,w=/Windows Phone/i,P=/\bWindows(?:.+)ARM\b/i,O=/BlackBerry/i,C=/BB10/i,R=/Opera Mini/i,L=/\b(CriOS|Chrome)(?:.+)Mobile/i,D=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(s){return void 0!==s&&"MacIntel"===s.platform&&"number"==typeof s.maxTouchPoints&&s.maxTouchPoints>1&&"undefined"==typeof MSStream};function isMobile(s){var l={userAgent:"",platform:"",maxTouchPoints:0};s||"undefined"==typeof navigator?"string"==typeof s?l.userAgent=s:s&&s.userAgent&&(l={userAgent:s.userAgent,platform:s.platform,maxTouchPoints:s.maxTouchPoints||0}):l={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var c=l.userAgent,B=c.split("[FBAN");void 0!==B[1]&&(c=B[0]),void 0!==(B=c.split("Twitter"))[1]&&(c=B[0]);var F=function createMatch(s){return function(l){return l.test(s)}}(c),k={apple:{phone:F(_)&&!F(w),ipod:F(y),tablet:!F(_)&&(F(m)||isAppleTabletOnIos13(l))&&!F(w),universal:F(v),device:(F(_)||F(y)||F(m)||F(v)||isAppleTabletOnIos13(l))&&!F(w)},amazon:{phone:F(S),tablet:!F(S)&&F(A),device:F(S)||F(A)},android:{phone:!F(w)&&F(S)||!F(w)&&F(T),tablet:!F(w)&&!F(S)&&!F(T)&&(F(A)||F(E)),device:!F(w)&&(F(S)||F(A)||F(T)||F(E))||F(/\bokhttp\b/i)},windows:{phone:F(w),tablet:F(P),device:F(w)||F(P)},other:{blackberry:F(O),blackberry10:F(C),opera:F(R),firefox:F(D),chrome:F(L),device:F(O)||F(C)||F(R)||F(D)||F(L)},any:!1,phone:!1,tablet:!1};return k.any=k.apple.device||k.android.device||k.windows.device||k.other.device,k.phone=k.apple.phone||k.android.phone||k.windows.phone,k.tablet=k.apple.tablet||k.android.tablet||k.windows.tablet,k}},39873:(s,l,c)=>{"use strict";c.r(l)},93376:(s,l,c)=>{"use strict";c.r(l)},22864:(s,l,c)=>{"use strict";c.r(l)},70631:(s,l,c)=>{var _="function"==typeof Map&&Map.prototype,y=Object.getOwnPropertyDescriptor&&_?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,m=_&&y&&"function"==typeof y.get?y.get:null,v=_&&Map.prototype.forEach,T="function"==typeof Set&&Set.prototype,E=Object.getOwnPropertyDescriptor&&T?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,S=T&&E&&"function"==typeof E.get?E.get:null,A=T&&Set.prototype.forEach,w="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,P="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,O="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,C=Boolean.prototype.valueOf,R=Object.prototype.toString,L=Function.prototype.toString,D=String.prototype.match,B=String.prototype.slice,F=String.prototype.replace,k=String.prototype.toUpperCase,U=String.prototype.toLowerCase,G=RegExp.prototype.test,V=Array.prototype.concat,W=Array.prototype.join,z=Array.prototype.slice,X=Math.floor,Y="function"==typeof BigInt?BigInt.prototype.valueOf:null,$=Object.getOwnPropertySymbols,q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,K="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Q="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===K||"symbol")?Symbol.toStringTag:null,J=Object.prototype.propertyIsEnumerable,Z=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(s){return s.__proto__}:null);function addNumericSeparator(s,l){if(s===1/0||s===-1/0||s!=s||s&&s>-1e3&&s<1e3||G.call(/e/,l))return l;var c=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof s){var _=s<0?-X(-s):X(s);if(_!==s){var y=String(_),m=B.call(l,y.length+1);return F.call(y,c,"$&_")+"."+F.call(F.call(m,/([0-9]{3})/g,"$&_"),/_$/,"")}}return F.call(l,c,"$&_")}var ee=c(24654),te=ee.custom,re=isSymbol(te)?te:null;function wrapQuotes(s,l,c){var _="double"===(c.quoteStyle||l)?'"':"'";return _+s+_}function quote(s){return F.call(String(s),/"/g,"&quot;")}function isArray(s){return!("[object Array]"!==toStr(s)||Q&&"object"==typeof s&&Q in s)}function isRegExp(s){return!("[object RegExp]"!==toStr(s)||Q&&"object"==typeof s&&Q in s)}function isSymbol(s){if(K)return s&&"object"==typeof s&&s instanceof Symbol;if("symbol"==typeof s)return!0;if(!s||"object"!=typeof s||!q)return!1;try{return q.call(s),!0}catch(s){}return!1}s.exports=function inspect_(s,l,c,_){var y=l||{};if(has(y,"quoteStyle")&&"single"!==y.quoteStyle&&"double"!==y.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has(y,"maxStringLength")&&("number"==typeof y.maxStringLength?y.maxStringLength<0&&y.maxStringLength!==1/0:null!==y.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var T=!has(y,"customInspect")||y.customInspect;if("boolean"!=typeof T&&"symbol"!==T)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has(y,"indent")&&null!==y.indent&&"\t"!==y.indent&&!(parseInt(y.indent,10)===y.indent&&y.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has(y,"numericSeparator")&&"boolean"!=typeof y.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var E=y.numericSeparator;if(void 0===s)return"undefined";if(null===s)return"null";if("boolean"==typeof s)return s?"true":"false";if("string"==typeof s)return inspectString(s,y);if("number"==typeof s){if(0===s)return 1/0/s>0?"0":"-0";var R=String(s);return E?addNumericSeparator(s,R):R}if("bigint"==typeof s){var k=String(s)+"n";return E?addNumericSeparator(s,k):k}var G=void 0===y.depth?5:y.depth;if(void 0===c&&(c=0),c>=G&&G>0&&"object"==typeof s)return isArray(s)?"[Array]":"[Object]";var X=function getIndent(s,l){var c;if("\t"===s.indent)c="\t";else{if(!("number"==typeof s.indent&&s.indent>0))return null;c=W.call(Array(s.indent+1)," ")}return{base:c,prev:W.call(Array(l+1),c)}}(y,c);if(void 0===_)_=[];else if(indexOf(_,s)>=0)return"[Circular]";function inspect(s,l,m){if(l&&(_=z.call(_)).push(l),m){var v={depth:y.depth};return has(y,"quoteStyle")&&(v.quoteStyle=y.quoteStyle),inspect_(s,v,c+1,_)}return inspect_(s,y,c+1,_)}if("function"==typeof s&&!isRegExp(s)){var $=function nameOf(s){if(s.name)return s.name;var l=D.call(L.call(s),/^function\s*([\w$]+)/);if(l)return l[1];return null}(s),te=arrObjKeys(s,inspect);return"[Function"+($?": "+$:" (anonymous)")+"]"+(te.length>0?" { "+W.call(te,", ")+" }":"")}if(isSymbol(s)){var ie=K?F.call(String(s),/^(Symbol\(.*\))_[^)]*$/,"$1"):q.call(s);return"object"!=typeof s||K?ie:markBoxed(ie)}if(function isElement(s){if(!s||"object"!=typeof s)return!1;if("undefined"!=typeof HTMLElement&&s instanceof HTMLElement)return!0;return"string"==typeof s.nodeName&&"function"==typeof s.getAttribute}(s)){for(var ne="<"+U.call(String(s.nodeName)),se=s.attributes||[],oe=0;oe<se.length;oe++)ne+=" "+se[oe].name+"="+wrapQuotes(quote(se[oe].value),"double",y);return ne+=">",s.childNodes&&s.childNodes.length&&(ne+="..."),ne+="</"+U.call(String(s.nodeName))+">"}if(isArray(s)){if(0===s.length)return"[]";var ae=arrObjKeys(s,inspect);return X&&!function singleLineValues(s){for(var l=0;l<s.length;l++)if(indexOf(s[l],"\n")>=0)return!1;return!0}(ae)?"["+indentedJoin(ae,X)+"]":"[ "+W.call(ae,", ")+" ]"}if(function isError(s){return!("[object Error]"!==toStr(s)||Q&&"object"==typeof s&&Q in s)}(s)){var ue=arrObjKeys(s,inspect);return"cause"in Error.prototype||!("cause"in s)||J.call(s,"cause")?0===ue.length?"["+String(s)+"]":"{ ["+String(s)+"] "+W.call(ue,", ")+" }":"{ ["+String(s)+"] "+W.call(V.call("[cause]: "+inspect(s.cause),ue),", ")+" }"}if("object"==typeof s&&T){if(re&&"function"==typeof s[re]&&ee)return ee(s,{depth:G-c});if("symbol"!==T&&"function"==typeof s.inspect)return s.inspect()}if(function isMap(s){if(!m||!s||"object"!=typeof s)return!1;try{m.call(s);try{S.call(s)}catch(s){return!0}return s instanceof Map}catch(s){}return!1}(s)){var le=[];return v&&v.call(s,(function(l,c){le.push(inspect(c,s,!0)+" => "+inspect(l,s))})),collectionOf("Map",m.call(s),le,X)}if(function isSet(s){if(!S||!s||"object"!=typeof s)return!1;try{S.call(s);try{m.call(s)}catch(s){return!0}return s instanceof Set}catch(s){}return!1}(s)){var ce=[];return A&&A.call(s,(function(l){ce.push(inspect(l,s))})),collectionOf("Set",S.call(s),ce,X)}if(function isWeakMap(s){if(!w||!s||"object"!=typeof s)return!1;try{w.call(s,w);try{P.call(s,P)}catch(s){return!0}return s instanceof WeakMap}catch(s){}return!1}(s))return weakCollectionOf("WeakMap");if(function isWeakSet(s){if(!P||!s||"object"!=typeof s)return!1;try{P.call(s,P);try{w.call(s,w)}catch(s){return!0}return s instanceof WeakSet}catch(s){}return!1}(s))return weakCollectionOf("WeakSet");if(function isWeakRef(s){if(!O||!s||"object"!=typeof s)return!1;try{return O.call(s),!0}catch(s){}return!1}(s))return weakCollectionOf("WeakRef");if(function isNumber(s){return!("[object Number]"!==toStr(s)||Q&&"object"==typeof s&&Q in s)}(s))return markBoxed(inspect(Number(s)));if(function isBigInt(s){if(!s||"object"!=typeof s||!Y)return!1;try{return Y.call(s),!0}catch(s){}return!1}(s))return markBoxed(inspect(Y.call(s)));if(function isBoolean(s){return!("[object Boolean]"!==toStr(s)||Q&&"object"==typeof s&&Q in s)}(s))return markBoxed(C.call(s));if(function isString(s){return!("[object String]"!==toStr(s)||Q&&"object"==typeof s&&Q in s)}(s))return markBoxed(inspect(String(s)));if(!function isDate(s){return!("[object Date]"!==toStr(s)||Q&&"object"==typeof s&&Q in s)}(s)&&!isRegExp(s)){var he=arrObjKeys(s,inspect),de=Z?Z(s)===Object.prototype:s instanceof Object||s.constructor===Object,pe=s instanceof Object?"":"null prototype",fe=!de&&Q&&Object(s)===s&&Q in s?B.call(toStr(s),8,-1):pe?"Object":"",_e=(de||"function"!=typeof s.constructor?"":s.constructor.name?s.constructor.name+" ":"")+(fe||pe?"["+W.call(V.call([],fe||[],pe||[]),": ")+"] ":"");return 0===he.length?_e+"{}":X?_e+"{"+indentedJoin(he,X)+"}":_e+"{ "+W.call(he,", ")+" }"}return String(s)};var ie=Object.prototype.hasOwnProperty||function(s){return s in this};function has(s,l){return ie.call(s,l)}function toStr(s){return R.call(s)}function indexOf(s,l){if(s.indexOf)return s.indexOf(l);for(var c=0,_=s.length;c<_;c++)if(s[c]===l)return c;return-1}function inspectString(s,l){if(s.length>l.maxStringLength){var c=s.length-l.maxStringLength,_="... "+c+" more character"+(c>1?"s":"");return inspectString(B.call(s,0,l.maxStringLength),l)+_}return wrapQuotes(F.call(F.call(s,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte),"single",l)}function lowbyte(s){var l=s.charCodeAt(0),c={8:"b",9:"t",10:"n",12:"f",13:"r"}[l];return c?"\\"+c:"\\x"+(l<16?"0":"")+k.call(l.toString(16))}function markBoxed(s){return"Object("+s+")"}function weakCollectionOf(s){return s+" { ? }"}function collectionOf(s,l,c,_){return s+" ("+l+") {"+(_?indentedJoin(c,_):W.call(c,", "))+"}"}function indentedJoin(s,l){if(0===s.length)return"";var c="\n"+l.prev+l.base;return c+W.call(s,","+c)+"\n"+l.prev}function arrObjKeys(s,l){var c=isArray(s),_=[];if(c){_.length=s.length;for(var y=0;y<s.length;y++)_[y]=has(s,y)?l(s[y],s):""}var m,v="function"==typeof $?$(s):[];if(K){m={};for(var T=0;T<v.length;T++)m["$"+v[T]]=v[T]}for(var E in s)has(s,E)&&(c&&String(Number(E))===E&&E<s.length||K&&m["$"+E]instanceof Symbol||(G.call(/[^\w$]/,E)?_.push(l(E,s)+": "+l(s[E],s)):_.push(E+": "+l(s[E],s))));if("function"==typeof $)for(var S=0;S<v.length;S++)J.call(s,v[S])&&_.push("["+l(v[S])+"]: "+l(s[v[S]],s));return _}},90741:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var _=c(48742),y=c(30370),m=c(23410),v=c(4920),T=c(31203),E=c(86194),S=c(38116);const A={AlphaFilter:y.AlphaFilter,BlurFilter:m.BlurFilter,BlurFilterPass:m.BlurFilterPass,ColorMatrixFilter:v.ColorMatrixFilter,DisplacementFilter:T.DisplacementFilter,FXAAFilter:E.FXAAFilter,NoiseFilter:S.NoiseFilter};Object.entries(A).forEach((([s,l])=>{Object.defineProperty(A,s,{get:()=>(_.utils.deprecation("7.1.0",`filters.${s} has moved to ${s}`),l)})})),l.filters=A},58687:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),c(88096),c(81939),c(25713);var _=c(90741),y=c(75649),m=c(21827),v=c(8415),T=c(63438),E=c(48742),S=c(27191),A=c(79743),w=c(46899),P=c(30370),O=c(23410),C=c(4920),R=c(31203),L=c(86194),D=c(38116),B=c(59296),F=c(21770),k=c(80261),U=c(76661),G=c(62785),V=c(6903),W=c(22693),z=c(87465),X=c(39432),Y=c(66338),$=c(53485),q=c(17509);l.filters=_.filters,Object.keys(y).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return y[s]}})})),Object.keys(m).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return m[s]}})})),Object.keys(v).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return v[s]}})})),Object.keys(T).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return T[s]}})})),Object.keys(E).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return E[s]}})})),Object.keys(S).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return S[s]}})})),Object.keys(A).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return A[s]}})})),Object.keys(w).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return w[s]}})})),Object.keys(P).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return P[s]}})})),Object.keys(O).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return O[s]}})})),Object.keys(C).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return C[s]}})})),Object.keys(R).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return R[s]}})})),Object.keys(L).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return L[s]}})})),Object.keys(D).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return D[s]}})})),Object.keys(B).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return B[s]}})})),Object.keys(F).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return F[s]}})})),Object.keys(k).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return k[s]}})})),Object.keys(U).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return U[s]}})})),Object.keys(G).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return G[s]}})})),Object.keys(V).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return V[s]}})})),Object.keys(W).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return W[s]}})})),Object.keys(z).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return z[s]}})})),Object.keys(X).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return X[s]}})})),Object.keys(Y).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return Y[s]}})})),Object.keys($).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return $[s]}})})),Object.keys(q).forEach((function(s){"default"===s||l.hasOwnProperty(s)||Object.defineProperty(l,s,{enumerable:!0,get:function(){return q[s]}})}))},55798:s=>{"use strict";var l=String.prototype.replace,c=/%20/g,_="RFC1738",y="RFC3986";s.exports={default:y,formatters:{RFC1738:function(s){return l.call(s,c,"+")},RFC3986:function(s){return String(s)}},RFC1738:_,RFC3986:y}},80129:(s,l,c)=>{"use strict";var _=c(58261),y=c(55235),m=c(55798);s.exports={formats:m,parse:y,stringify:_}},55235:(s,l,c)=>{"use strict";var _=c(12769),y=Object.prototype.hasOwnProperty,m=Array.isArray,v={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:_.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(s){return s.replace(/&#(\d+);/g,(function(s,l){return String.fromCharCode(parseInt(l,10))}))},parseArrayValue=function(s,l){return s&&"string"==typeof s&&l.comma&&s.indexOf(",")>-1?s.split(","):s},T=function parseQueryStringKeys(s,l,c,_){if(s){var m=c.allowDots?s.replace(/\.([^.[]+)/g,"[$1]"):s,v=/(\[[^[\]]*])/g,T=c.depth>0&&/(\[[^[\]]*])/.exec(m),E=T?m.slice(0,T.index):m,S=[];if(E){if(!c.plainObjects&&y.call(Object.prototype,E)&&!c.allowPrototypes)return;S.push(E)}for(var A=0;c.depth>0&&null!==(T=v.exec(m))&&A<c.depth;){if(A+=1,!c.plainObjects&&y.call(Object.prototype,T[1].slice(1,-1))&&!c.allowPrototypes)return;S.push(T[1])}return T&&S.push("["+m.slice(T.index)+"]"),function(s,l,c,_){for(var y=_?l:parseArrayValue(l,c),m=s.length-1;m>=0;--m){var v,T=s[m];if("[]"===T&&c.parseArrays)v=[].concat(y);else{v=c.plainObjects?Object.create(null):{};var E="["===T.charAt(0)&&"]"===T.charAt(T.length-1)?T.slice(1,-1):T,S=parseInt(E,10);c.parseArrays||""!==E?!isNaN(S)&&T!==E&&String(S)===E&&S>=0&&c.parseArrays&&S<=c.arrayLimit?(v=[])[S]=y:"__proto__"!==E&&(v[E]=y):v={0:y}}y=v}return y}(S,l,c,_)}};s.exports=function(s,l){var c=function normalizeParseOptions(s){if(!s)return v;if(null!==s.decoder&&void 0!==s.decoder&&"function"!=typeof s.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==s.charset&&"utf-8"!==s.charset&&"iso-8859-1"!==s.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var l=void 0===s.charset?v.charset:s.charset;return{allowDots:void 0===s.allowDots?v.allowDots:!!s.allowDots,allowPrototypes:"boolean"==typeof s.allowPrototypes?s.allowPrototypes:v.allowPrototypes,allowSparse:"boolean"==typeof s.allowSparse?s.allowSparse:v.allowSparse,arrayLimit:"number"==typeof s.arrayLimit?s.arrayLimit:v.arrayLimit,charset:l,charsetSentinel:"boolean"==typeof s.charsetSentinel?s.charsetSentinel:v.charsetSentinel,comma:"boolean"==typeof s.comma?s.comma:v.comma,decoder:"function"==typeof s.decoder?s.decoder:v.decoder,delimiter:"string"==typeof s.delimiter||_.isRegExp(s.delimiter)?s.delimiter:v.delimiter,depth:"number"==typeof s.depth||!1===s.depth?+s.depth:v.depth,ignoreQueryPrefix:!0===s.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof s.interpretNumericEntities?s.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:"number"==typeof s.parameterLimit?s.parameterLimit:v.parameterLimit,parseArrays:!1!==s.parseArrays,plainObjects:"boolean"==typeof s.plainObjects?s.plainObjects:v.plainObjects,strictNullHandling:"boolean"==typeof s.strictNullHandling?s.strictNullHandling:v.strictNullHandling}}(l);if(""===s||null==s)return c.plainObjects?Object.create(null):{};for(var E="string"==typeof s?function parseQueryStringValues(s,l){var c,T={__proto__:null},E=l.ignoreQueryPrefix?s.replace(/^\?/,""):s,S=l.parameterLimit===1/0?void 0:l.parameterLimit,A=E.split(l.delimiter,S),w=-1,P=l.charset;if(l.charsetSentinel)for(c=0;c<A.length;++c)0===A[c].indexOf("utf8=")&&("utf8=%E2%9C%93"===A[c]?P="utf-8":"utf8=%26%2310003%3B"===A[c]&&(P="iso-8859-1"),w=c,c=A.length);for(c=0;c<A.length;++c)if(c!==w){var O,C,R=A[c],L=R.indexOf("]="),D=-1===L?R.indexOf("="):L+1;-1===D?(O=l.decoder(R,v.decoder,P,"key"),C=l.strictNullHandling?null:""):(O=l.decoder(R.slice(0,D),v.decoder,P,"key"),C=_.maybeMap(parseArrayValue(R.slice(D+1),l),(function(s){return l.decoder(s,v.decoder,P,"value")}))),C&&l.interpretNumericEntities&&"iso-8859-1"===P&&(C=interpretNumericEntities(C)),R.indexOf("[]=")>-1&&(C=m(C)?[C]:C),y.call(T,O)?T[O]=_.combine(T[O],C):T[O]=C}return T}(s,c):s,S=c.plainObjects?Object.create(null):{},A=Object.keys(E),w=0;w<A.length;++w){var P=A[w],O=T(P,E[P],c,"string"==typeof s);S=_.merge(S,O,c)}return!0===c.allowSparse?S:_.compact(S)}},58261:(s,l,c)=>{"use strict";var _=c(37478),y=c(12769),m=c(55798),v=Object.prototype.hasOwnProperty,T={brackets:function brackets(s){return s+"[]"},comma:"comma",indices:function indices(s,l){return s+"["+l+"]"},repeat:function repeat(s){return s}},E=Array.isArray,S=Array.prototype.push,pushToArray=function(s,l){S.apply(s,E(l)?l:[l])},A=Date.prototype.toISOString,w=m.default,P={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:y.encode,encodeValuesOnly:!1,format:w,formatter:m.formatters[w],indices:!1,serializeDate:function serializeDate(s){return A.call(s)},skipNulls:!1,strictNullHandling:!1},O={},C=function stringify(s,l,c,m,v,T,S,A,w,C,R,L,D,B,F,k){for(var U=s,G=k,V=0,W=!1;void 0!==(G=G.get(O))&&!W;){var z=G.get(s);if(V+=1,void 0!==z){if(z===V)throw new RangeError("Cyclic object value");W=!0}void 0===G.get(O)&&(V=0)}if("function"==typeof A?U=A(l,U):U instanceof Date?U=R(U):"comma"===c&&E(U)&&(U=y.maybeMap(U,(function(s){return s instanceof Date?R(s):s}))),null===U){if(v)return S&&!B?S(l,P.encoder,F,"key",L):l;U=""}if(function isNonNullishPrimitive(s){return"string"==typeof s||"number"==typeof s||"boolean"==typeof s||"symbol"==typeof s||"bigint"==typeof s}(U)||y.isBuffer(U))return S?[D(B?l:S(l,P.encoder,F,"key",L))+"="+D(S(U,P.encoder,F,"value",L))]:[D(l)+"="+D(String(U))];var X,Y=[];if(void 0===U)return Y;if("comma"===c&&E(U))B&&S&&(U=y.maybeMap(U,S)),X=[{value:U.length>0?U.join(",")||null:void 0}];else if(E(A))X=A;else{var $=Object.keys(U);X=w?$.sort(w):$}for(var q=m&&E(U)&&1===U.length?l+"[]":l,K=0;K<X.length;++K){var Q=X[K],J="object"==typeof Q&&void 0!==Q.value?Q.value:U[Q];if(!T||null!==J){var Z=E(U)?"function"==typeof c?c(q,Q):q:q+(C?"."+Q:"["+Q+"]");k.set(s,V);var ee=_();ee.set(O,k),pushToArray(Y,stringify(J,Z,c,m,v,T,"comma"===c&&B&&E(U)?null:S,A,w,C,R,L,D,B,F,ee))}}return Y};s.exports=function(s,l){var c,y=s,S=function normalizeStringifyOptions(s){if(!s)return P;if(null!==s.encoder&&void 0!==s.encoder&&"function"!=typeof s.encoder)throw new TypeError("Encoder has to be a function.");var l=s.charset||P.charset;if(void 0!==s.charset&&"utf-8"!==s.charset&&"iso-8859-1"!==s.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var c=m.default;if(void 0!==s.format){if(!v.call(m.formatters,s.format))throw new TypeError("Unknown format option provided.");c=s.format}var _=m.formatters[c],y=P.filter;return("function"==typeof s.filter||E(s.filter))&&(y=s.filter),{addQueryPrefix:"boolean"==typeof s.addQueryPrefix?s.addQueryPrefix:P.addQueryPrefix,allowDots:void 0===s.allowDots?P.allowDots:!!s.allowDots,charset:l,charsetSentinel:"boolean"==typeof s.charsetSentinel?s.charsetSentinel:P.charsetSentinel,delimiter:void 0===s.delimiter?P.delimiter:s.delimiter,encode:"boolean"==typeof s.encode?s.encode:P.encode,encoder:"function"==typeof s.encoder?s.encoder:P.encoder,encodeValuesOnly:"boolean"==typeof s.encodeValuesOnly?s.encodeValuesOnly:P.encodeValuesOnly,filter:y,format:c,formatter:_,serializeDate:"function"==typeof s.serializeDate?s.serializeDate:P.serializeDate,skipNulls:"boolean"==typeof s.skipNulls?s.skipNulls:P.skipNulls,sort:"function"==typeof s.sort?s.sort:null,strictNullHandling:"boolean"==typeof s.strictNullHandling?s.strictNullHandling:P.strictNullHandling}}(l);"function"==typeof S.filter?y=(0,S.filter)("",y):E(S.filter)&&(c=S.filter);var A,w=[];if("object"!=typeof y||null===y)return"";A=l&&l.arrayFormat in T?l.arrayFormat:l&&"indices"in l?l.indices?"indices":"repeat":"indices";var O=T[A];if(l&&"commaRoundTrip"in l&&"boolean"!=typeof l.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var R="comma"===O&&l&&l.commaRoundTrip;c||(c=Object.keys(y)),S.sort&&c.sort(S.sort);for(var L=_(),D=0;D<c.length;++D){var B=c[D];S.skipNulls&&null===y[B]||pushToArray(w,C(y[B],B,O,R,S.strictNullHandling,S.skipNulls,S.encode?S.encoder:null,S.filter,S.sort,S.allowDots,S.serializeDate,S.format,S.formatter,S.encodeValuesOnly,S.charset,L))}var F=w.join(S.delimiter),k=!0===S.addQueryPrefix?"?":"";return S.charsetSentinel&&("iso-8859-1"===S.charset?k+="utf8=%26%2310003%3B&":k+="utf8=%E2%9C%93&"),F.length>0?k+F:""}},12769:(s,l,c)=>{"use strict";var _=c(55798),y=Object.prototype.hasOwnProperty,m=Array.isArray,v=function(){for(var s=[],l=0;l<256;++l)s.push("%"+((l<16?"0":"")+l.toString(16)).toUpperCase());return s}(),T=function arrayToObject(s,l){for(var c=l&&l.plainObjects?Object.create(null):{},_=0;_<s.length;++_)void 0!==s[_]&&(c[_]=s[_]);return c};s.exports={arrayToObject:T,assign:function assignSingleSource(s,l){return Object.keys(l).reduce((function(s,c){return s[c]=l[c],s}),s)},combine:function combine(s,l){return[].concat(s,l)},compact:function compact(s){for(var l=[{obj:{o:s},prop:"o"}],c=[],_=0;_<l.length;++_)for(var y=l[_],v=y.obj[y.prop],T=Object.keys(v),E=0;E<T.length;++E){var S=T[E],A=v[S];"object"==typeof A&&null!==A&&-1===c.indexOf(A)&&(l.push({obj:v,prop:S}),c.push(A))}return function compactQueue(s){for(;s.length>1;){var l=s.pop(),c=l.obj[l.prop];if(m(c)){for(var _=[],y=0;y<c.length;++y)void 0!==c[y]&&_.push(c[y]);l.obj[l.prop]=_}}}(l),s},decode:function(s,l,c){var _=s.replace(/\+/g," ");if("iso-8859-1"===c)return _.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(_)}catch(s){return _}},encode:function encode(s,l,c,y,m){if(0===s.length)return s;var T=s;if("symbol"==typeof s?T=Symbol.prototype.toString.call(s):"string"!=typeof s&&(T=String(s)),"iso-8859-1"===c)return escape(T).replace(/%u[0-9a-f]{4}/gi,(function(s){return"%26%23"+parseInt(s.slice(2),16)+"%3B"}));for(var E="",S=0;S<T.length;++S){var A=T.charCodeAt(S);45===A||46===A||95===A||126===A||A>=48&&A<=57||A>=65&&A<=90||A>=97&&A<=122||m===_.RFC1738&&(40===A||41===A)?E+=T.charAt(S):A<128?E+=v[A]:A<2048?E+=v[192|A>>6]+v[128|63&A]:A<55296||A>=57344?E+=v[224|A>>12]+v[128|A>>6&63]+v[128|63&A]:(S+=1,A=65536+((1023&A)<<10|1023&T.charCodeAt(S)),E+=v[240|A>>18]+v[128|A>>12&63]+v[128|A>>6&63]+v[128|63&A])}return E},isBuffer:function isBuffer(s){return!(!s||"object"!=typeof s)&&!!(s.constructor&&s.constructor.isBuffer&&s.constructor.isBuffer(s))},isRegExp:function isRegExp(s){return"[object RegExp]"===Object.prototype.toString.call(s)},maybeMap:function maybeMap(s,l){if(m(s)){for(var c=[],_=0;_<s.length;_+=1)c.push(l(s[_]));return c}return l(s)},merge:function merge(s,l,c){if(!l)return s;if("object"!=typeof l){if(m(s))s.push(l);else{if(!s||"object"!=typeof s)return[s,l];(c&&(c.plainObjects||c.allowPrototypes)||!y.call(Object.prototype,l))&&(s[l]=!0)}return s}if(!s||"object"!=typeof s)return[s].concat(l);var _=s;return m(s)&&!m(l)&&(_=T(s,c)),m(s)&&m(l)?(l.forEach((function(l,_){if(y.call(s,_)){var m=s[_];m&&"object"==typeof m&&l&&"object"==typeof l?s[_]=merge(m,l,c):s.push(l)}else s[_]=l})),s):Object.keys(l).reduce((function(s,_){var m=l[_];return y.call(s,_)?s[_]=merge(s[_],m,c):s[_]=m,s}),_)}}},37478:(s,l,c)=>{"use strict";var _=c(40210),y=c(21924),m=c(70631),v=_("%TypeError%"),T=_("%WeakMap%",!0),E=_("%Map%",!0),S=y("WeakMap.prototype.get",!0),A=y("WeakMap.prototype.set",!0),w=y("WeakMap.prototype.has",!0),P=y("Map.prototype.get",!0),O=y("Map.prototype.set",!0),C=y("Map.prototype.has",!0),listGetNode=function(s,l){for(var c,_=s;null!==(c=_.next);_=c)if(c.key===l)return _.next=c.next,c.next=s.next,s.next=c,c};s.exports=function getSideChannel(){var s,l,c,_={assert:function(s){if(!_.has(s))throw new v("Side channel does not contain "+m(s))},get:function(_){if(T&&_&&("object"==typeof _||"function"==typeof _)){if(s)return S(s,_)}else if(E){if(l)return P(l,_)}else if(c)return function(s,l){var c=listGetNode(s,l);return c&&c.value}(c,_)},has:function(_){if(T&&_&&("object"==typeof _||"function"==typeof _)){if(s)return w(s,_)}else if(E){if(l)return C(l,_)}else if(c)return function(s,l){return!!listGetNode(s,l)}(c,_);return!1},set:function(_,y){T&&_&&("object"==typeof _||"function"==typeof _)?(s||(s=new T),A(s,_,y)):E?(l||(l=new E),O(l,_,y)):(c||(c={key:{},next:null}),function(s,l,c){var _=listGetNode(s,l);_?_.value=c:s.next={key:l,next:s.next,value:c}}(c,_,y))}};return _}},85249:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Component=void 0;var m=function(s){function Component(l,c,_){var y=s.call(this)||this;return y._element=l,y._key=c,y._config=_,y._enabled=void 0===y._config.enabled||y._config.enabled,y}return y(Component,s),Component.prototype.init=function(){this._init(),this._enabled&&this.enable()},Component.prototype._init=function(){},Object.defineProperty(Component.prototype,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),Component.prototype.enable=function(){this._onEnable(),this._enabled=!0},Component.prototype.disable=function(){this._onDisable(),this._enabled=!1},Component.prototype._onDisable=function(){},Component.prototype._onEnable=function(){},Component}(c(58687).utils.EventEmitter);l.Component=m},98930:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Container=void 0;var m=c(58687),v=function(s){function Container(){return null!==s&&s.apply(this,arguments)||this}return y(Container,s),Container.prototype._createNode=function(){this._node=new m.Container},Container}(c(24340).LayoutElement);l.Container=v},48917:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Layout=void 0;var m=c(80299),v=function(s){function Layout(l){var c,_=m.App.config.layouts[l];return _.key=l,c=s.call(this,_)||this,m.App.screen.on("resize",c._onScreenResize,c),c}return y(Layout,s),Layout.prototype._onDestroy=function(){m.App.screen.off("resize",this._onScreenResize,this),m.App.screen.off("resize",this._setSystemStates,this),m.App.off("state",this._setSystemStates,this)},Layout.prototype._onScreenResize=function(){this.resetAttributes()},Layout.prototype._init=function(){this._setLayoutEvents(),this._setSystemStates()},Layout.prototype._setLayoutEvents=function(){m.App.screen.on("resize",this._setSystemStates,this),m.App.on("state",this._setSystemStates,this)},Layout.prototype._setSystemStates=function(){var s=window.Globals,l=[m.App.screen.position,m.App.screen.position.substring(0,3),m.App.screen.type,s.locale,s.platform];return m.App.scenes.current&&l.push(m.App.scenes.current.constructor.name),this.states.set(l),l},Layout}(c(98930).Container);l.Layout=v},24340:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__createBinding||(Object.create?function(s,l,c,_){void 0===_&&(_=c);var y=Object.getOwnPropertyDescriptor(l,c);y&&!("get"in y?!l.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,_,y)}:function(s,l,c,_){void 0===_&&(_=c),s[_]=l[c]}),v=this&&this.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),T=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(null!=s)for(var c in s)"default"!==c&&Object.prototype.hasOwnProperty.call(s,c)&&m(l,s,c);return v(l,s),l};Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElement=void 0;var E=function(s){function LayoutElement(l){var c=s.call(this)||this;return c._children=new Map,c.forcedProperties={},c._setConfig(l),c._createNode(),c._createStates(),c._createAttributes(),c._createChildren(),c._createTweens(),c._createComponents(),c._setEvents(),c._init(),c._initComponents(),c}return y(LayoutElement,s),Object.defineProperty(LayoutElement.prototype,"root",{get:function(){for(var s,l=this._parent;l;)s=l,l=l.parent;return s||this},enumerable:!1,configurable:!0}),LayoutElement.prototype.getContainedElements=function(s,l){var c=this;return void 0===l&&(l=[]),(s=s||this._children).forEach((function(s){l.push(s),c.getContainedElements(s.children,l)})),l},LayoutElement.prototype._setEvents=function(){this.node.on("added",this.initAttributesRecursively,this)},LayoutElement.prototype._onAdded=function(){},LayoutElement.prototype.initAttributesRecursively=function(){this._onAdded(),this._attributes.init(),this._children.forEach((function(s){s.initAttributesRecursively()}))},Object.defineProperty(LayoutElement.prototype,"parent",{get:function(){return this._parent},set:function(s){this._parent=s},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"components",{get:function(){return this._components},enumerable:!1,configurable:!0}),LayoutElement.prototype._createComponents=function(){if(this._components={},this._config.components&&w.App.config.components)for(var s in this._config.components)w.App.config.components&&w.App.config.components[s]&&(this._components[s]=new w.App.config.components[s](this,s,this._config.components[s]))},LayoutElement.prototype._initComponents=function(){for(var s in this._components)this._components[s].init()},LayoutElement.prototype._init=function(){},LayoutElement.prototype._createTweens=function(){this._tweens=new A.LayoutElementTweens(this)},Object.defineProperty(LayoutElement.prototype,"attributes",{get:function(){return this._attributes},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"states",{get:function(){return this._states},enumerable:!1,configurable:!0}),LayoutElement.prototype.setInteractive=function(){this._node.interactive=!0},Object.defineProperty(LayoutElement.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),LayoutElement.prototype.addChild=function(s){this._node.addChild(s.node),this._children.set(s.key,s),s.parent=this,s.states.update()},LayoutElement.prototype.removeChild=function(s){this._node.removeChild(s.node),this._children.delete(s.key),s.parent=null},Object.defineProperty(LayoutElement.prototype,"x",{get:function(){return this._node.x},set:function(s){this.set("x",s)},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"y",{get:function(){return this._node.y},set:function(s){this.set("y",s)},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"height",{get:function(){return this._node.height},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"width",{get:function(){return this._node.width},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"tweens",{get:function(){return this._tweens},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"key",{get:function(){return this._config.key},enumerable:!1,configurable:!0}),LayoutElement.prototype.hide=function(){return this.set("visible",!1),this},LayoutElement.prototype.show=function(){return this.set("visible",!0),this},LayoutElement.prototype.child=function(s){if(-1!==s.indexOf(" ")){for(var l=this,c=0,_=s.split(" ");c<_.length;c++){var y=_[c];l=l.child(y)}return l}return this._children.get(s)},LayoutElement.prototype._createChildren=function(){if(this._children=new Map,this._config.children)for(var s in this._config.children)this._createChild(s,this._config.children[s])},LayoutElement.prototype._createChild=function(s,l){void 0===l.key&&(l.key=s);var c=S.LayoutElementsFactory.create(l);this._children.set(s,c),c.parent=this,c.config.parent&&w.App.scenes.current?w.App.scenes.current.layout?w.App.scenes.current.layout.child(c.config.parent).addChild(c):w.App.scenes.current.once("created",(function(){w.App.scenes.current.layout.child(c.config.parent).addChild(c)})):this._node.addChild(c.node)},Object.defineProperty(LayoutElement.prototype,"position",{get:function(){return{x:this._node.x,y:this._node.y}},set:function(s){this.set("x",s.x),this.set("y",s.y)},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"pivot",{get:function(){return{x:this._node.pivot.x,y:this._node.pivot.y}},set:function(s){this.set("pivot",s)},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"angle",{get:function(){return this._node.angle},set:function(s){this.set("angle",s)},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElement.prototype,"alpha",{get:function(){return this._node.alpha},set:function(s){this.set("alpha",s)},enumerable:!1,configurable:!0}),LayoutElement.prototype.setScale=function(s,l){void 0===l&&(l=s);var c={x:s,y:l};return this.set("scale",c),this},LayoutElement.prototype.setPosition=function(s,l){return this.position={x:s,y:l},this},LayoutElement.prototype._setConfig=function(s){this._config="string"==typeof s?{key:s}:s},LayoutElement.prototype._onDestroy=function(){},LayoutElement.prototype.destroy=function(){for(var s in this.emit("destroy"),this._onDestroy(),this._tweens.stop(),this._attributes.clearEvents(),this.components)this.components[s].disable(),this.components[s]=null;this._children.size&&this._children.forEach((function(s){return s.destroy()})),this._node&&(this._node.destroy(),this._node=null),this._parent&&this._parent.children.delete(this.key)},Object.defineProperty(LayoutElement.prototype,"node",{get:function(){return this._node},enumerable:!1,configurable:!0}),LayoutElement.prototype._createStates=function(){this._states=new P.LayoutElementStates(this)},LayoutElement.prototype._createAttributes=function(){this._attributes=new O.LayoutElementAttributes(this)},LayoutElement.prototype.set=function(s,l){this._attributes.set(s,l)},LayoutElement.prototype.setAnchor=function(s){return this.set("anchor",s),this},LayoutElement.prototype.setAngle=function(s){return this.set("angle",s),this},Object.defineProperty(LayoutElement.prototype,"globalPosition",{get:function(){for(var s=this._node&&this._node.parent?this._node.parent.scale:{x:1,y:1},l=this._node.x*s.x,c=this._node.y*s.y,_=this._node.parent;_;){var y=_.parent?_.parent.scale:{x:1,y:1};l+=_.x*y.x,c+=_.y*y.y,_=_.parent}return{x:l,y:c}},enumerable:!1,configurable:!0}),LayoutElement.prototype._createNode=function(){},LayoutElement.prototype.getLocalPositionFor=function(s){return this.node.toLocal(s.node.parent.toGlobal(s.position))},LayoutElement.prototype.changeParent=function(s){var l=s.getLocalPositionFor(this);s.addChild(this),this.position={x:l.x/w.App.screen.multiplier,y:l.y/w.App.screen.multiplier}},LayoutElement.prototype.resetAttributes=function(){this._attributes.init(),this.children.forEach((function(s){return s.resetAttributes()}))},LayoutElement.prototype.getComponent=function(s){var l=this,c=Object.keys(this.components).find((function(c){return l.components[c]instanceof s}));return c?this.components[c]:null},LayoutElement}(T(c(58687)).utils.EventEmitter);l.LayoutElement=E;var S=c(745),A=c(76859),w=c(80299),P=c(56923),O=c(46016)},51611:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementsConfig=void 0,l.LayoutElementsConfig={}},745:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementsFactory=void 0;var _=c(51611),y=c(80299),m=c(53249),v=function(){function LayoutElementsFactory(){}return LayoutElementsFactory.create=function(s){var l=s.type||"Sprite";void 0===s.text&&void 0===s.style||(l="Text");var c=m.Utils.merge(_.LayoutElementsConfig,y.App.config.elements);if("string"==typeof s&&(s=y.App.config.layouts[s]),"string"==typeof s.layout&&(s=m.Utils.merge(s,y.App.config.layouts[s.layout])),"string"==typeof s.children&&(s.children=y.App.config.layouts[s.children]),c&&c[l])return new c[l](s);console.log("Error creating layout element",c,l,s)},LayoutElementsFactory}();l.LayoutElementsFactory=v},81985:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Sprite=void 0;var m=c(80299),v=c(24340),T=c(58687),E=function(s){function Sprite(){return null!==s&&s.apply(this,arguments)||this}return y(Sprite,s),Object.defineProperty(Sprite.prototype,"_textureName",{get:function(){return this._config.texture?this._config.texture:this.key},enumerable:!1,configurable:!0}),Object.defineProperty(Sprite.prototype,"_texture",{get:function(){return m.App.loader.res[this._textureName]},enumerable:!1,configurable:!0}),Object.defineProperty(Sprite.prototype,"texture",{set:function(s){this._node.texture=m.App.loader.res[s]},enumerable:!1,configurable:!0}),Object.defineProperty(Sprite.prototype,"sprite",{get:function(){return this._node},enumerable:!1,configurable:!0}),Sprite.prototype._createNode=function(){this._node=new T.Sprite(this._texture)},Object.defineProperty(Sprite.prototype,"anchor",{get:function(){return this.node.anchor},set:function(s){this.set("anchor",s)},enumerable:!1,configurable:!0}),Sprite}(v.LayoutElement);l.Sprite=E},78182:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Text=void 0;var m=c(58687),v=c(80299),T=function(s){function Text(){return null!==s&&s.apply(this,arguments)||this}return y(Text,s),Text.prototype._createNode=function(){var s=this._config.style;"string"==typeof s&&(s=v.App.config.data.styles[s]),this._node=new m.Text(v.App.locale.text(this._config.text),s)},Object.defineProperty(Text.prototype,"text",{get:function(){return this._node.text},set:function(s){this._node.text=v.App.locale.text(s)},enumerable:!1,configurable:!0}),Text}(c(24340).LayoutElement);l.Text=T},66895:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttribute=void 0;var _=c(80299),y=function(){function LayoutElementAttribute(s,l,c){this._key=l,this._element=s,this._property=c||this._key}return Object.defineProperty(LayoutElementAttribute.prototype,"property",{get:function(){return this._property},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutElementAttribute.prototype,"key",{get:function(){return this._key},enumerable:!1,configurable:!0}),LayoutElementAttribute.prototype._getActiveConfigs=function(){var s=[],l=this._element.config.states||{},c=_.App.config.data.states||{},y={};for(var m in c)y[m]=c[m];for(var m in l)y[m]=l[m];for(var m in y){var v=y[m],T=m.split(" ");this._element.states.has(T)&&s.push(v)}return s},Object.defineProperty(LayoutElementAttribute.prototype,"_stateValue",{get:function(){var s=this,l=this._element.config[this._key];return this._getActiveConfigs().forEach((function(c){void 0!==c[s._key]&&(l=c[s._key])})),l},enumerable:!1,configurable:!0}),LayoutElementAttribute.prototype.init=function(){void 0===this._element.forcedProperties[this._property]&&void 0!==this.getCalculatedValue()&&this.setValue()},LayoutElementAttribute.prototype.setValue=function(s){this._element.node[this._property]=this.getCalculatedValue(s)},LayoutElementAttribute.prototype.getCalculatedValue=function(s){return void 0!==s?s:this._stateValue},LayoutElementAttribute}();l.LayoutElementAttribute=y},38078:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeAlpha=void 0;var m=function(s){function LayoutElementAttributeAlpha(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeAlpha,s),LayoutElementAttributeAlpha}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeAlpha=m},36851:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeAnchor=void 0;var m=function(s){function LayoutElementAttributeAnchor(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeAnchor,s),LayoutElementAttributeAnchor.prototype.setValue=function(s){if(this._element.node.anchor){var l=this.getCalculatedValue(s);"number"==typeof l&&this._element.node.anchor.set(l),l&&"number"==typeof l.x&&(this._element.node.anchor.x=l.x),l&&"number"==typeof l.y&&(this._element.node.anchor.y=l.y)}},LayoutElementAttributeAnchor.prototype.getCalculatedValue=function(s){if(this._element.node.anchor){var l=.5;return void 0!==s?l=s:void 0!==this._stateValue&&(l=this._stateValue),l}},LayoutElementAttributeAnchor}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeAnchor=m},23211:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeAngle=void 0;var m=function(s){function LayoutElementAttributeAngle(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeAngle,s),LayoutElementAttributeAngle}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeAngle=m},16958:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeBottom=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeBottom(l,c){return s.call(this,l,c,"y")||this}return y(LayoutElementAttributeBottom,s),LayoutElementAttributeBottom.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s){var l=m.App.screen.px(s);return"string"==typeof s&&0!==s.indexOf("%")&&(l=parseInt(s.replace("%","")),l=m.App.screen.height*l/100),m.App.screen.height-l}},LayoutElementAttributeBottom}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeBottom=v},25686:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeCx=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeCx(l,c){return s.call(this,l,c,"x")||this}return y(LayoutElementAttributeCx,s),LayoutElementAttributeCx.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s){var l=m.App.screen.px(s);return"string"==typeof s&&0!==s.indexOf("%")&&(l=parseInt(s.replace("%","")),l=m.App.screen.width*l/100),m.App.screen.center.x+l}},LayoutElementAttributeCx}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeCx=v},26629:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeCy=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeCy(l,c){return s.call(this,l,c,"y")||this}return y(LayoutElementAttributeCy,s),LayoutElementAttributeCy.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s){var l=m.App.screen.px(s);return"string"==typeof s&&0!==s.indexOf("%")&&(l=parseInt(s.replace("%","")),l=m.App.screen.height*l/100),m.App.screen.center.y+l}},LayoutElementAttributeCy}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeCy=v},99743:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeGx=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeGx(l,c){return s.call(this,l,c,"x")||this}return y(LayoutElementAttributeGx,s),LayoutElementAttributeGx.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s){var l=s;"string"==typeof s&&0!==s.indexOf("%")&&(l=parseInt(s.replace("%","")),l=m.App.screen.width*l/100);for(var c=this._element.node.parent;c;)l-=c.x,c=c.parent;return l}},LayoutElementAttributeGx}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeGx=v},83288:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeGy=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeGy(l,c){return s.call(this,l,c,"y")||this}return y(LayoutElementAttributeGy,s),LayoutElementAttributeGy.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s){var l=s;"string"==typeof s&&0!==s.indexOf("%")&&(l=parseInt(s.replace("%","")),l=m.App.screen.height*l/100);for(var c=this._element.node.parent;c;)l-=c.y,c=c.parent;return l}},LayoutElementAttributeGy}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeGy=v},94942:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeHeight=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeHeight(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeHeight,s),LayoutElementAttributeHeight.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s){var l=s;return"string"==typeof s&&0!==s.indexOf("%")&&(l=parseInt(s.replace("%","")),l=m.App.screen.height*l/100),l}},LayoutElementAttributeHeight}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeHeight=v},29669:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeOx=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeOx(l,c){return s.call(this,l,c,"x")||this}return y(LayoutElementAttributeOx,s),LayoutElementAttributeOx.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s)return this._element.node.x+m.App.screen.px(s)},LayoutElementAttributeOx}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeOx=v},31378:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeOy=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeOy(l,c){return s.call(this,l,c,"y")||this}return y(LayoutElementAttributeOy,s),LayoutElementAttributeOy.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s)return this._element.node.y+m.App.screen.px(s)},LayoutElementAttributeOy}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeOy=v},6437:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributePivot=void 0;var m=function(s){function LayoutElementAttributePivot(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributePivot,s),LayoutElementAttributePivot}(c(66895).LayoutElementAttribute);l.LayoutElementAttributePivot=m},76851:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeRight=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeRight(l,c){return s.call(this,l,c,"x")||this}return y(LayoutElementAttributeRight,s),LayoutElementAttributeRight.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s){var l=m.App.screen.px(s);return"string"==typeof s&&0!==s.indexOf("%")&&(l=parseInt(s.replace("%","")),l=m.App.screen.width*l/100),m.App.screen.width-l}},LayoutElementAttributeRight}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeRight=v},26312:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeScale=void 0;var m=function(s){function LayoutElementAttributeScale(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeScale,s),LayoutElementAttributeScale.prototype.setValue=function(s){var l=this.getCalculatedValue(s);"number"==typeof l&&this._element.node.scale.set(l),l&&"number"==typeof l.x&&(this._element.node.scale.x=l.x),l&&"number"==typeof l.y&&(this._element.node.scale.y=l.y)},LayoutElementAttributeScale}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeScale=m},91873:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeSkew=void 0;var m=function(s){function LayoutElementAttributeSkew(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeSkew,s),LayoutElementAttributeSkew.prototype.setValue=function(s){var l=this.getCalculatedValue(s);"number"==typeof l&&this._element.node.skew.set(l),l&&"number"==typeof l.x&&(this._element.node.skew.x=l.x),l&&"number"==typeof l.y&&(this._element.node.skew.y=l.y)},LayoutElementAttributeSkew}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeSkew=m},59924:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeTint=void 0;var m=function(s){function LayoutElementAttributeTint(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeTint,s),LayoutElementAttributeTint}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeTint=m},93956:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeVisible=void 0;var m=function(s){function LayoutElementAttributeVisible(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeVisible,s),LayoutElementAttributeVisible}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeVisible=m},19079:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeWidth=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeWidth(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeWidth,s),LayoutElementAttributeWidth.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s){var l=s;return"string"==typeof s&&0!==s.indexOf("%")&&(l=parseInt(s.replace("%","")),l=m.App.screen.width*l/100),l}},LayoutElementAttributeWidth}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeWidth=v},69303:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeX=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeX(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeX,s),LayoutElementAttributeX.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s){var l=m.App.screen.px(s);return"string"==typeof s&&0!==s.indexOf("%")&&(l=parseInt(s.replace("%","")),l=m.App.screen.width*l/100),l}},LayoutElementAttributeX}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeX=v},29733:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributeY=void 0;var m=c(80299),v=function(s){function LayoutElementAttributeY(l,c){return s.call(this,l,c)||this}return y(LayoutElementAttributeY,s),LayoutElementAttributeY.prototype.getCalculatedValue=function(s){if(void 0===s&&(s=this._stateValue),void 0!==s){var l=m.App.screen.px(s);return"string"==typeof s&&0!==s.indexOf("%")&&(l=parseInt(s.replace("%","")),l=m.App.screen.height*l/100),l}},LayoutElementAttributeY}(c(66895).LayoutElementAttribute);l.LayoutElementAttributeY=v},46016:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributes=void 0;var _=c(71117),y=function(){function LayoutElementAttributes(s){this._element=s,this._attributes=new Map,this._create(),this._setEvents(),this.init()}return LayoutElementAttributes.prototype.get=function(s){return this._attributes.get(s)},LayoutElementAttributes.prototype.set=function(s,l){this.get(s).setValue(l)},LayoutElementAttributes.prototype._setEvents=function(){this._element.states.on("change",this.init,this)},LayoutElementAttributes.prototype.clearEvents=function(){this._element.states.off("change",this.init,this)},LayoutElementAttributes.prototype._create=function(){for(var s in _.LayoutElementAttributesConfig)this._attributes.set(s,new _.LayoutElementAttributesConfig[s](this._element,s))},LayoutElementAttributes.prototype.init=function(){this._attributes.forEach((function(s){return s.init()}))},LayoutElementAttributes}();l.LayoutElementAttributes=y},71117:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementAttributesConfig=void 0;var _=c(38078),y=c(36851),m=c(59924),v=c(94942),T=c(26312),E=c(19079),S=c(25686),A=c(26629),w=c(16958),P=c(76851),O=c(29733),C=c(69303),R=c(29669),L=c(31378),D=c(93956),B=c(99743),F=c(83288),k=c(23211),U=c(91873),G=c(6437);l.LayoutElementAttributesConfig={alpha:_.LayoutElementAttributeAlpha,angle:k.LayoutElementAttributeAngle,scale:T.LayoutElementAttributeScale,skew:U.LayoutElementAttributeSkew,tint:m.LayoutElementAttributeTint,anchor:y.LayoutElementAttributeAnchor,x:C.LayoutElementAttributeX,y:O.LayoutElementAttributeY,cx:S.LayoutElementAttributeCx,cy:A.LayoutElementAttributeCy,bottom:w.LayoutElementAttributeBottom,right:P.LayoutElementAttributeRight,width:E.LayoutElementAttributeWidth,height:v.LayoutElementAttributeHeight,visible:D.LayoutElementAttributeVisible,ox:R.LayoutElementAttributeOx,oy:L.LayoutElementAttributeOy,gx:B.LayoutElementAttributeGx,gy:F.LayoutElementAttributeGy,pivot:G.LayoutElementAttributePivot}},53140:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.BasePlatform=void 0;var m=function(s){function BasePlatform(l){void 0===l&&(l="default");var c=s.call(this)||this;return c._key=l,c}return y(BasePlatform,s),BasePlatform.prototype.init=function(){var s=this;return new Promise((function(l){s.once("ready",(function(){return l()})),s._onReady()}))},Object.defineProperty(BasePlatform.prototype,"code",{get:function(){return this._key},enumerable:!1,configurable:!0}),BasePlatform.prototype._onReady=function(){this.emit("ready")},BasePlatform}(c(58687).utils.EventEmitter);l.BasePlatform=m},53537:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.PlatformFactory=void 0;var _=c(75561),y=c(53140),m=function(){function PlatformFactory(){}return PlatformFactory.create=function(){for(var s in _.PlatformsConfig)if(void 0!==window[s])return new _.PlatformsConfig[s];return new y.BasePlatform},PlatformFactory}();l.PlatformFactory=m},75561:(s,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.PlatformsConfig=void 0,l.PlatformsConfig={}},80299:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__createBinding||(Object.create?function(s,l,c,_){void 0===_&&(_=c);var y=Object.getOwnPropertyDescriptor(l,c);y&&!("get"in y?!l.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,_,y)}:function(s,l,c,_){void 0===_&&(_=c),s[_]=l[c]}),v=this&&this.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),T=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(null!=s)for(var c in s)"default"!==c&&Object.prototype.hasOwnProperty.call(s,c)&&m(l,s,c);return v(l,s),l};Object.defineProperty(l,"__esModule",{value:!0}),l.App=l.Application=void 0;var E=T(c(58687)),S=c(2886),A=c(77802),w=c(87280),P=c(51184),O=c(75118),C=c(53537),R=c(97332),L=c(3230),D=function(s){function Application(){var l=s.call(this)||this;return l._timeStarted=Date.now(),l._timeLoaded=0,l._config={},l._paused=!1,l._data=new Map,l}return y(Application,s),Object.defineProperty(Application.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"popups",{get:function(){return this._popups},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"timeStarted",{get:function(){return this._timeStarted},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"timeLoaded",{get:function(){return this._timeLoaded},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"timeFromStart",{get:function(){return Date.now()-this._timeStarted},enumerable:!1,configurable:!0}),Application.prototype.run=function(s){var l=this;this._config=s,this._audio=new w.AudioManager,this._tweens=new L.TweensManager,this._screen=new S.ScreenManager(s.data.screen),this._locale=new A.LocaleManager(s.data.locales,window.Globals.locale),this._popups=new R.PopupsManager(s.popups),this._platform=C.PlatformFactory.create(),this._platform.on("soundEnabledChange",this._onAudioEnabledChange.bind(this)),this._platform.on("paused",this.pause.bind(this)),this._platform.on("resumed",this.resume.bind(this)),document.addEventListener("visibilitychange",this._onVisibleChange.bind(this)),this._screen.on("resize",(function(){l._app.renderer.resize(l._screen.width,l._screen.height)})),this._platform.init().then(this._setup.bind(this)).then(this._onLoaderReady.bind(this))},Application.prototype._setup=function(){var s=this;return this._init(),this._loader.preload(l.App.config.resources.sounds).then((function(){return s._loader.preload(l.App.config.resources.base)}))},Object.defineProperty(Application.prototype,"audio",{get:function(){return this._audio},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"interactionManager",{get:function(){return this._paused?null:this.app.renderer.plugins.interaction},enumerable:!1,configurable:!0}),Application.prototype.pause=function(){this._paused||(console.log("App paused"),this._paused=!0,this._audio.stopAudios(),this._audio.stopMusic(),this._audio.active=!1,this.app.renderer.plugins.interaction.destroy(),this.app.ticker.stop())},Application.prototype.resume=function(){this._paused&&(console.log("App resumed"),this._audio.active=!0,this._audio.startMusic(),this.app.ticker.start(),this._paused=!1)},Object.defineProperty(Application.prototype,"locale",{get:function(){return this._locale},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"screen",{get:function(){return this._screen},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"loader",{get:function(){return this._loader},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"scenes",{get:function(){return this._scenes},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"platform",{get:function(){return this._platform},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Application.prototype._onVisibleChange=function(){this._onAudioEnabledChange("visible"===document.visibilityState)},Application.prototype._onAudioEnabledChange=function(s){this._audio.available=s},Application.prototype._init=function(){this._app=new E.Application({view:document.getElementById("game-canvas"),antialias:!1,backgroundColor:"#fff",width:this._screen.width,height:this._screen.height}),this._app.ticker.add(this._onUpdate.bind(this)),this._screen.reset(),this._audio.available=!0,this._scenes=new P.ScenesManager(this._config.scenes),this._scenes.layers.front.addChild(this._popups.node),this._app.stage.addChild(this._scenes.node),this._loader=new O.Loader,this.emit("inited")},Application.prototype._onLoaderReady=function(){this._timeLoaded=Date.now(),this.emit("ready");var s=document.getElementById("preloader");s&&(s.style.visibility="hidden",s.style.display="none"),this._platform.emit("loader-ready"),this._scenes.start(this.config.data.settings.startScene||"Start")},Object.defineProperty(Application.prototype,"stage",{get:function(){return this._app.stage},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"tweens",{get:function(){return this._tweens},enumerable:!1,configurable:!0}),Application.prototype._onUpdate=function(s){this._tweens.update(),this.screen.reset()},Application}(E.utils.EventEmitter);l.Application=D,l.App=new D},87280:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.AudioManager=void 0;var _=c(80299),y=c(24250),m=function(){function AudioManager(){this._loaded=!1,this._audios=[],this._active=!0,this._available=!0,this._musicVolume=.1,this._active=!0,this._available=!0,this._musicFileName="music"}return Object.defineProperty(AudioManager.prototype,"musicFileName",{get:function(){return this._musicFileName},set:function(s){this._musicFileName=s},enumerable:!1,configurable:!0}),Object.defineProperty(AudioManager.prototype,"active",{get:function(){return this._active},set:function(s){this._active=s,this._onChange()},enumerable:!1,configurable:!0}),Object.defineProperty(AudioManager.prototype,"available",{get:function(){return this._available},set:function(s){this._available=s,this._onChange()},enumerable:!1,configurable:!0}),AudioManager.prototype._onChange=function(){this._available&&this.active?this._loaded&&this.startMusic(this._musicVolume):this._loaded&&(this.stopMusic(),this.stopAudios())},AudioManager.prototype.stopAudios=function(){this._audios.forEach((function(s){return s.stop()}))},AudioManager.prototype.playOneshot=function(s,l){void 0===l&&(l=1),this.play(s,l,!0)},AudioManager.prototype.playIfStopped=function(s,l){void 0===l&&(l=1);var c=this.get(s);c&&!c.isPlaying&&this.play(s,l,!0)},AudioManager.prototype.get=function(s){return _.App.loader.res[s]},AudioManager.prototype.play=function(s,l,c,_){if(void 0===l&&(l=1),void 0===c&&(c=!1),void 0===_&&(_=!1),this._available&&this._active){var y=this.get(s);c||y&&y.isPlaying&&y.stop(),!y||!c&&y.isPlaying||(y.loop=_,y.play({volume:l}),this._audios.includes(y)||this._audios.push(y))}},AudioManager.prototype.playMusic=function(s){void 0===s&&(s=.2),window.Globals.allowAudioOnInteract?(_.App.stage.interactive=!0,_.App.stage.once("pointerdown",this.startMusic.bind(this,s))):this.startMusic(s)},Object.defineProperty(AudioManager.prototype,"music",{get:function(){return this.get("music")},enumerable:!1,configurable:!0}),AudioManager.prototype.fadeMusicIn=function(s){return void 0===s&&(s=500),_.App.tweens.animate(this.music,{volume:this._musicVolume},s)},AudioManager.prototype.fadeMusicOut=function(s){return void 0===s&&(s=500),_.App.tweens.animate(this.music,{volume:0},s)},AudioManager.prototype.switchMusic=function(s,l){var c=this;void 0===l&&(l=.1),this.fadeMusicOut().then((function(){c.stopMusic(),c._musicFileName=s,c.startMusic(l)}))},AudioManager.prototype.startMusic=function(s){void 0===s&&(s=.1);var l=this.music;this._musicVolume=s,l&&!l.isPlaying&&(l.loop=!0,l.volume=0,l.play(),this._loaded=!0,this.fadeMusicIn())},AudioManager.prototype.stopMusic=function(){this.music&&this.music.pause()},AudioManager.prototype.stop=function(s){if(this._available&&this._active){var l=this.get(s);l&&l.isPlaying&&y.sound.stop(s)}},AudioManager}();l.AudioManager=m},98915:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Layer=void 0;var m=c(58687),v=function(s){function Layer(){var l=s.call(this)||this;return l._node=new m.Container,l}return y(Layer,s),Object.defineProperty(Layer.prototype,"node",{get:function(){return this._node},enumerable:!1,configurable:!0}),Layer.prototype.addChild=function(s){this._node.addChild(s)},Layer}(m.utils.EventEmitter);l.Layer=v},56923:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementStates=void 0;var m=function(s){function LayoutElementStates(l){var c=s.call(this)||this;return c._customStates=[],c._items=[],c._element=l,c.update(),c}return y(LayoutElementStates,s),Object.defineProperty(LayoutElementStates.prototype,"_parentStates",{get:function(){for(var s=this._element.parent,l=[];s;)s.states.items&&s.states.items.forEach((function(s){l.push(s)})),s=s.parent;return Array.from(new Set(l))},enumerable:!1,configurable:!0}),LayoutElementStates.prototype.add=function(s){this._customStates.includes(s)||(this._customStates.push(s),this.update())},LayoutElementStates.prototype.remove=function(s){this._customStates.includes(s)&&(this._customStates=this._customStates.filter((function(l){return s!==l})),this.update())},LayoutElementStates.prototype.set=function(s){"string"==typeof s&&(s=[s]),this._customStates=s,this.update()},LayoutElementStates.prototype.update=function(){var s=this,l=[];this._customStates.forEach((function(s){l.push(s)})),this._parentStates.forEach((function(s){l.push(s)}));var c=Array.from(new Set(l)),_=this._items.filter((function(s){return!c.includes(s)})),y=c.filter((function(l){return!s._items.includes(l)}));(y.length||_.length)&&(this._items=c,this.emit("change"),this._updateChildren()),y.forEach((function(l){s.emit("added",l),s.emit("".concat(l,"-added"))})),_.forEach((function(l){s.emit("removed",l),s.emit("".concat(l,"-removed"))}))},LayoutElementStates.prototype._updateChildren=function(){this._element.children.forEach((function(s){return s.states.update()}))},LayoutElementStates.prototype.has=function(s){var l=this;return"string"==typeof s&&(s=[s]),!s.find((function(s){return!l.items.includes(s)}))},Object.defineProperty(LayoutElementStates.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),LayoutElementStates}(c(58687).utils.EventEmitter);l.LayoutElementStates=m},76859:function(s,l,c){"use strict";var _=this&&this.__awaiter||function(s,l,c,_){return new(c||(c=Promise))((function(y,m){function fulfilled(s){try{step(_.next(s))}catch(s){m(s)}}function rejected(s){try{step(_.throw(s))}catch(s){m(s)}}function step(s){s.done?y(s.value):function adopt(s){return s instanceof c?s:new c((function(l){l(s)}))}(s.value).then(fulfilled,rejected)}step((_=_.apply(s,l||[])).next())}))},y=this&&this.__generator||function(s,l){var c,_,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function verb(m){return function(T){return function step(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,_&&(y=2&m[0]?_.return:m[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,m[1])).done)return y;switch(_=0,y&&(m=[2&m[0],y.value]),m[0]){case 0:case 1:y=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,_=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!(y=v.trys,(y=y.length>0&&y[y.length-1])||6!==m[0]&&2!==m[0])){v=0;continue}if(3===m[0]&&(!y||m[1]>y[0]&&m[1]<y[3])){v.label=m[1];break}if(6===m[0]&&v.label<y[1]){v.label=y[1],y=m;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(m);break}y[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(s){m=[6,s],_=0}finally{c=y=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,T])}}},m=this&&this.__spreadArray||function(s,l,c){if(c||2===arguments.length)for(var _,y=0,m=l.length;y<m;y++)!_&&y in l||(_||(_=Array.prototype.slice.call(l,0,y)),_[y]=l[y]);return s.concat(_||Array.prototype.slice.call(l))};Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementTweens=void 0;var v=c(80299),T=function(){function LayoutElementTweens(s){this._element=s,this._node=s.node,this._tweens=[],this._element.states.on("added",this._onStatesAdded,this)}return Object.defineProperty(LayoutElementTweens.prototype,"isPlaying",{get:function(){return this._tweens.length>0},enumerable:!1,configurable:!0}),LayoutElementTweens.prototype._onStatesAdded=function(s){if(this._element.config.tweens)for(var l in this._element.config.tweens)void 0!==this._element.config.tweens[l].on&&("string"==typeof this._element.config.tweens[l].on&&this._element.config.tweens[l].on===s||Array.isArray(this._element.config.tweens[l].on)&&this._element.config.tweens[l].on.includes(s))&&this.play(l)},LayoutElementTweens.prototype._getTweenConfig=function(s){var l=void 0;return this._element.config.tweens&&this._element.config.tweens[s]?l=this._element.config.tweens[s]:v.App.config.data.tweens&&v.App.config.data.tweens[s]&&(l=v.App.config.data.tweens[s]),l},LayoutElementTweens.prototype._getPropertiesFromConfig=function(s){var l={};if("string"==typeof s.to){var c=s.to;for(var _ in this._element.config.states||(this._element.config.states={}),(l=this._element.config.states[c])||(l=v.App.config.data.states[c]),l||(l={}),this._element.config.states){var y=_.split(" "),m=y.filter((function(s){return s!==c}));if(y.includes(c)&&this._element.states.has(m)){var T=this._element.config.states[_];for(var E in T)l[E]=T[E]}}}else l=s.to;return l},LayoutElementTweens.prototype.play=function(s){var l=this._getTweenConfig(s);return l?(Array.isArray(l)||(l=[l]),this._playConfigs(m([],l,!0))):Promise.resolve()},LayoutElementTweens.prototype._playConfigs=function(s){var l=this;return s.length?this._playConfig(s.shift()).then((function(){return l._playConfigs(s)})):Promise.resolve()},LayoutElementTweens.prototype._playConfig=function(s){var l=this,c={},_=this._getPropertiesFromConfig(s);for(var y in _){var m=this._element.attributes.get(y);m&&(c[m.property]=m.getCalculatedValue(_[y]))}return this._run(this._node,c,s.duration,s.options).then((function(){"string"==typeof s.to&&l._element.states.set(s.to)}))},LayoutElementTweens.prototype.appear=function(s,l){void 0===s&&(s=500);var c=this._node.scale.x||1;return this._node.scale.set(0),this._node.visible=!0,this.scaleTo({x:c,y:c},s,l)},LayoutElementTweens.prototype.disappear=function(s,l){return void 0===s&&(s=500),this.scaleTo(0,s,l)},LayoutElementTweens.prototype._run=function(s,l,c,_){var y=this,m=v.App.tweens.create(s);return this._tweens.push(m),v.App.tweens.run(m,l,c,_).then((function(){return v.App.tweens.stop(m),y._tweens=y._tweens.filter((function(s){return s!==m})),Promise.resolve()}))},LayoutElementTweens.prototype.stop=function(){this._tweens.forEach((function(s){v.App.tweens.stop(s)})),this._tweens=[]},LayoutElementTweens.prototype.scaleTo=function(s,l,c){var _="number"==typeof s?{x:s,y:s}:s;return this._run(this._node.scale,_,l,c)},LayoutElementTweens.prototype.rotate=function(s){void 0===s&&(s=15e3),this.rotateTo(360,s,{repeat:1/0})},LayoutElementTweens.prototype.rotateTo=function(s,l,c){return this._run(this._node,{angle:s},l,c)},LayoutElementTweens.prototype.fadeIn=function(s){return void 0===s&&(s=500),this._node.alpha=0,this._node.visible=!0,this.alphaTo(1,s)},LayoutElementTweens.prototype.fadeOut=function(s){return void 0===s&&(s=500),this.alphaTo(0,s)},LayoutElementTweens.prototype.alphaTo=function(s,l,c){return this._run(this._node,{alpha:s},l,c)},LayoutElementTweens.prototype.moveTo=function(s,l,c){return this._run(this._node,s,l,c)},LayoutElementTweens.prototype.animateTouch=function(){return _(this,void 0,void 0,(function(){var s;return y(this,(function(l){switch(l.label){case 0:return s=this._node.scale.x,[4,this.scaleTo(.8*s,75)];case 1:return l.sent(),[4,this.scaleTo(s,50)];case 2:return[2,l.sent()]}}))}))},LayoutElementTweens}();l.LayoutElementTweens=T},75118:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__createBinding||(Object.create?function(s,l,c,_){void 0===_&&(_=c);var y=Object.getOwnPropertyDescriptor(l,c);y&&!("get"in y?!l.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,_,y)}:function(s,l,c,_){void 0===_&&(_=c),s[_]=l[c]}),v=this&&this.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),T=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(null!=s)for(var c in s)"default"!==c&&Object.prototype.hasOwnProperty.call(s,c)&&m(l,s,c);return v(l,s),l};Object.defineProperty(l,"__esModule",{value:!0}),l.Loader=void 0;var E=T(c(58687)),S=function(s){function Loader(){var l=s.call(this)||this;return l._res={},l}return y(Loader,s),Loader.prototype.preload=function(s){var l=this,c=0;return new Promise((function(_){var _loop_1=function(y){var m=s[y];E.Assets.load(m.default).then((function(m){l._res[y]=m,++c>=Object.keys(s).length&&_()}))};for(var y in s)_loop_1(y)}))},Object.defineProperty(Loader.prototype,"res",{get:function(){return this._res},enumerable:!1,configurable:!0}),Loader}(E.utils.EventEmitter);l.Loader=S},77802:(s,l)=>{"use strict";var c;Object.defineProperty(l,"__esModule",{value:!0}),l.LocaleManager=l.LocalesCodes=void 0,function(s){s.en="en",s.ru="ru"}(c=l.LocalesCodes||(l.LocalesCodes={}));var _=function(){function LocaleManager(s,l){this._config=s,this._code=l||c.en,this._config[this._code]||(this._code=c.en)}return Object.defineProperty(LocaleManager.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),LocaleManager.prototype._translate=function(s){return this._locales&&this._locales[s]?this._locales[s]:null},LocaleManager.prototype.text=function(s){var l=this._translate(s);return l||s},Object.defineProperty(LocaleManager.prototype,"_locales",{get:function(){return this._config[this._code]},enumerable:!1,configurable:!0}),LocaleManager}();l.LocaleManager=_},97332:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__awaiter||function(s,l,c,_){return new(c||(c=Promise))((function(y,m){function fulfilled(s){try{step(_.next(s))}catch(s){m(s)}}function rejected(s){try{step(_.throw(s))}catch(s){m(s)}}function step(s){s.done?y(s.value):function adopt(s){return s instanceof c?s:new c((function(l){l(s)}))}(s.value).then(fulfilled,rejected)}step((_=_.apply(s,l||[])).next())}))},v=this&&this.__generator||function(s,l){var c,_,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function verb(m){return function(T){return function step(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,_&&(y=2&m[0]?_.return:m[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,m[1])).done)return y;switch(_=0,y&&(m=[2&m[0],y.value]),m[0]){case 0:case 1:y=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,_=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!(y=v.trys,(y=y.length>0&&y[y.length-1])||6!==m[0]&&2!==m[0])){v=0;continue}if(3===m[0]&&(!y||m[1]>y[0]&&m[1]<y[3])){v.label=m[1];break}if(6===m[0]&&v.label<y[1]){v.label=y[1],y=m;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(m);break}y[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(s){m=[6,s],_=0}finally{c=y=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,T])}}};Object.defineProperty(l,"__esModule",{value:!0}),l.PopupsManager=void 0;var T=function(s){function PopupsManager(l){var c=s.call(this)||this;return c._popups=new Map,c._config=l,c}return y(PopupsManager,s),PopupsManager.prototype.show=function(s,l){return m(this,void 0,void 0,(function(){var c;return v(this,(function(_){switch(_.label){case 0:return[4,this._closePopup(s)];case 1:return _.sent(),this._config&&this._config[s]&&((c=new this._config[s](s,l)).once("destroy",this._delete.bind(this,c)),this.addChild(c.node),this._popups.set(s,c)),[2]}}))}))},PopupsManager.prototype._delete=function(s){this._popups.delete(s.key)},PopupsManager.prototype._closeAll=function(){var s=this,l=0,c=this._popups.size;return new Promise((function(_){s._popups.forEach((function(y){s._closePopup(y.key).then((function(){++l>=c&&_()}))}))}))},PopupsManager.prototype._closePopup=function(s){return m(this,void 0,void 0,(function(){var l;return v(this,(function(c){switch(c.label){case 0:return(l=this._popups.get(s))?[4,l.close()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[4,Promise.resolve()];case 3:return[2,c.sent()]}}))}))},PopupsManager.prototype.close=function(s){return m(this,void 0,void 0,(function(){return v(this,(function(l){switch(l.label){case 0:return s?[3,2]:[4,this._closeAll()];case 1:return l.sent(),[3,4];case 2:return[4,this._closePopup(s)];case 3:l.sent(),l.label=4;case 4:return[4,Promise.resolve()];case 5:return[2,l.sent()]}}))}))},PopupsManager}(c(98915).Layer);l.PopupsManager=T},43039:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Scene=void 0;var m=c(80299),v=c(98915),T=c(5647),E=function(s){function Scene(l){var c=s.call(this)||this;return c._config=l,c}return y(Scene,s),Object.defineProperty(Scene.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Scene.prototype._createLayout=function(){this._config.layout&&(this._layout=new this._config.layout,this.addChild(this._layout.node))},Object.defineProperty(Scene.prototype,"layout",{get:function(){return this._layout},enumerable:!1,configurable:!0}),Scene.prototype._createActions=function(){this._actions=new T.SceneActionsManager(this)},Object.defineProperty(Scene.prototype,"actions",{get:function(){return this._actions},enumerable:!1,configurable:!0}),Scene.prototype.onDestroy=function(){console.log("destroy",this),this._layout.destroy(),this.emit("destroy")},Scene.prototype._addChild=function(s){this.addChild(s.node)},Scene.prototype.create=function(){this._createLayout(),this._createActions(),m.App.screen.reset(),this.emit("created"),this._start()},Scene.prototype._start=function(){},Scene}(v.Layer);l.Scene=E},77439:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__createBinding||(Object.create?function(s,l,c,_){void 0===_&&(_=c);var y=Object.getOwnPropertyDescriptor(l,c);y&&!("get"in y?!l.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,_,y)}:function(s,l,c,_){void 0===_&&(_=c),s[_]=l[c]}),v=this&&this.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),T=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(null!=s)for(var c in s)"default"!==c&&Object.prototype.hasOwnProperty.call(s,c)&&m(l,s,c);return v(l,s),l},E=this&&this.__awaiter||function(s,l,c,_){return new(c||(c=Promise))((function(y,m){function fulfilled(s){try{step(_.next(s))}catch(s){m(s)}}function rejected(s){try{step(_.throw(s))}catch(s){m(s)}}function step(s){s.done?y(s.value):function adopt(s){return s instanceof c?s:new c((function(l){l(s)}))}(s.value).then(fulfilled,rejected)}step((_=_.apply(s,l||[])).next())}))},S=this&&this.__generator||function(s,l){var c,_,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function verb(m){return function(T){return function step(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,_&&(y=2&m[0]?_.return:m[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,m[1])).done)return y;switch(_=0,y&&(m=[2&m[0],y.value]),m[0]){case 0:case 1:y=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,_=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!(y=v.trys,(y=y.length>0&&y[y.length-1])||6!==m[0]&&2!==m[0])){v=0;continue}if(3===m[0]&&(!y||m[1]>y[0]&&m[1]<y[3])){v.label=m[1];break}if(6===m[0]&&v.label<y[1]){v.label=y[1],y=m;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(m);break}y[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(s){m=[6,s],_=0}finally{c=y=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,T])}}};Object.defineProperty(l,"__esModule",{value:!0}),l.SceneAction=void 0;var A=function(s){function SceneAction(l,c){var _=s.call(this)||this;return _._scene=l,_._layout=l.layout,_._data=c||{},_._promise=new Promise((function(s){_._resolve=s})),_._create(),_}return y(SceneAction,s),SceneAction.prototype._create=function(){},SceneAction.prototype.run=function(){return E(this,void 0,void 0,(function(){return S(this,(function(s){switch(s.label){case 0:return[4,this._process()];case 1:return s.sent(),[2,this._promise]}}))}))},SceneAction.prototype._process=function(){return E(this,void 0,void 0,(function(){return S(this,(function(s){return[2]}))}))},SceneAction.prototype._complete=function(){this._resolve.call(this)},SceneAction}(T(c(58687)).utils.EventEmitter);l.SceneAction=A},5647:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.SceneActionsManager=void 0;var m=c(58687),v=c(31560),T=function(s){function SceneActionsManager(l){var c=s.call(this)||this;return c._queues=[],c._scene=l,c}return y(SceneActionsManager,s),SceneActionsManager.prototype.start=function(s,l){var c=new v.SceneActionsQueue(this._scene);this._queues.push(c),c.start(s,l)},SceneActionsManager}(m.utils.EventEmitter);l.SceneActionsManager=T},31560:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.SceneActionsQueue=void 0;var m=function(s){function SceneActionsQueue(l){var c=s.call(this)||this;return c._index=0,c._key="",c._data={},c._scene=l,c._layout=l.layout,c._config=l.config.actions,c}return y(SceneActionsQueue,s),SceneActionsQueue.prototype.start=function(s,l){this._index=0,this._key=s,this._data=l,this._run()},SceneActionsQueue.prototype._run=function(){var s=this,l=null,c=[];this._key&&(c=this._config[this._key]),c&&c[this._index]&&(l=new c[this._index](this._scene,this._data)),l&&l.run().then((function(){s._next()}))},SceneActionsQueue.prototype._next=function(){++this._index,this._run()},SceneActionsQueue}(c(58687).utils.EventEmitter);l.SceneActionsQueue=m},51184:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.ScenesManager=void 0;var m=c(98915),v=function(s){function ScenesManager(l){var c=s.call(this)||this;return c._current=null,c._data=null,c._layers={back:null,main:null,front:null},c._config=l,c._createLayers(),c}return y(ScenesManager,s),ScenesManager.prototype._createLayers=function(){for(var s in this._layers)this._createLayer(s)},ScenesManager.prototype._createLayer=function(s){var l=new m.Layer;this._layers[s]=l,this.addChild(l.node)},Object.defineProperty(ScenesManager.prototype,"layers",{get:function(){return this._layers},enumerable:!1,configurable:!0}),ScenesManager.prototype.start=function(s,l){void 0===l&&(l=null),this._data=l,this._destroyCurrentScene(),this._startScene(s)},ScenesManager.prototype.process=function(s,l){this.current.actions.start(s,l)},ScenesManager.prototype._startScene=function(s){var l=this._config[s];l&&l.class&&(this._current=new l.class(l.config)),this._layers.main.addChild(this._current.node),this._current.create(),this.emit(s)},ScenesManager.prototype._destroyCurrentScene=function(){this._current&&(this._current.onDestroy(),this._current.node.removeAllListeners(),this._layers.main.node.removeChildren(),this._current=null)},Object.defineProperty(ScenesManager.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(ScenesManager.prototype,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),ScenesManager}(m.Layer);l.ScenesManager=v},2886:function(s,l,c){"use strict";var _,y,m,v=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),T=this&&this.__assign||function(){return T=Object.assign||function(s){for(var l,c=1,_=arguments.length;c<_;c++)for(var y in l=arguments[c])Object.prototype.hasOwnProperty.call(l,y)&&(s[y]=l[y]);return s},T.apply(this,arguments)},E=this&&this.__createBinding||(Object.create?function(s,l,c,_){void 0===_&&(_=c);var y=Object.getOwnPropertyDescriptor(l,c);y&&!("get"in y?!l.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,_,y)}:function(s,l,c,_){void 0===_&&(_=c),s[_]=l[c]}),S=this&&this.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),A=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(null!=s)for(var c in s)"default"!==c&&Object.prototype.hasOwnProperty.call(s,c)&&E(l,s,c);return S(l,s),l};Object.defineProperty(l,"__esModule",{value:!0}),l.ScreenManager=void 0,function(s){s.default="default",s.narrow="narrow",s.wide="wide"}(y||(y={})),function(s){s.horizontal="horizontal",s.vertical="vertical"}(m||(m={}));var w=c(80299),P=function(s){function ScreenManager(l){var c=s.call(this)||this;c._position=m.horizontal,c._type=y.default,c._config=l,c._pivot={x:0,y:0},c._multiplier=1,c._init();var _=c.reset.bind(c);return window.addEventListener("resize",_,!1),window.addEventListener("orientationchange",_),window.addEventListener("deviceorientation",_,!0),c}return v(ScreenManager,s),Object.defineProperty(ScreenManager.prototype,"multiplier",{get:function(){return this._multiplier},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"pivot",{get:function(){return this._pivot},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"vertical",{get:function(){return this._position===m.vertical},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"horizontal",{get:function(){return this._position===m.horizontal},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"center",{get:function(){return{x:this._pivot.x+this.width/2,y:this._pivot.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"prev",{get:function(){return this._prev},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"_current",{get:function(){return{width:this._width,height:this._height,canvasWidth:this._canvasWidth,canvasHeight:this._canvasHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"_modified",{get:function(){return JSON.stringify(this._current)!==JSON.stringify(this._prev)},enumerable:!1,configurable:!0}),ScreenManager.prototype.reset=function(){this._init(),this._modified&&(this._resize(),this._prev=T({},this._current),this.emit("resize"))},Object.defineProperty(ScreenManager.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"narrow",{get:function(){return this._type===y.narrow},enumerable:!1,configurable:!0}),Object.defineProperty(ScreenManager.prototype,"wide",{get:function(){return this._type===y.wide},enumerable:!1,configurable:!0}),ScreenManager.prototype._setType=function(){if(window.innerHeight>window.innerWidth){this._position=m.vertical;var s=window.innerWidth/window.innerHeight;this._type=s>.7?y.wide:s<.5?y.narrow:y.default}else{this._position=m.horizontal;s=window.innerWidth/window.innerHeight;this._type=s<1.4?y.wide:s>2?y.narrow:y.default}},ScreenManager.prototype._getGameSizeByResulution=function(){var s=this._config[this._position];return{fit:s.fit,width:s.width,height:s.height}},ScreenManager.prototype._getCurrentGameSize=function(){return this._getGameSizeByResulution()},ScreenManager.prototype._getDefaultGameSize=function(){return this._getGameSizeByResulution()},ScreenManager.prototype._init=function(){this._setType();var s=this._getCurrentGameSize(),l=s.width,c=s.height,_=window.innerWidth,y=window.innerHeight;this._position===m.vertical?s.fit&&"width"===s.fit?c=Math.round(l*y/_):l=Math.round(_*c/y):s.fit&&"height"===s.fit?l=Math.round(_*c/y):c=Math.round(l*y/_),this._canvasWidth=window.innerWidth,this._canvasHeight=window.innerHeight,this._width=l,this._height=c},ScreenManager.prototype.coords=function(s,l){return{x:w.App.screen.px(s),y:w.App.screen.px(l)}},ScreenManager.prototype.px=function(s){return s*w.App.screen.multiplier},ScreenManager.prototype._resize=function(){var s=document.getElementById("game-canvas");s.style.width=this._canvasWidth+"px",s.style.height=this._canvasHeight+"px",s.width=this._width,s.height=this._height},ScreenManager}(A(c(58687)).utils.EventEmitter);l.ScreenManager=P},3230:function(s,l,c){"use strict";var _=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0}),l.TweensManager=void 0;var y=_(c(28250)),m={linear:y.default.Easing.Linear.None,quadraticIn:y.default.Easing.Quadratic.In,quadraticOut:y.default.Easing.Quadratic.Out,quadraticInOut:y.default.Easing.Quadratic.InOut,cubicIn:y.default.Easing.Cubic.In,cubicOut:y.default.Easing.Cubic.Out,cubicInOut:y.default.Easing.Cubic.InOut,quarticIn:y.default.Easing.Quartic.In,quarticOut:y.default.Easing.Quartic.Out,quarticInOut:y.default.Easing.Quartic.InOut,quinticIn:y.default.Easing.Quintic.In,quinticOut:y.default.Easing.Quintic.Out,quinticInOut:y.default.Easing.Quintic.InOut,sinusoidalIn:y.default.Easing.Sinusoidal.In,sinusoidalOut:y.default.Easing.Sinusoidal.Out,sinusoidalInOut:y.default.Easing.Sinusoidal.InOut,exponentialIn:y.default.Easing.Exponential.In,exponentialOut:y.default.Easing.Exponential.Out,exponentialInOut:y.default.Easing.Exponential.InOut,circularIn:y.default.Easing.Circular.In,circularOut:y.default.Easing.Circular.Out,circularInOut:y.default.Easing.Circular.InOut,elasticIn:y.default.Easing.Elastic.In,elasticOut:y.default.Easing.Elastic.Out,elasticInOut:y.default.Easing.Elastic.InOut,backIn:y.default.Easing.Back.In,backOut:y.default.Easing.Back.Out,backInOut:y.default.Easing.Back.InOut,bounceIn:y.default.Easing.Bounce.In,bounceOut:y.default.Easing.Bounce.Out,bounceInOut:y.default.Easing.Bounce.InOut},v={linear:y.default.Interpolation.Linear,bezier:y.default.Interpolation.Bezier,catmullRom:y.default.Interpolation.CatmullRom},T=function(){function TweensManager(){this._easings=m,this._interpolations=v}return TweensManager.prototype.run=function(s,l,c,_){var y=this;return new Promise((function(m){y._configure(s,l,c,_),s.onComplete((function(){_&&void 0!==_.onComplete&&_.onComplete(),m()})),s.start()}))},TweensManager.prototype.animate=function(s,l,c,_){var y=this.create(s);return this.run(y,l,c,_)},TweensManager.prototype.create=function(s){return new y.default.Tween(s)},TweensManager.prototype._configure=function(s,l,c,_){if(s.to(l,c),_){void 0!==_.repeat&&s.repeat(_.repeat),void 0!==_.yoyo&&s.yoyo(_.yoyo),void 0!==_.delay&&s.delay(_.delay);var y=void 0;void 0!==_.ease?y=_.ease:void 0!==_.easing&&(y=_.easing),void 0!==y&&("function"==typeof y?s.easing(y):s.easing(this._easings[y])),void 0!==_.interpolation&&s.interpolation(this._interpolations[_.interpolation]),void 0!==_.onStart&&s.onStart((function(){_.onStart()})),void 0!==_.onUpdate&&s.onUpdate((function(s,l){_.onUpdate(s,l)}))}},TweensManager.prototype.update=function(){y.default.update()},TweensManager.prototype.stop=function(s){s.stop(),y.default.remove(s)},TweensManager.prototype.removeTween=function(s){return s&&(this.stop(s),s=null),s},TweensManager}();l.TweensManager=T},53249:function(s,l,c){"use strict";var _=this&&this.__createBinding||(Object.create?function(s,l,c,_){void 0===_&&(_=c);var y=Object.getOwnPropertyDescriptor(l,c);y&&!("get"in y?!l.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,_,y)}:function(s,l,c,_){void 0===_&&(_=c),s[_]=l[c]}),y=this&&this.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),m=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(null!=s)for(var c in s)"default"!==c&&Object.prototype.hasOwnProperty.call(s,c)&&_(l,s,c);return y(l,s),l},v=this&&this.__spreadArray||function(s,l,c){if(c||2===arguments.length)for(var _,y=0,m=l.length;y<m;y++)!_&&y in l||(_||(_=Array.prototype.slice.call(l,0,y)),_[y]=l[y]);return s.concat(_||Array.prototype.slice.call(l))};Object.defineProperty(l,"__esModule",{value:!0}),l.Utils=void 0;var T=c(80299),E=m(c(58687)),S=function(){function Utils(){}return Utils.delay=function(s){return new Promise((function(l){window.setTimeout((function(){l()}),s)}))},Utils.clamp=function(s,l,c){return Math.min(c,Math.max(l,s))},Utils.step=function(s,l,c){return this.clamp((s-l)/(c-l),0,1)},Utils.isEquals=function(s,l,c){return void 0===c&&(c=Number.EPSILON),Math.abs(s-l)<c},Utils.lerpColor=function(s,l,c){var _=+s.toString().replace("#","0x"),y=_>>16,m=_>>8&255,v=255&_,T=+l.toString().replace("#","0x");return+("0x"+((1<<24)+(y+c*((T>>16)-y)<<16)+(m+c*((T>>8&255)-m)<<8)+(v+c*((255&T)-v))|0).toString(16).slice(1))},Utils.getTextureFromAtlas=function(s,l){var c=T.App.loader.res[s+".json"].frames[l];return new E.Texture(T.App.loader.res[s].texture.baseTexture,new E.Rectangle(c.frame.x,c.frame.y,c.frame.w,c.frame.h))},Utils.lerp=function(s,l,c){return(1-c)*s+c*l},Utils.base64ToArrayBuffer=function(s){for(var l=window.atob(s),c=l.length,_=new Uint8Array(c),y=0;y<c;y++)_[y]=l.charCodeAt(y);return _.buffer},Utils.importAll=function(s,l){void 0===l&&(l=!1);var c={};return s.keys().map((function(_,y){var m=_;if(l){var v="."+_.split(".").pop();m=_.replace(v,"")}c[m.replace("./","")]=s(_)})),c},Utils.random=function(s,l){return void 0===l&&(l=!1),Array.isArray(s)?this.randomEl(s):this.randomNum(s,l)},Utils.randomEl=function(s){return s[this.randomNum(0,s.length-1)]},Utils.randomNum=function(s,l){return void 0===l&&(l=0),l||(l=s,s=0),Math.floor(Math.random()*(l-s+1)+s)},Utils.shuffle=function(s){for(var l,c=s.length-1;c>0;c--){var _=Math.floor(Math.random()*(c+1));l=[s[_],s[c]],s[c]=l[0],s[_]=l[1]}return s},Utils.isObject=function(s){return s&&"object"==typeof s&&!Array.isArray(s)},Utils.merge=function(s){for(var l,c,_=[],y=1;y<arguments.length;y++)_[y-1]=arguments[y];if(!_.length)return s;var m=_.shift();if(Utils.isObject(s)&&Utils.isObject(m))for(var T in m)Utils.isObject(m[T])?(s[T]||Object.assign(s,((l={})[T]={},l)),Utils.merge(s[T],m[T])):Object.assign(s,((c={})[T]=m[T],c));return Utils.merge.apply(Utils,v([s],_,!1))},Object.defineProperty(Utils,"platform",{get:function(){var s=navigator.userAgent||navigator.vendor;return/android/i.test(s)?"android":"ios"},enumerable:!1,configurable:!0}),Utils.checkCollision=function(s,l){var c=s.node.getBounds(),_=l.node.getBounds();return c.x+c.width>_.x&&c.x<_.x+_.width&&c.y+c.height>_.y&&c.y<_.y+_.height},Utils}();l.Utils=S},22689:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ComponentsConfig=void 0;var _=c(41900),y=c(47052),m=c(34782),v=c(83771);l.ComponentsConfig={drag:_.DragComponent,scrollHorizontal:m.TasksScrollHorizontalComponent,scrollVertical:v.TasksScrollVerticalComponent,mask:y.ReverseMaskComponent}},41750:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.JsonDataConfig=void 0;var _=c(53249);l.JsonDataConfig=_.Utils.importAll(c(62481),!0)},50502:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutElementsConfig=void 0;var _=c(81985),y=c(98930),m=c(78182),v=c(22896),T=c(22500),E=c(98960),S=c(87591),A=c(53578),w=c(79690),P=c(92189),O=c(31486),C=c(39146),R=c(25551),L=c(82133),D=c(31667),B=c(2304),F=c(28506),k=c(30192);l.LayoutElementsConfig={Sprite:_.Sprite,Container:y.Container,Text:m.Text,Background:v.Background,Item:T.Item,Task:L.Task,Tasks:P.Tasks,Ui:E.Ui,Hint:S.Hint,Lives:A.Lives,Shadow:w.Shadow,Level:O.Level,LevelImage:C.LevelImage,LevelItems:R.LevelItems,PopupLives:D.PopupLives,LevelPhoto:B.LevelPhoto,BackgroundAnimation:F.BackgroundAnimation,UiTasks:k.UiTasks}},487:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LayoutsConfig=void 0;var _=c(53249);l.LayoutsConfig=_.Utils.importAll(c(47732),!0)},41476:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ProjectConfig=void 0,c(39873),c(93376),c(22864);var _=c(487),y=c(41750),m=c(46956),v=c(50502),T=c(22689),E=c(99286);l.ProjectConfig={layouts:_.LayoutsConfig,data:y.JsonDataConfig,scenes:m.ScenesConfig,elements:v.LayoutElementsConfig,components:T.ComponentsConfig,resources:E.ResourcesConfig}},99286:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ResourcesConfig=void 0;var _=c(53249);l.ResourcesConfig={sounds:_.Utils.importAll(c(55017),!0),base:_.Utils.importAll(c(84612),!0),level1:_.Utils.importAll(c(55992),!0),level2:_.Utils.importAll(c(23178),!0),level3:_.Utils.importAll(c(10284),!0),level4:_.Utils.importAll(c(84551),!0),level5:_.Utils.importAll(c(1668),!0)}},46956:(s,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ScenesConfig=void 0;var _=c(9458),y=c(61550),m=c(63134),v=c(70210),T=c(59798),E=c(73035),S=c(81373),A=c(68437),w=c(34580),P=c(78045),O=c(48723),C=c(15299),R=c(67298);l.ScenesConfig={Success:{class:C.SuccessScene,config:{layout:R.SuccessSceneLayout,actions:{}}},Start:{class:P.StartScene,config:{layout:O.StartSceneLayout,actions:{}}},Game:{class:_.GameScene,config:{layout:w.GameSceneLayout,actions:{"level-image-tap":[S.LevelImageTapAction],"item-tap":[T.ItemTapAction,v.ItemDestroyAction,E.LevelCompletedAction],hint:[m.HintAction],"popup-lives":[A.PopupLivesAction],"game-restart":[y.GameRestartAction]}}}}},9458:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.GameScene=void 0;var m=c(43039),v=c(75512),T=function(s){function GameScene(){return null!==s&&s.apply(this,arguments)||this}return y(GameScene,s),GameScene.prototype._start=function(){v.Player.hints=3;var s=this._layout.child("level image items"),l=this._layout.child("tasks");l.init(s.tasks),this._layout.child("ui tasks").init(l)},GameScene}(m.Scene);l.GameScene=T},61550:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__awaiter||function(s,l,c,_){return new(c||(c=Promise))((function(y,m){function fulfilled(s){try{step(_.next(s))}catch(s){m(s)}}function rejected(s){try{step(_.throw(s))}catch(s){m(s)}}function step(s){s.done?y(s.value):function adopt(s){return s instanceof c?s:new c((function(l){l(s)}))}(s.value).then(fulfilled,rejected)}step((_=_.apply(s,l||[])).next())}))},v=this&&this.__generator||function(s,l){var c,_,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function verb(m){return function(T){return function step(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,_&&(y=2&m[0]?_.return:m[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,m[1])).done)return y;switch(_=0,y&&(m=[2&m[0],y.value]),m[0]){case 0:case 1:y=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,_=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!(y=v.trys,(y=y.length>0&&y[y.length-1])||6!==m[0]&&2!==m[0])){v=0;continue}if(3===m[0]&&(!y||m[1]>y[0]&&m[1]<y[3])){v.label=m[1];break}if(6===m[0]&&v.label<y[1]){v.label=y[1],y=m;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(m);break}y[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(s){m=[6,s],_=0}finally{c=y=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,T])}}};Object.defineProperty(l,"__esModule",{value:!0}),l.GameRestartAction=void 0;var T=c(80299),E=c(77439),S=c(75512),A=function(s){function GameRestartAction(){return null!==s&&s.apply(this,arguments)||this}return y(GameRestartAction,s),GameRestartAction.prototype._process=function(){return m(this,void 0,void 0,(function(){var s;return v(this,(function(l){return(s=this._layout.child("popupLives")).show(),[2,s.tweens.play("scale0").then((function(){S.Player.resetLives(),T.App.scenes.start("Game")}))]}))}))},GameRestartAction}(E.SceneAction);l.GameRestartAction=A},63134:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__awaiter||function(s,l,c,_){return new(c||(c=Promise))((function(y,m){function fulfilled(s){try{step(_.next(s))}catch(s){m(s)}}function rejected(s){try{step(_.throw(s))}catch(s){m(s)}}function step(s){s.done?y(s.value):function adopt(s){return s instanceof c?s:new c((function(l){l(s)}))}(s.value).then(fulfilled,rejected)}step((_=_.apply(s,l||[])).next())}))},v=this&&this.__generator||function(s,l){var c,_,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function verb(m){return function(T){return function step(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,_&&(y=2&m[0]?_.return:m[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,m[1])).done)return y;switch(_=0,y&&(m=[2&m[0],y.value]),m[0]){case 0:case 1:y=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,_=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!(y=v.trys,(y=y.length>0&&y[y.length-1])||6!==m[0]&&2!==m[0])){v=0;continue}if(3===m[0]&&(!y||m[1]>y[0]&&m[1]<y[3])){v.label=m[1];break}if(6===m[0]&&v.label<y[1]){v.label=y[1],y=m;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(m);break}y[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(s){m=[6,s],_=0}finally{c=y=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,T])}}};Object.defineProperty(l,"__esModule",{value:!0}),l.HintAction=void 0;var T=c(80299),E=c(77439),S=c(58687),A=c(75512),w=function(s){function HintAction(){return null!==s&&s.apply(this,arguments)||this}return y(HintAction,s),HintAction.prototype._process=function(){return m(this,void 0,void 0,(function(){var s,l,c,_,y,m,T;return v(this,(function(v){return s=this._layout.child("tasks"),l=this._layout.child("ui shadow"),c=s.first,_=this._layout.child("level image items ".concat(c.code)),y=_.node.getGlobalPosition(),l.show(),m=Math.max(_.node.width,_.node.height),(T=l.components.mask.hole).node.x=y.x,T.node.y=y.y,T.node.width=m,T.node.height=m,l.tweens.play("show"),this._item=_,this._shadow=l,l.node.on("pointerdown",this._onShadowClick,this),[2,Promise.resolve()]}))}))},HintAction.prototype._onShadowClick=function(s){var l=s.global.x,c=s.global.y;this._item.node.containsPoint(new S.Point(l,c))&&(--A.Player.hints,this._shadow.node.off("pointerdown",this._onShadowClick,this),T.App.scenes.process("item-tap",{item:this._item}),this._shadow.tweens.play("hide"),this._shadow.hide())},HintAction}(E.SceneAction);l.HintAction=w},70210:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__awaiter||function(s,l,c,_){return new(c||(c=Promise))((function(y,m){function fulfilled(s){try{step(_.next(s))}catch(s){m(s)}}function rejected(s){try{step(_.throw(s))}catch(s){m(s)}}function step(s){s.done?y(s.value):function adopt(s){return s instanceof c?s:new c((function(l){l(s)}))}(s.value).then(fulfilled,rejected)}step((_=_.apply(s,l||[])).next())}))},v=this&&this.__generator||function(s,l){var c,_,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function verb(m){return function(T){return function step(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,_&&(y=2&m[0]?_.return:m[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,m[1])).done)return y;switch(_=0,y&&(m=[2&m[0],y.value]),m[0]){case 0:case 1:y=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,_=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!(y=v.trys,(y=y.length>0&&y[y.length-1])||6!==m[0]&&2!==m[0])){v=0;continue}if(3===m[0]&&(!y||m[1]>y[0]&&m[1]<y[3])){v.label=m[1];break}if(6===m[0]&&v.label<y[1]){v.label=y[1],y=m;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(m);break}y[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(s){m=[6,s],_=0}finally{c=y=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,T])}}};Object.defineProperty(l,"__esModule",{value:!0}),l.ItemDestroyAction=void 0;var T=c(80299),E=function(s){function ItemDestroyAction(){return null!==s&&s.apply(this,arguments)||this}return y(ItemDestroyAction,s),ItemDestroyAction.prototype._process=function(){return m(this,void 0,void 0,(function(){var s,l,c,_=this;return v(this,(function(y){return s=this._data.item,l=this._layout.child("tasks"),(c=l.get(s.key)).tweens.stop(),T.App.audio.play("sfx-bubble"),c.cover.tweens.play("explode").then((function(){return c.cover.hide(),c.tweens.play("hide").then((function(){for(var s=l.items.indexOf(c);s<l.items.length;s++){l.items[s].tweens.play("shift_".concat(T.App.screen.position))}l.remove(c.code),c.destroy(),_._complete()}))})),[2]}))}))},ItemDestroyAction}(c(77439).SceneAction);l.ItemDestroyAction=E},59798:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__awaiter||function(s,l,c,_){return new(c||(c=Promise))((function(y,m){function fulfilled(s){try{step(_.next(s))}catch(s){m(s)}}function rejected(s){try{step(_.throw(s))}catch(s){m(s)}}function step(s){s.done?y(s.value):function adopt(s){return s instanceof c?s:new c((function(l){l(s)}))}(s.value).then(fulfilled,rejected)}step((_=_.apply(s,l||[])).next())}))},v=this&&this.__generator||function(s,l){var c,_,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function verb(m){return function(T){return function step(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,_&&(y=2&m[0]?_.return:m[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,m[1])).done)return y;switch(_=0,y&&(m=[2&m[0],y.value]),m[0]){case 0:case 1:y=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,_=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!(y=v.trys,(y=y.length>0&&y[y.length-1])||6!==m[0]&&2!==m[0])){v=0;continue}if(3===m[0]&&(!y||m[1]>y[0]&&m[1]<y[3])){v.label=m[1];break}if(6===m[0]&&v.label<y[1]){v.label=y[1],y=m;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(m);break}y[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(s){m=[6,s],_=0}finally{c=y=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,T])}}};Object.defineProperty(l,"__esModule",{value:!0}),l.ItemTapAction=void 0;var T=c(80299),E=c(77439),S=c(75512),A=function(s){function ItemTapAction(){return null!==s&&s.apply(this,arguments)||this}return y(ItemTapAction,s),ItemTapAction.prototype._process=function(){return m(this,void 0,void 0,(function(){var s,l,c,_,y,m=this;return v(this,(function(v){return S.Player.enabled?(S.Player.enabled=!1,T.App.audio.play("sfx-correct"),s=this._data.item,l=this._layout.child("tasks"),c=l.get(s.key),_=s.node.getGlobalPosition(),s.mask&&(s.node.mask=null,s.mask.destroy(),delete s.config.children.mask),s.node.removeFromParent(),T.App.app.stage.addChild(s.node),s.node.x=_.x,s.node.y=_.y,c.tweens.stop(),s.tweens.scaleTo(1.3,300),y={vertical:l.components.scrollHorizontal,horizontal:l.components.scrollVertical},[2,y[T.App.screen.position].animateShiftTo({x:c.node.x,y:c.node.y}).then((function(){s.tweens.scaleTo(1,300),s.tweens.moveTo(c.node.getGlobalPosition(),600,{ease:"cubicInOut"}).then((function(){s.destroy(),m._complete()}))}))]):[2]}))}))},ItemTapAction}(E.SceneAction);l.ItemTapAction=A},73035:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__awaiter||function(s,l,c,_){return new(c||(c=Promise))((function(y,m){function fulfilled(s){try{step(_.next(s))}catch(s){m(s)}}function rejected(s){try{step(_.throw(s))}catch(s){m(s)}}function step(s){s.done?y(s.value):function adopt(s){return s instanceof c?s:new c((function(l){l(s)}))}(s.value).then(fulfilled,rejected)}step((_=_.apply(s,l||[])).next())}))},v=this&&this.__generator||function(s,l){var c,_,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function verb(m){return function(T){return function step(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,_&&(y=2&m[0]?_.return:m[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,m[1])).done)return y;switch(_=0,y&&(m=[2&m[0],y.value]),m[0]){case 0:case 1:y=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,_=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!(y=v.trys,(y=y.length>0&&y[y.length-1])||6!==m[0]&&2!==m[0])){v=0;continue}if(3===m[0]&&(!y||m[1]>y[0]&&m[1]<y[3])){v.label=m[1];break}if(6===m[0]&&v.label<y[1]){v.label=y[1],y=m;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(m);break}y[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(s){m=[6,s],_=0}finally{c=y=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,T])}}};Object.defineProperty(l,"__esModule",{value:!0}),l.LevelCompletedAction=void 0;var T=c(80299),E=c(77439),S=c(53249),A=c(75512),w=function(s){function LevelCompletedAction(){return null!==s&&s.apply(this,arguments)||this}return y(LevelCompletedAction,s),LevelCompletedAction.prototype._process=function(){return m(this,void 0,void 0,(function(){var s,l,c,_;return v(this,(function(y){switch(y.label){case 0:return s=this._layout.child("tasks"),A.Player.enabled=!0,-1!==window.location.search.indexOf("debug")||s.completed?(l=this._layout.child("level"),c=this._layout.child("ui"),_=l.child("flash"),c.states.add("completed"),_.states.add("visible"),[4,_.tweens.play("show")]):[3,5];case 1:return y.sent(),[4,S.Utils.delay(50)];case 2:return y.sent(),l.states.add("completed"),[4,l.tweens.play("complete")];case 3:return y.sent(),[4,S.Utils.delay(500)];case 4:y.sent(),T.App.scenes.start("Success"),y.label=5;case 5:return[2]}}))}))},LevelCompletedAction}(E.SceneAction);l.LevelCompletedAction=w},81373:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__awaiter||function(s,l,c,_){return new(c||(c=Promise))((function(y,m){function fulfilled(s){try{step(_.next(s))}catch(s){m(s)}}function rejected(s){try{step(_.throw(s))}catch(s){m(s)}}function step(s){s.done?y(s.value):function adopt(s){return s instanceof c?s:new c((function(l){l(s)}))}(s.value).then(fulfilled,rejected)}step((_=_.apply(s,l||[])).next())}))},v=this&&this.__generator||function(s,l){var c,_,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function verb(m){return function(T){return function step(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,_&&(y=2&m[0]?_.return:m[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,m[1])).done)return y;switch(_=0,y&&(m=[2&m[0],y.value]),m[0]){case 0:case 1:y=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,_=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!(y=v.trys,(y=y.length>0&&y[y.length-1])||6!==m[0]&&2!==m[0])){v=0;continue}if(3===m[0]&&(!y||m[1]>y[0]&&m[1]<y[3])){v.label=m[1];break}if(6===m[0]&&v.label<y[1]){v.label=y[1],y=m;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(m);break}y[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(s){m=[6,s],_=0}finally{c=y=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,T])}}};Object.defineProperty(l,"__esModule",{value:!0}),l.LevelImageTapAction=void 0;var T=c(80299),E=c(77439),S=c(75512),A=function(s){function LevelImageTapAction(){return null!==s&&s.apply(this,arguments)||this}return y(LevelImageTapAction,s),LevelImageTapAction.prototype._process=function(){return m(this,void 0,void 0,(function(){var s;return v(this,(function(l){switch(l.label){case 0:return T.App.audio.play("sfx-error"),--S.Player.lives,(s=this._layout.child("ui fail")).node.x=this._data.x,s.node.y=this._data.y,s.node.scale.set(0),s.show(),[4,s.tweens.play("scale1")];case 1:return l.sent(),[4,s.tweens.play("scale0")];case 2:return l.sent(),S.Player.lives<=0&&T.App.scenes.process("popup-lives"),[2,Promise.resolve()]}}))}))},LevelImageTapAction}(E.SceneAction);l.LevelImageTapAction=A},68437:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__awaiter||function(s,l,c,_){return new(c||(c=Promise))((function(y,m){function fulfilled(s){try{step(_.next(s))}catch(s){m(s)}}function rejected(s){try{step(_.throw(s))}catch(s){m(s)}}function step(s){s.done?y(s.value):function adopt(s){return s instanceof c?s:new c((function(l){l(s)}))}(s.value).then(fulfilled,rejected)}step((_=_.apply(s,l||[])).next())}))},v=this&&this.__generator||function(s,l){var c,_,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function verb(m){return function(T){return function step(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,_&&(y=2&m[0]?_.return:m[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,m[1])).done)return y;switch(_=0,y&&(m=[2&m[0],y.value]),m[0]){case 0:case 1:y=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,_=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!(y=v.trys,(y=y.length>0&&y[y.length-1])||6!==m[0]&&2!==m[0])){v=0;continue}if(3===m[0]&&(!y||m[1]>y[0]&&m[1]<y[3])){v.label=m[1];break}if(6===m[0]&&v.label<y[1]){v.label=y[1],y=m;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(m);break}y[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(s){m=[6,s],_=0}finally{c=y=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,T])}}};Object.defineProperty(l,"__esModule",{value:!0}),l.PopupLivesAction=void 0;var T=c(80299),E=function(s){function PopupLivesAction(){return null!==s&&s.apply(this,arguments)||this}return y(PopupLivesAction,s),PopupLivesAction.prototype._process=function(){return m(this,void 0,void 0,(function(){var s,l,c,_;return v(this,(function(y){return T.App.audio.play("sfx-failure"),(s=this._layout.child("popupLives")).show(),l=s.child("lives1"),c=s.child("lives2"),(_=this._layout.child("ui shadow")).components.mask.disable(),_.show(),_.tweens.play("show"),s.tweens.play("show").then((function(){l.tweens.play("tween1").then((function(){l.tweens.play("tween2")})),c.tweens.play("tween1").then((function(){c.tweens.play("tween2")}))})),[2,Promise.resolve()]}))}))},PopupLivesAction}(c(77439).SceneAction);l.PopupLivesAction=E},41900:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.DragComponent=void 0;var m=c(85249),v=c(80299),T=function(s){function DragComponent(){return null!==s&&s.apply(this,arguments)||this}return y(DragComponent,s),DragComponent.prototype._init=function(){},DragComponent.prototype._onPointerMove=function(s){this._selected&&(this._element.attributes.set("gx",Math.round(s.data.global.x)),this._element.attributes.set("gy",Math.round(s.data.global.y)),console.log('"x": '.concat(Math.round(this._element.node.x),', "y": ').concat(Math.round(this._element.node.y),",")))},DragComponent.prototype._onSelect=function(){this._element.node.zIndex=1e3,this._selected=!0,this._element.emit("drag-started")},DragComponent.prototype._onPointerUp=function(){this._selected&&(this._element.node.zIndex=0,this._selected=!1,this._element.emit("drag-stopped"))},DragComponent.prototype._onEnable=function(){v.App.app.stage.interactive=!0,this._element.setInteractive(),v.App.app.stage.on("pointermove",this._onPointerMove,this),v.App.app.stage.on("pointerup",this._onPointerUp,this),this._element.node.on("pointerdown",this._onSelect,this)},DragComponent.prototype._onDisable=function(){v.App.app.stage.off("pointermove",this._onPointerMove,this),v.App.app.stage.off("pointerup",this._onPointerUp,this),this._element.node.off("pointerdown",this._onSelect,this)},DragComponent}(m.Component);l.DragComponent=T},47052:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}),m=this&&this.__createBinding||(Object.create?function(s,l,c,_){void 0===_&&(_=c);var y=Object.getOwnPropertyDescriptor(l,c);y&&!("get"in y?!l.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,_,y)}:function(s,l,c,_){void 0===_&&(_=c),s[_]=l[c]}),v=this&&this.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),T=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(null!=s)for(var c in s)"default"!==c&&Object.prototype.hasOwnProperty.call(s,c)&&m(l,s,c);return v(l,s),l};Object.defineProperty(l,"__esModule",{value:!0}),l.ReverseMaskComponent=void 0;var E=T(c(58687)),S=c(85249),A=c(81985),w=c(80299),P=function(s){function ReverseMaskComponent(){return null!==s&&s.apply(this,arguments)||this}return y(ReverseMaskComponent,s),ReverseMaskComponent.prototype._init=function(){this._create()},Object.defineProperty(ReverseMaskComponent.prototype,"hole",{get:function(){return this._hole},enumerable:!1,configurable:!0}),ReverseMaskComponent.prototype._createMask=function(){this._hole=new A.Sprite(this._config),w.App.app.stage.addChild(this._hole.node)},ReverseMaskComponent.prototype._createFilter=function(){this._filter=new E.SpriteMaskFilter(void 0,"            varying vec2 vMaskCoord;\n            varying vec2 vTextureCoord;\n        \n            uniform sampler2D uSampler;\n            uniform sampler2D mask;\n            uniform float alpha;\n            uniform float npmAlpha;\n            uniform vec4 maskClamp;\n        \n            void main(void)\n            {\n                float clip = step(3.5,\n                    step(maskClamp.x, vMaskCoord.x) +\n                    step(maskClamp.y, vMaskCoord.y) +\n                    step(vMaskCoord.x, maskClamp.z) +\n                    step(vMaskCoord.y, maskClamp.w));\n            \n                vec4 original = texture2D(uSampler, vTextureCoord);\n                vec4 masky = texture2D(mask, vMaskCoord);\n                float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n            \n                original *= 1.0 - (alphaMul * masky.r * alpha * clip);\n            \n                gl_FragColor = original;\n            }"),this._filter.maskSprite=this._hole.node},ReverseMaskComponent.prototype._applyFilter=function(){this._element.node.filters||(this._element.node.filters=[]),this._element.node.filters=[this._filter]},ReverseMaskComponent.prototype._create=function(){this._createMask(),this._createFilter(),this._applyFilter()},ReverseMaskComponent.prototype._onDisable=function(){var s=this;this._element.node.filters=this._element.node.filters.filter((function(l){return l!==s._filter})),this._hole.destroy()},ReverseMaskComponent.prototype._onEnable=function(){this._create()},ReverseMaskComponent}(S.Component);l.ReverseMaskComponent=P},34782:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.TasksScrollHorizontalComponent=void 0;var m=c(85249),v=c(80299),T=function(s){function TasksScrollHorizontalComponent(){return null!==s&&s.apply(this,arguments)||this}return y(TasksScrollHorizontalComponent,s),TasksScrollHorizontalComponent.prototype._onEnable=function(){var s=this._element.cover.node.width;this._touched=!1,this._touchX=0,this._elementOriginalX=this._element.node.x,this._xMin=this._elementOriginalX-s+v.App.screen.width-50,this._xMax=this._elementOriginalX,v.App.app.stage.interactive=!0,this._element.node.interactive=!0,this._element.node.on("pointerdown",this._onPointerDown,this),v.App.app.stage.on("pointermove",this._onPointerMove,this),v.App.app.stage.on("pointerup",this._onPointerUp,this)},TasksScrollHorizontalComponent.prototype._onDisable=function(){this._element.node.off("pointerdown",this._onPointerDown,this),v.App.app.stage.off("pointermove",this._onPointerMove,this),v.App.app.stage.off("pointerup",this._onPointerUp,this)},TasksScrollHorizontalComponent.prototype._onPointerDown=function(s){v.App.screen.vertical&&(this._touchX=s.data.global.x,this._elementCurrentX=this._element.node.x,this._touched=!0)},TasksScrollHorizontalComponent.prototype.animateShiftTo=function(s){if(v.App.screen.vertical){var l=195-s.x+130;return l>this._xMax&&(l=this._xMax),l<this._xMin&&(l=this._xMin),this._element.tweens.moveTo({x:l,y:this._element.node.y},900,{ease:"elasticOut"})}},TasksScrollHorizontalComponent.prototype._onPointerMove=function(s){if(v.App.screen.vertical&&this._touched){var l=Math.floor(s.data.global.x-this._touchX),c=Math.floor(this._elementCurrentX+l);l>0?c<=this._xMax?this._element.node.x=c:this._element.node.x=this._xMax:c>=this._xMin?this._element.node.x=c:this._element.node.x=this._xMin}},TasksScrollHorizontalComponent.prototype._onPointerUp=function(){this._touched=!1},TasksScrollHorizontalComponent}(m.Component);l.TasksScrollHorizontalComponent=T},83771:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.TasksScrollVerticalComponent=void 0;var m=c(85249),v=c(80299),T=function(s){function TasksScrollVerticalComponent(){return null!==s&&s.apply(this,arguments)||this}return y(TasksScrollVerticalComponent,s),TasksScrollVerticalComponent.prototype._onEnable=function(){var s=this._element.cover.node.height;this._touched=!1,this._touchY=0,this._elementOriginalY=this._element.node.y,this._yMin=this._elementOriginalY-s+v.App.screen.height-130,this._yMax=this._elementOriginalY,v.App.app.stage.interactive=!0,this._element.node.interactive=!0,this._element.node.on("pointerdown",this._onPointerDown,this),v.App.app.stage.on("pointermove",this._onPointerMove,this),v.App.app.stage.on("pointerup",this._onPointerUp,this)},TasksScrollVerticalComponent.prototype._onDisable=function(){this._element.node.off("pointerdown",this._onPointerDown,this),v.App.app.stage.off("pointermove",this._onPointerMove,this),v.App.app.stage.off("pointerup",this._onPointerUp,this)},TasksScrollVerticalComponent.prototype._onPointerDown=function(s){v.App.screen.horizontal&&(this._touchY=s.data.global.y,this._elementCurrentY=this._element.node.y,this._touched=!0)},TasksScrollVerticalComponent.prototype.animateShiftTo=function(s){if(v.App.screen.horizontal){var l=390-s.y;return l>this._yMax&&(l=this._yMax),l<this._yMin&&(l=this._yMin),this._element.tweens.moveTo({x:this._element.node.x,y:l},900,{ease:"elasticOut"})}},TasksScrollVerticalComponent.prototype._onPointerMove=function(s){if(v.App.screen.horizontal&&this._touched){var l=Math.floor(s.data.global.y-this._touchY),c=Math.floor(this._elementCurrentY+l);l>0?c<=this._yMax?this._element.node.y=c:this._element.node.y=this._yMax:c>=this._yMin?this._element.node.y=c:this._element.node.y=this._yMin}},TasksScrollVerticalComponent.prototype._onPointerUp=function(){this._touched=!1},TasksScrollVerticalComponent}(m.Component);l.TasksScrollVerticalComponent=T},22896:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Background=void 0;var m=function(s){function Background(){return null!==s&&s.apply(this,arguments)||this}return y(Background,s),Background.prototype._init=function(){},Background.prototype.resize=function(){},Background}(c(81985).Sprite);l.Background=m},28506:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.BackgroundAnimation=void 0;var m=c(81985),v=c(80299),T=c(53249),E=function(s){function BackgroundAnimation(){return null!==s&&s.apply(this,arguments)||this}return y(BackgroundAnimation,s),Object.defineProperty(BackgroundAnimation.prototype,"_data",{get:function(){return{source:{x:T.Utils.random(0,v.App.screen.width),y:T.Utils.random(0,v.App.screen.height)},target:{x:T.Utils.random(0,v.App.screen.width),y:-10},scale:T.Utils.random(2,10)/100,alpha:T.Utils.random(10,25)/100,duration:T.Utils.random(15e3,2e4)}},enumerable:!1,configurable:!0}),BackgroundAnimation.prototype._createParticle=function(){var s=this._data,l=T.Utils.random(1,4),c=new m.Sprite("bubble".concat(l));c.node.x=s.source.x,c.node.y=s.source.y,c.node.anchor.set(.5),this.addChild(c),c.setInteractive(),c.node.once("pointerdown",(function(){c.tweens.stop(),c.tweens.scaleTo(2*c.node.scale.x,100,{ease:"cubicIn"}).then((function(){c.destroy()}))})),c.node.alpha=s.alpha,c.node.scale.set(0),c.tweens.scaleTo(s.scale,300).then((function(){var l=T.Utils.random(0,1)?{x:s.scale/1.5,y:s.scale}:{x:s.scale,y:s.scale/1.5},_=T.Utils.random(2e3,6e3);c.tweens.scaleTo(l,_,{repeat:1/0,yoyo:!0})})),c.tweens.rotate(T.Utils.random(1e4,2e4)),c.tweens.moveTo({x:s.target.x,y:s.target.y},s.duration).then((function(){c.tweens.stop(),c.destroy()}))},BackgroundAnimation.prototype._init=function(){for(var s=this,l=0;l<10;l++)this._createParticle();this._interval=window.setInterval((function(){s._createParticle()}),2e3)},BackgroundAnimation.prototype._onDestroy=function(){window.clearInterval(this._interval)},BackgroundAnimation}(m.Sprite);l.BackgroundAnimation=E},34580:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.GameSceneLayout=void 0;var m=function(s){function GameSceneLayout(){return s.call(this,"gameScene")||this}return y(GameSceneLayout,s),GameSceneLayout}(c(48917).Layout);l.GameSceneLayout=m},87591:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Hint=void 0;var m=c(81985),v=c(80299),T=c(75512),E=function(s){function Hint(){return null!==s&&s.apply(this,arguments)||this}return y(Hint,s),Hint.prototype._init=function(){this._label=this.child("value"),this.setInteractive(),this.node.on("pointerdown",this._onPointerDown,this),this._onPlayerUpdate(),T.Player.events.on("update",this._onPlayerUpdate,this)},Hint.prototype._onDestroy=function(){this.node.off("pointerdown",this._onPointerDown,this),T.Player.events.off("update",this._onPlayerUpdate,this)},Hint.prototype._onPlayerUpdate=function(){this._update(),this._render()},Hint.prototype._update=function(){this._value=T.Player.hints},Hint.prototype._render=function(){this._label.text=this._value.toString()},Hint.prototype._onPointerDown=function(){v.App.scenes.process("hint")},Hint}(m.Sprite);l.Hint=E},22500:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Item=void 0;var m=function(s){function Item(){return null!==s&&s.apply(this,arguments)||this}return y(Item,s),Item.prototype._init=function(){var s=this;this.node.anchor.set(.5),this._config=JSON.parse(JSON.stringify(this.config)),this.config.x=this.config.x+this.node.width/2,this.config.y=this.config.y+this.node.height/2,this.config.anchor={x:.5,y:.5},this.attributes.init(),this.node.once("added",(function(){var l=s.child("mask");s._mask=l,!s.node.mask&&l&&(s.node.mask=l.node)}))},Item.prototype._onDestroy=function(){},Object.defineProperty(Item.prototype,"mask",{get:function(){return this._mask},enumerable:!1,configurable:!0}),Item.prototype._onClick=function(s){},Item}(c(81985).Sprite);l.Item=m},31486:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Level=void 0;var m=function(s){function Level(){return null!==s&&s.apply(this,arguments)||this}return y(Level,s),Level.prototype._init=function(){},Level}(c(81985).Sprite);l.Level=m},39146:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LevelImage=void 0;var m=c(58687),v=c(81985),T=c(80299),E=c(75512),S=function(s){function LevelImage(){return null!==s&&s.apply(this,arguments)||this}return y(LevelImage,s),LevelImage.prototype._init=function(){this.texture="level".concat(E.Player.level.toString()),this.setInteractive(),this.node.on("pointerdown",this._onPointerDown,this)},LevelImage.prototype._onPointerDown=function(s){for(var l=0,c=this.child("items").tasks.reverse();l<c.length;l++){var _=c[l];if(_&&!_.completed&&_.node&&_.node.containsPoint(new m.Point(s.global.x,s.global.y)))return T.App.scenes.process("item-tap",{item:_}),void s.stopPropagation()}T.App.scenes.process("level-image-tap",{x:s.global.x,y:s.global.y})},LevelImage}(v.Sprite);l.LevelImage=S},25551:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LevelItems=void 0;var m=c(98930),v=c(80299),T=c(75512),E=function(s){function LevelItems(l){var c=T.Player.level,_=v.App.config.layouts["items".concat(c.toString())];return l.children=_,s.call(this,l)||this}return y(LevelItems,s),Object.defineProperty(LevelItems.prototype,"tasks",{get:function(){return this._tasks},enumerable:!1,configurable:!0}),LevelItems.prototype._init=function(){this._tasks=Array.from(this._children.values()).filter((function(s){return s.config.active}))},LevelItems}(m.Container);l.LevelItems=E},2304:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.LevelPhoto=void 0;var m=c(81985),v=c(75512),T=function(s){function LevelPhoto(){return null!==s&&s.apply(this,arguments)||this}return y(LevelPhoto,s),LevelPhoto.prototype._init=function(){this.child("picture").texture="level".concat(v.Player.level.toString())},LevelPhoto}(m.Sprite);l.LevelPhoto=T},53578:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Lives=void 0;var m=c(81985),v=c(75512),T=function(s){function Lives(){return null!==s&&s.apply(this,arguments)||this}return y(Lives,s),Lives.prototype._init=function(){this._label=this.child("value"),this._onPlayerUpdate(),v.Player.events.on("update",this._onPlayerUpdate,this)},Lives.prototype._onDestroy=function(){v.Player.events.off("update",this._onPlayerUpdate,this)},Lives.prototype._onPlayerUpdate=function(){this._update(),this._render()},Lives.prototype._update=function(){this._value=v.Player.lives},Lives.prototype._render=function(){this._label.text=this._value.toString()},Lives}(m.Sprite);l.Lives=T},31667:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.PopupLives=void 0;var m=c(81985),v=c(80299),T=function(s){function PopupLives(){return null!==s&&s.apply(this,arguments)||this}return y(PopupLives,s),PopupLives.prototype._init=function(){var s=this.child("btn");s.setInteractive(),s.node.once("pointerdown",(function(){v.App.scenes.process("game-restart")}))},PopupLives}(m.Sprite);l.PopupLives=T},79690:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Shadow=void 0;var m=function(s){function Shadow(){return null!==s&&s.apply(this,arguments)||this}return y(Shadow,s),Shadow.prototype._init=function(){this.setInteractive()},Shadow}(c(81985).Sprite);l.Shadow=m},82133:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Task=void 0;var m=c(81985),v=c(80299),T=function(s){function Task(l){var c=this,_=JSON.parse(JSON.stringify(v.App.config.data.prefabs.task));if(_.children.icon.texture=l,_.key="task_"+l,(c=s.call(this,_)||this)._code=l,c._completed=!1,c._cover=c.child("cover"),c._icon=c.child("icon"),c._icon.node.width>c._cover.node.width){var y=c._icon.node.width;c._icon.node.width=.9*c._cover.node.width,c._icon.node.height=c._icon.node.height*c._icon.node.width/y}if(c._icon.node.width>c._cover.node.width){y=c._icon.node.width;c._icon.node.width=.9*c._cover.node.width,c._icon.node.height=c._icon.node.height*c._icon.node.width/y}if(c._icon.node.height>c._cover.node.height){var m=c._icon.node.height;c._icon.node.height=.9*c._cover.node.height,c._icon.node.width=c._icon.node.width*c._icon.node.height/m}return c}return y(Task,s),Object.defineProperty(Task.prototype,"completed",{get:function(){return this._completed},enumerable:!1,configurable:!0}),Task.prototype.destroy=function(){this._completed=!0,s.prototype.destroy.call(this)},Task.prototype.setLayoutPosition=function(s,l){this.node.x=v.App.screen.vertical?s:0,this.node.y=v.App.screen.vertical?0:l,this.node.scale.set(v.App.screen.vertical?1:2)},Object.defineProperty(Task.prototype,"cover",{get:function(){return this._cover},enumerable:!1,configurable:!0}),Object.defineProperty(Task.prototype,"width",{get:function(){return this._cover.node.width},enumerable:!1,configurable:!0}),Object.defineProperty(Task.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),Task}(m.Sprite);l.Task=T},92189:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Tasks=void 0;var m=c(81985),v=c(80299),T=c(82133),E=function(s){function Tasks(){return null!==s&&s.apply(this,arguments)||this}return y(Tasks,s),Tasks.prototype._create=function(s){var l=this;this._items=[],s.forEach((function(s){return l._createTask(s.key)})),this._total=this.size},Tasks.prototype._createTask=function(s){var l=new T.Task(s);return this.addChild(l),this._items.push(l),l},Tasks.prototype.setPositions=function(){this.components.scrollHorizontal.disable(),this.components.scrollVertical.disable();var s=0,l=0;this._items.forEach((function(c){c.setLayoutPosition(s,l),s+=130,l+=260})),v.App.screen.vertical?(this._cover.node.width=130*this.size,this._cover.node.height=100,this.components.scrollHorizontal.enable()):(this._cover.node.width=200,this._cover.node.height=260*this.size,this.components.scrollVertical.enable())},Tasks.prototype.init=function(s){var l=this;this._cover=this.child("cover"),this._create(s),this.setPositions(),v.App.screen.on("resize",(function(){l.setPositions()}))},Object.defineProperty(Tasks.prototype,"total",{get:function(){return this._total},enumerable:!1,configurable:!0}),Object.defineProperty(Tasks.prototype,"size",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(Tasks.prototype,"cover",{get:function(){return this._cover},enumerable:!1,configurable:!0}),Object.defineProperty(Tasks.prototype,"completed",{get:function(){return!this._items.length},enumerable:!1,configurable:!0}),Tasks.prototype.get=function(s){return this._items.find((function(l){return l.code===s}))},Object.defineProperty(Tasks.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),Object.defineProperty(Tasks.prototype,"first",{get:function(){return this._items[0]},enumerable:!1,configurable:!0}),Tasks.prototype.remove=function(s){this._items=this._items.filter((function(l){return l.code!==s})),this.emit("update")},Tasks}(m.Sprite);l.Tasks=E},98960:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.Ui=void 0;var m=function(s){function Ui(){return null!==s&&s.apply(this,arguments)||this}return y(Ui,s),Ui.prototype._init=function(){},Ui}(c(98930).Container);l.Ui=m},30192:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.UiTasks=void 0;var m=function(s){function UiTasks(){return null!==s&&s.apply(this,arguments)||this}return y(UiTasks,s),UiTasks.prototype._init=function(){this._label=this.child("label")},UiTasks.prototype.init=function(s){this._tasks=s,this._render(),this._tasks.on("update",this._render,this)},UiTasks.prototype._onDestroy=function(){this._tasks.off("update",this._render,this)},Object.defineProperty(UiTasks.prototype,"done",{get:function(){return this._tasks.total-this._tasks.size},enumerable:!1,configurable:!0}),UiTasks.prototype._render=function(){this._label.text="Tasks: ".concat(this.done,"/").concat(this._tasks.total)},UiTasks}(c(81985).Sprite);l.UiTasks=m},75512:function(s,l,c){"use strict";var _=this&&this.__createBinding||(Object.create?function(s,l,c,_){void 0===_&&(_=c);var y=Object.getOwnPropertyDescriptor(l,c);y&&!("get"in y?!l.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,_,y)}:function(s,l,c,_){void 0===_&&(_=c),s[_]=l[c]}),y=this&&this.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),m=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(null!=s)for(var c in s)"default"!==c&&Object.prototype.hasOwnProperty.call(s,c)&&_(l,s,c);return y(l,s),l};Object.defineProperty(l,"__esModule",{value:!0}),l.Player=void 0;var v=m(c(58687)),T=function(){function User(){this._level=1,this._enabled=!0,this._lives=0,this._hints=0,this._level=parseInt(localStorage.getItem("level"))||1,this._hints=3,this._lives=3,this._enabled=!0,this._events=new v.utils.EventEmitter}return Object.defineProperty(User.prototype,"level",{get:function(){return this._level},set:function(s){this._level=s,localStorage.setItem("level",s.toString())},enumerable:!1,configurable:!0}),Object.defineProperty(User.prototype,"enabled",{get:function(){return this._enabled},set:function(s){this._enabled=s},enumerable:!1,configurable:!0}),Object.defineProperty(User.prototype,"lives",{get:function(){return this._lives},set:function(s){this._lives=s,this._events.emit("update")},enumerable:!1,configurable:!0}),Object.defineProperty(User.prototype,"hints",{get:function(){return this._hints},set:function(s){this._hints=s,this._events.emit("update")},enumerable:!1,configurable:!0}),User.prototype.resetLives=function(){this._lives=3},Object.defineProperty(User.prototype,"events",{get:function(){return this._events},enumerable:!1,configurable:!0}),User}();l.Player=new T},78045:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.StartScene=void 0;var m=c(80299),v=c(43039),T=c(75512),E=function(s){function StartScene(){return null!==s&&s.apply(this,arguments)||this}return y(StartScene,s),StartScene.prototype._start=function(){m.App.audio.playMusic();var s=m.App.config.resources["level".concat(T.Player.level.toString())],l=this._layout.child("btn");l.child("label").text="Level ".concat(T.Player.level.toString());var c=document.createElement("div");c.classList.add("loader"),document.body.appendChild(c),m.App.loader.preload(s).then((function(){m.App.audio.play("sfx-btn"),l.setInteractive(),l.node.once("pointerdown",(function(){l.tweens.play("touch").then((function(){m.App.scenes.start("Game")}))}))}))},StartScene}(v.Scene);l.StartScene=E},48723:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.StartSceneLayout=void 0;var m=function(s){function StartSceneLayout(){return s.call(this,"startScene")||this}return y(StartSceneLayout,s),StartSceneLayout}(c(48917).Layout);l.StartSceneLayout=m},15299:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.SuccessScene=void 0;var m=c(80299),v=c(43039),T=c(75512),E=function(s){function SuccessScene(){return null!==s&&s.apply(this,arguments)||this}return y(SuccessScene,s),SuccessScene.prototype._start=function(){m.App.audio.play("sfx-success");var s=T.Player.level+1,l=m.App.config.resources["level".concat(s.toString())];if(l){++T.Player.level;var c=this._layout.child("btn");m.App.loader.preload(l).then((function(){c.states.once("scale1-added",(function(){c.tweens.play("pulsation")})),c.setInteractive(),c.node.once("pointerdown",(function(){m.App.audio.play("sfx-btn"),c.tweens.play("touch").then((function(){m.App.scenes.start("Game")}))}))}))}},SuccessScene}(v.Scene);l.SuccessScene=E},67298:function(s,l,c){"use strict";var _,y=this&&this.__extends||(_=function(s,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=s}_(s,l),s.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)});Object.defineProperty(l,"__esModule",{value:!0}),l.SuccessSceneLayout=void 0;var m=function(s){function SuccessSceneLayout(){return s.call(this,"successScene")||this}return y(SuccessSceneLayout,s),SuccessSceneLayout}(c(48917).Layout);l.SuccessSceneLayout=m},52511:function(s,l,c){var _;s=c.nmd(s),function(y){l&&l.nodeType,s&&s.nodeType;var m="object"==typeof c.g&&c.g;m.global!==m&&m.window!==m&&m.self;var v,T=2147483647,E=36,S=1,A=26,w=38,P=700,O=72,C=128,R="-",L=/^xn--/,D=/[^\x20-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=E-S,U=Math.floor,G=String.fromCharCode;function error(s){throw new RangeError(F[s])}function map(s,l){for(var c=s.length,_=[];c--;)_[c]=l(s[c]);return _}function mapDomain(s,l){var c=s.split("@"),_="";return c.length>1&&(_=c[0]+"@",s=c[1]),_+map((s=s.replace(B,".")).split("."),l).join(".")}function ucs2decode(s){for(var l,c,_=[],y=0,m=s.length;y<m;)(l=s.charCodeAt(y++))>=55296&&l<=56319&&y<m?56320==(64512&(c=s.charCodeAt(y++)))?_.push(((1023&l)<<10)+(1023&c)+65536):(_.push(l),y--):_.push(l);return _}function ucs2encode(s){return map(s,(function(s){var l="";return s>65535&&(l+=G((s-=65536)>>>10&1023|55296),s=56320|1023&s),l+=G(s)})).join("")}function digitToBasic(s,l){return s+22+75*(s<26)-((0!=l)<<5)}function adapt(s,l,c){var _=0;for(s=c?U(s/P):s>>1,s+=U(s/l);s>k*A>>1;_+=E)s=U(s/k);return U(_+(k+1)*s/(s+w))}function decode(s){var l,c,_,y,m,v,w,P,L,D,B,F=[],k=s.length,G=0,V=C,W=O;for((c=s.lastIndexOf(R))<0&&(c=0),_=0;_<c;++_)s.charCodeAt(_)>=128&&error("not-basic"),F.push(s.charCodeAt(_));for(y=c>0?c+1:0;y<k;){for(m=G,v=1,w=E;y>=k&&error("invalid-input"),((P=(B=s.charCodeAt(y++))-48<10?B-22:B-65<26?B-65:B-97<26?B-97:E)>=E||P>U((T-G)/v))&&error("overflow"),G+=P*v,!(P<(L=w<=W?S:w>=W+A?A:w-W));w+=E)v>U(T/(D=E-L))&&error("overflow"),v*=D;W=adapt(G-m,l=F.length+1,0==m),U(G/l)>T-V&&error("overflow"),V+=U(G/l),G%=l,F.splice(G++,0,V)}return ucs2encode(F)}function encode(s){var l,c,_,y,m,v,w,P,L,D,B,F,k,V,W,z=[];for(F=(s=ucs2decode(s)).length,l=C,c=0,m=O,v=0;v<F;++v)(B=s[v])<128&&z.push(G(B));for(_=y=z.length,y&&z.push(R);_<F;){for(w=T,v=0;v<F;++v)(B=s[v])>=l&&B<w&&(w=B);for(w-l>U((T-c)/(k=_+1))&&error("overflow"),c+=(w-l)*k,l=w,v=0;v<F;++v)if((B=s[v])<l&&++c>T&&error("overflow"),B==l){for(P=c,L=E;!(P<(D=L<=m?S:L>=m+A?A:L-m));L+=E)W=P-D,V=E-D,z.push(G(digitToBasic(D+W%V,0))),P=U(W/V);z.push(G(digitToBasic(P,0))),m=adapt(c,k,_==y),c=0,++_}++c,++l}return z.join("")}v={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII:function toASCII(s){return mapDomain(s,(function(s){return D.test(s)?"xn--"+encode(s):s}))},toUnicode:function toUnicode(s){return mapDomain(s,(function(s){return L.test(s)?decode(s.slice(4).toLowerCase()):s}))}},void 0===(_=function(){return v}.call(l,c,l,s))||(s.exports=_)}()},8575:(s,l,c)=>{"use strict";var _=c(52511);function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var y=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,v=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,T=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),E=["'"].concat(T),S=["%","/","?",";","#"].concat(E),A=["/","?","#"],w=/^[+a-z0-9A-Z_-]{0,63}$/,P=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,O={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},R={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=c(80129);function urlParse(s,l,c){if(s&&"object"==typeof s&&s instanceof Url)return s;var _=new Url;return _.parse(s,l,c),_}Url.prototype.parse=function(s,l,c){if("string"!=typeof s)throw new TypeError("Parameter 'url' must be a string, not "+typeof s);var m=s.indexOf("?"),T=-1!==m&&m<s.indexOf("#")?"?":"#",D=s.split(T);D[0]=D[0].replace(/\\/g,"/");var B=s=D.join(T);if(B=B.trim(),!c&&1===s.split("#").length){var F=v.exec(B);if(F)return this.path=B,this.href=B,this.pathname=F[1],F[2]?(this.search=F[2],this.query=l?L.parse(this.search.substr(1)):this.search.substr(1)):l&&(this.search="",this.query={}),this}var k=y.exec(B);if(k){var U=(k=k[0]).toLowerCase();this.protocol=U,B=B.substr(k.length)}if(c||k||B.match(/^\/\/[^@/]+@[^@/]+/)){var G="//"===B.substr(0,2);!G||k&&C[k]||(B=B.substr(2),this.slashes=!0)}if(!C[k]&&(G||k&&!R[k])){for(var V,W,z=-1,X=0;X<A.length;X++){-1!==(Y=B.indexOf(A[X]))&&(-1===z||Y<z)&&(z=Y)}-1!==(W=-1===z?B.lastIndexOf("@"):B.lastIndexOf("@",z))&&(V=B.slice(0,W),B=B.slice(W+1),this.auth=decodeURIComponent(V)),z=-1;for(X=0;X<S.length;X++){var Y;-1!==(Y=B.indexOf(S[X]))&&(-1===z||Y<z)&&(z=Y)}-1===z&&(z=B.length),this.host=B.slice(0,z),B=B.slice(z),this.parseHost(),this.hostname=this.hostname||"";var $="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!$)for(var q=this.hostname.split(/\./),K=(X=0,q.length);X<K;X++){var Q=q[X];if(Q&&!Q.match(w)){for(var J="",Z=0,ee=Q.length;Z<ee;Z++)Q.charCodeAt(Z)>127?J+="x":J+=Q[Z];if(!J.match(w)){var te=q.slice(0,X),re=q.slice(X+1),ie=Q.match(P);ie&&(te.push(ie[1]),re.unshift(ie[2])),re.length&&(B="/"+re.join(".")+B),this.hostname=te.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=_.toASCII(this.hostname));var ne=this.port?":"+this.port:"",se=this.hostname||"";this.host=se+ne,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==B[0]&&(B="/"+B))}if(!O[U])for(X=0,K=E.length;X<K;X++){var oe=E[X];if(-1!==B.indexOf(oe)){var ae=encodeURIComponent(oe);ae===oe&&(ae=escape(oe)),B=B.split(oe).join(ae)}}var ue=B.indexOf("#");-1!==ue&&(this.hash=B.substr(ue),B=B.slice(0,ue));var le=B.indexOf("?");if(-1!==le?(this.search=B.substr(le),this.query=B.substr(le+1),l&&(this.query=L.parse(this.query)),B=B.slice(0,le)):l&&(this.search="",this.query={}),B&&(this.pathname=B),R[U]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){ne=this.pathname||"";var ce=this.search||"";this.path=ne+ce}return this.href=this.format(),this},Url.prototype.format=function(){var s=this.auth||"";s&&(s=(s=encodeURIComponent(s)).replace(/%3A/i,":"),s+="@");var l=this.protocol||"",c=this.pathname||"",_=this.hash||"",y=!1,m="";this.host?y=s+this.host:this.hostname&&(y=s+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(y+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(m=L.stringify(this.query));var v=this.search||m&&"?"+m||"";return l&&":"!==l.substr(-1)&&(l+=":"),this.slashes||(!l||R[l])&&!1!==y?(y="//"+(y||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):y||(y=""),_&&"#"!==_.charAt(0)&&(_="#"+_),v&&"?"!==v.charAt(0)&&(v="?"+v),l+y+(c=c.replace(/[?#]/g,(function(s){return encodeURIComponent(s)})))+(v=v.replace("#","%23"))+_},Url.prototype.resolve=function(s){return this.resolveObject(urlParse(s,!1,!0)).format()},Url.prototype.resolveObject=function(s){if("string"==typeof s){var l=new Url;l.parse(s,!1,!0),s=l}for(var c=new Url,_=Object.keys(this),y=0;y<_.length;y++){var m=_[y];c[m]=this[m]}if(c.hash=s.hash,""===s.href)return c.href=c.format(),c;if(s.slashes&&!s.protocol){for(var v=Object.keys(s),T=0;T<v.length;T++){var E=v[T];"protocol"!==E&&(c[E]=s[E])}return R[c.protocol]&&c.hostname&&!c.pathname&&(c.pathname="/",c.path=c.pathname),c.href=c.format(),c}if(s.protocol&&s.protocol!==c.protocol){if(!R[s.protocol]){for(var S=Object.keys(s),A=0;A<S.length;A++){var w=S[A];c[w]=s[w]}return c.href=c.format(),c}if(c.protocol=s.protocol,s.host||C[s.protocol])c.pathname=s.pathname;else{for(var P=(s.pathname||"").split("/");P.length&&!(s.host=P.shift()););s.host||(s.host=""),s.hostname||(s.hostname=""),""!==P[0]&&P.unshift(""),P.length<2&&P.unshift(""),c.pathname=P.join("/")}if(c.search=s.search,c.query=s.query,c.host=s.host||"",c.auth=s.auth,c.hostname=s.hostname||s.host,c.port=s.port,c.pathname||c.search){var O=c.pathname||"",L=c.search||"";c.path=O+L}return c.slashes=c.slashes||s.slashes,c.href=c.format(),c}var D=c.pathname&&"/"===c.pathname.charAt(0),B=s.host||s.pathname&&"/"===s.pathname.charAt(0),F=B||D||c.host&&s.pathname,k=F,U=c.pathname&&c.pathname.split("/")||[],G=(P=s.pathname&&s.pathname.split("/")||[],c.protocol&&!R[c.protocol]);if(G&&(c.hostname="",c.port=null,c.host&&(""===U[0]?U[0]=c.host:U.unshift(c.host)),c.host="",s.protocol&&(s.hostname=null,s.port=null,s.host&&(""===P[0]?P[0]=s.host:P.unshift(s.host)),s.host=null),F=F&&(""===P[0]||""===U[0])),B)c.host=s.host||""===s.host?s.host:c.host,c.hostname=s.hostname||""===s.hostname?s.hostname:c.hostname,c.search=s.search,c.query=s.query,U=P;else if(P.length)U||(U=[]),U.pop(),U=U.concat(P),c.search=s.search,c.query=s.query;else if(null!=s.search){if(G)c.host=U.shift(),c.hostname=c.host,(Y=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@"))&&(c.auth=Y.shift(),c.hostname=Y.shift(),c.host=c.hostname);return c.search=s.search,c.query=s.query,null===c.pathname&&null===c.search||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!U.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var V=U.slice(-1)[0],W=(c.host||s.host||U.length>1)&&("."===V||".."===V)||""===V,z=0,X=U.length;X>=0;X--)"."===(V=U[X])?U.splice(X,1):".."===V?(U.splice(X,1),z++):z&&(U.splice(X,1),z--);if(!F&&!k)for(;z--;z)U.unshift("..");!F||""===U[0]||U[0]&&"/"===U[0].charAt(0)||U.unshift(""),W&&"/"!==U.join("/").substr(-1)&&U.push("");var Y,$=""===U[0]||U[0]&&"/"===U[0].charAt(0);G&&(c.hostname=$?"":U.length?U.shift():"",c.host=c.hostname,(Y=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@"))&&(c.auth=Y.shift(),c.hostname=Y.shift(),c.host=c.hostname));return(F=F||c.host&&U.length)&&!$&&U.unshift(""),U.length>0?c.pathname=U.join("/"):(c.pathname=null,c.path=null),null===c.pathname&&null===c.search||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=s.auth||c.auth,c.slashes=c.slashes||s.slashes,c.href=c.format(),c},Url.prototype.parseHost=function(){var s=this.host,l=m.exec(s);l&&(":"!==(l=l[0])&&(this.port=l.substr(1)),s=s.substr(0,s.length-l.length)),s&&(this.hostname=s)},l.parse=urlParse,l.resolve=function urlResolve(s,l){return urlParse(s,!1,!0).resolve(l)},l.resolveObject=function urlResolveObject(s,l){return s?urlParse(s,!1,!0).resolveObject(l):l},l.format=function urlFormat(s){return"string"==typeof s&&(s=urlParse(s)),s instanceof Url?s.format():Url.prototype.format.call(s)},l.Url=Url},55017:(s,l,c)=>{var _={"./music.mp3":22876,"./sfx-btn.mp3":20970,"./sfx-bubble.mp3":34625,"./sfx-correct.mp3":42642,"./sfx-error.mp3":39748,"./sfx-failure.mp3":14086,"./sfx-success.mp3":10157};function webpackContext(s){var l=webpackContextResolve(s);return c(l)}function webpackContextResolve(s){if(!c.o(_,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return _[s]}webpackContext.keys=function webpackContextKeys(){return Object.keys(_)},webpackContext.resolve=webpackContextResolve,s.exports=webpackContext,webpackContext.id=55017},84612:(s,l,c)=>{var _={"./bg.png":6052,"./bg2.png":85937,"./btn.png":72396,"./bubble1.png":3756,"./bubble2.png":88083,"./bubble3.png":82040,"./bubble4.png":98452,"./circle.png":22291,"./container.png":3118,"./fail.png":10598,"./hint.png":19624,"./lives.png":36769,"./lives1.png":22563,"./lives2.png":30736,"./pixel.png":87667,"./popup.png":58133,"./splash.png":36027,"./stamp.png":49800,"./task.png":98791};function webpackContext(s){var l=webpackContextResolve(s);return c(l)}function webpackContextResolve(s){if(!c.o(_,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return _[s]}webpackContext.keys=function webpackContextKeys(){return Object.keys(_)},webpackContext.resolve=webpackContextResolve,s.exports=webpackContext,webpackContext.id=84612},55992:(s,l,c)=>{var _={"./i1_1.png":72577,"./i1_10.png":8735,"./i1_11.png":38212,"./i1_12.png":87375,"./i1_13.png":18416,"./i1_14.png":90708,"./i1_15.png":40870,"./i1_16.png":85298,"./i1_17.png":66415,"./i1_18.png":58449,"./i1_19.png":73897,"./i1_2.png":82853,"./i1_20.png":88723,"./i1_21.png":63044,"./i1_22.png":29458,"./i1_23.png":28615,"./i1_24.png":30826,"./i1_25.png":66935,"./i1_26.png":95586,"./i1_27.png":77620,"./i1_28.png":3516,"./i1_29.png":44110,"./i1_3.png":93789,"./i1_30.png":19203,"./i1_31.png":59760,"./i1_32.png":52851,"./i1_33.png":79535,"./i1_34.png":56107,"./i1_35.png":75908,"./i1_36.png":35611,"./i1_37.png":3289,"./i1_38.png":40311,"./i1_39.png":60582,"./i1_4.png":13401,"./i1_40.png":35960,"./i1_5.png":30522,"./i1_6.png":70620,"./i1_7.png":9933,"./i1_8.png":50197,"./i1_9.png":89534,"./level1.jpg":30714};function webpackContext(s){var l=webpackContextResolve(s);return c(l)}function webpackContextResolve(s){if(!c.o(_,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return _[s]}webpackContext.keys=function webpackContextKeys(){return Object.keys(_)},webpackContext.resolve=webpackContextResolve,s.exports=webpackContext,webpackContext.id=55992},23178:(s,l,c)=>{var _={"./i2_1.png":34282,"./i2_10.png":51526,"./i2_11.png":75017,"./i2_12.png":10770,"./i2_13.png":29310,"./i2_14.png":63423,"./i2_15.png":19655,"./i2_16.png":67726,"./i2_17.png":70189,"./i2_18.png":4496,"./i2_19.png":931,"./i2_2.png":93330,"./i2_20.png":14565,"./i2_21.png":41829,"./i2_22.png":55341,"./i2_23.png":38663,"./i2_24.png":68204,"./i2_25.png":52500,"./i2_26.png":98615,"./i2_27.png":25852,"./i2_28.png":89415,"./i2_29.png":77918,"./i2_3.png":33482,"./i2_30.png":8111,"./i2_31.png":21217,"./i2_32.png":78203,"./i2_33.png":53241,"./i2_34.png":70108,"./i2_35.png":10753,"./i2_36.png":49337,"./i2_37.png":4077,"./i2_38.png":71160,"./i2_39.png":81558,"./i2_4.png":38657,"./i2_40.png":37761,"./i2_5.png":21045,"./i2_6.png":68221,"./i2_7.png":14586,"./i2_8.png":97242,"./i2_9.png":30125,"./level2.png":92541};function webpackContext(s){var l=webpackContextResolve(s);return c(l)}function webpackContextResolve(s){if(!c.o(_,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return _[s]}webpackContext.keys=function webpackContextKeys(){return Object.keys(_)},webpackContext.resolve=webpackContextResolve,s.exports=webpackContext,webpackContext.id=23178},10284:(s,l,c)=>{var _={"./i3_1.png":3192,"./i3_10.png":71018,"./i3_11.png":64362,"./i3_12.png":16780,"./i3_13.png":86883,"./i3_14.png":96970,"./i3_15.png":71628,"./i3_16.png":92667,"./i3_17.png":438,"./i3_18.png":81479,"./i3_19.png":41369,"./i3_2.png":96198,"./i3_20.png":71919,"./i3_21.png":40846,"./i3_22.png":34704,"./i3_23.png":48346,"./i3_24.png":97330,"./i3_25.png":9102,"./i3_26.png":84613,"./i3_27.png":89053,"./i3_28.png":14136,"./i3_29.png":45264,"./i3_3.png":18082,"./i3_30.png":6669,"./i3_31.png":39486,"./i3_32.png":21187,"./i3_33.png":44968,"./i3_34.png":80325,"./i3_35.png":21840,"./i3_36.png":66423,"./i3_37.png":14252,"./i3_38.png":89794,"./i3_39.png":2310,"./i3_4.png":52129,"./i3_40.png":29360,"./i3_41.png":58978,"./i3_5.png":95544,"./i3_6.png":20813,"./i3_7.png":52104,"./i3_8.png":11247,"./i3_9.png":61968,"./level3.png":70994};function webpackContext(s){var l=webpackContextResolve(s);return c(l)}function webpackContextResolve(s){if(!c.o(_,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return _[s]}webpackContext.keys=function webpackContextKeys(){return Object.keys(_)},webpackContext.resolve=webpackContextResolve,s.exports=webpackContext,webpackContext.id=10284},84551:(s,l,c)=>{var _={"./i4_1.png":392,"./i4_10.png":77871,"./i4_11.png":56387,"./i4_12.png":71680,"./i4_13.png":40062,"./i4_14.png":8300,"./i4_15.png":58163,"./i4_16.png":91123,"./i4_17.png":33643,"./i4_18.png":66812,"./i4_19.png":55668,"./i4_2.png":82288,"./i4_20.png":10099,"./i4_21.png":83833,"./i4_22.png":68195,"./i4_23.png":61208,"./i4_24.png":21681,"./i4_25.png":30039,"./i4_26.png":86415,"./i4_27.png":66533,"./i4_28.png":5559,"./i4_29.png":45852,"./i4_3.png":79239,"./i4_30.png":30456,"./i4_31.png":86832,"./i4_32.png":73434,"./i4_33.png":96529,"./i4_34.png":68503,"./i4_35.png":72001,"./i4_36.png":72543,"./i4_37.png":94428,"./i4_38.png":50178,"./i4_39.png":87103,"./i4_4.png":81047,"./i4_40.png":66774,"./i4_5.png":85824,"./i4_6.png":20744,"./i4_7.png":29345,"./i4_8.png":77845,"./i4_9.png":3284,"./level4.png":87369};function webpackContext(s){var l=webpackContextResolve(s);return c(l)}function webpackContextResolve(s){if(!c.o(_,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return _[s]}webpackContext.keys=function webpackContextKeys(){return Object.keys(_)},webpackContext.resolve=webpackContextResolve,s.exports=webpackContext,webpackContext.id=84551},1668:(s,l,c)=>{var _={"./i5_1.png":81891,"./i5_10.png":48537,"./i5_11.png":71820,"./i5_12.png":82775,"./i5_13.png":35910,"./i5_14.png":95391,"./i5_15.png":40169,"./i5_16.png":79328,"./i5_17.png":97426,"./i5_18.png":67935,"./i5_19.png":66734,"./i5_2.png":97921,"./i5_20.png":46074,"./i5_21.png":21288,"./i5_22.png":75819,"./i5_23.png":47297,"./i5_24.png":83703,"./i5_25.png":58673,"./i5_26.png":35219,"./i5_27.png":95874,"./i5_28.png":14567,"./i5_29.png":14641,"./i5_3.png":82754,"./i5_30.png":99209,"./i5_31.png":32619,"./i5_32.png":93745,"./i5_33.png":32805,"./i5_34.png":58680,"./i5_35.png":17794,"./i5_36.png":13528,"./i5_37.png":14408,"./i5_38.png":54650,"./i5_39.png":11365,"./i5_4.png":81405,"./i5_5.png":1366,"./i5_6.png":54476,"./i5_7.png":70160,"./i5_8.png":87358,"./i5_9.png":93268,"./level5.png":54213};function webpackContext(s){var l=webpackContextResolve(s);return c(l)}function webpackContextResolve(s){if(!c.o(_,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return _[s]}webpackContext.keys=function webpackContextKeys(){return Object.keys(_)},webpackContext.resolve=webpackContextResolve,s.exports=webpackContext,webpackContext.id=1668},62481:(s,l,c)=>{var _={"./animations.json":65798,"./level.json":75665,"./locales.json":2025,"./prefabs.json":75424,"./screen.json":11412,"./settings.json":72654,"./states.json":95349,"./styles.json":49110,"./tweens.json":2583};function webpackContext(s){var l=webpackContextResolve(s);return c(l)}function webpackContextResolve(s){if(!c.o(_,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return _[s]}webpackContext.keys=function webpackContextKeys(){return Object.keys(_)},webpackContext.resolve=webpackContextResolve,s.exports=webpackContext,webpackContext.id=62481},47732:(s,l,c)=>{var _={"./bg.json":77084,"./gameScene.json":42434,"./items1.json":34373,"./items2.json":9932,"./items3.json":12150,"./items4.json":12649,"./items5.json":34684,"./level.json":36986,"./levelPhoto.json":82169,"./popupLives.json":28360,"./startScene.json":66454,"./successScene.json":25110,"./tasks.json":75132,"./ui.json":42779};function webpackContext(s){var l=webpackContextResolve(s);return c(l)}function webpackContextResolve(s){if(!c.o(_,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return _[s]}webpackContext.keys=function webpackContextKeys(){return Object.keys(_)},webpackContext.resolve=webpackContextResolve,s.exports=webpackContext,webpackContext.id=47732},24654:()=>{},28250:(s,l,c)=>{"use strict";c.r(l),c.d(l,{Easing:()=>y,Group:()=>m,Interpolation:()=>v,Sequence:()=>T,Tween:()=>S,VERSION:()=>A,add:()=>R,default:()=>B,getAll:()=>O,nextId:()=>w,now:()=>now,remove:()=>L,removeAll:()=>C,update:()=>D});var _,y=Object.freeze({Linear:Object.freeze({None:function(s){return s},In:function(s){return this.None(s)},Out:function(s){return this.None(s)},InOut:function(s){return this.None(s)}}),Quadratic:Object.freeze({In:function(s){return s*s},Out:function(s){return s*(2-s)},InOut:function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)}}),Cubic:Object.freeze({In:function(s){return s*s*s},Out:function(s){return--s*s*s+1},InOut:function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)}}),Quartic:Object.freeze({In:function(s){return s*s*s*s},Out:function(s){return 1- --s*s*s*s},InOut:function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)}}),Quintic:Object.freeze({In:function(s){return s*s*s*s*s},Out:function(s){return--s*s*s*s*s+1},InOut:function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)}}),Sinusoidal:Object.freeze({In:function(s){return 1-Math.sin((1-s)*Math.PI/2)},Out:function(s){return Math.sin(s*Math.PI/2)},InOut:function(s){return.5*(1-Math.sin(Math.PI*(.5-s)))}}),Exponential:Object.freeze({In:function(s){return 0===s?0:Math.pow(1024,s-1)},Out:function(s){return 1===s?1:1-Math.pow(2,-10*s)},InOut:function(s){return 0===s?0:1===s?1:(s*=2)<1?.5*Math.pow(1024,s-1):.5*(2-Math.pow(2,-10*(s-1)))}}),Circular:Object.freeze({In:function(s){return 1-Math.sqrt(1-s*s)},Out:function(s){return Math.sqrt(1- --s*s)},InOut:function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)}}),Elastic:Object.freeze({In:function(s){return 0===s?0:1===s?1:-Math.pow(2,10*(s-1))*Math.sin(5*(s-1.1)*Math.PI)},Out:function(s){return 0===s?0:1===s?1:Math.pow(2,-10*s)*Math.sin(5*(s-.1)*Math.PI)+1},InOut:function(s){return 0===s?0:1===s?1:(s*=2)<1?-.5*Math.pow(2,10*(s-1))*Math.sin(5*(s-1.1)*Math.PI):.5*Math.pow(2,-10*(s-1))*Math.sin(5*(s-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(s){var l=1.70158;return 1===s?1:s*s*((l+1)*s-l)},Out:function(s){var l=1.70158;return 0===s?0:--s*s*((l+1)*s+l)+1},InOut:function(s){var l=2.5949095;return(s*=2)<1?s*s*((l+1)*s-l)*.5:.5*((s-=2)*s*((l+1)*s+l)+2)}}),Bounce:Object.freeze({In:function(s){return 1-y.Bounce.Out(1-s)},Out:function(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},InOut:function(s){return s<.5?.5*y.Bounce.In(2*s):.5*y.Bounce.Out(2*s-1)+.5}}),generatePow:function(s){return void 0===s&&(s=4),s=(s=s<Number.EPSILON?Number.EPSILON:s)>1e4?1e4:s,{In:function(l){return Math.pow(l,s)},Out:function(l){return 1-Math.pow(1-l,s)},InOut:function(l){return l<.5?Math.pow(2*l,s)/2:(1-Math.pow(2-2*l,s))/2+.5}}}}),now=function(){return performance.now()},m=function(){function Group(){this._tweens={},this._tweensAddedDuringUpdate={}}return Group.prototype.getAll=function(){var s=this;return Object.keys(this._tweens).map((function(l){return s._tweens[l]}))},Group.prototype.removeAll=function(){this._tweens={}},Group.prototype.add=function(s){this._tweens[s.getId()]=s,this._tweensAddedDuringUpdate[s.getId()]=s},Group.prototype.remove=function(s){delete this._tweens[s.getId()],delete this._tweensAddedDuringUpdate[s.getId()]},Group.prototype.update=function(s,l){void 0===s&&(s=now()),void 0===l&&(l=!1);var c=Object.keys(this._tweens);if(0===c.length)return!1;for(;c.length>0;){this._tweensAddedDuringUpdate={};for(var _=0;_<c.length;_++){var y=this._tweens[c[_]],m=!l;y&&!1===y.update(s,m)&&!l&&delete this._tweens[c[_]]}c=Object.keys(this._tweensAddedDuringUpdate)}return!0},Group}(),v={Linear:function(s,l){var c=s.length-1,_=c*l,y=Math.floor(_),m=v.Utils.Linear;return l<0?m(s[0],s[1],_):l>1?m(s[c],s[c-1],c-_):m(s[y],s[y+1>c?c:y+1],_-y)},Bezier:function(s,l){for(var c=0,_=s.length-1,y=Math.pow,m=v.Utils.Bernstein,T=0;T<=_;T++)c+=y(1-l,_-T)*y(l,T)*s[T]*m(_,T);return c},CatmullRom:function(s,l){var c=s.length-1,_=c*l,y=Math.floor(_),m=v.Utils.CatmullRom;return s[0]===s[c]?(l<0&&(y=Math.floor(_=c*(1+l))),m(s[(y-1+c)%c],s[y],s[(y+1)%c],s[(y+2)%c],_-y)):l<0?s[0]-(m(s[0],s[0],s[1],s[1],-_)-s[0]):l>1?s[c]-(m(s[c],s[c],s[c-1],s[c-1],_-c)-s[c]):m(s[y?y-1:0],s[y],s[c<y+1?c:y+1],s[c<y+2?c:y+2],_-y)},Utils:{Linear:function(s,l,c){return(l-s)*c+s},Bernstein:function(s,l){var c=v.Utils.Factorial;return c(s)/c(l)/c(s-l)},Factorial:(_=[1],function(s){var l=1;if(_[s])return _[s];for(var c=s;c>1;c--)l*=c;return _[s]=l,l}),CatmullRom:function(s,l,c,_,y){var m=.5*(c-s),v=.5*(_-l),T=y*y;return(2*l-2*c+m+v)*(y*T)+(-3*l+3*c-2*m-v)*T+m*y+l}}},T=function(){function Sequence(){}return Sequence.nextId=function(){return Sequence._nextId++},Sequence._nextId=0,Sequence}(),E=new m,S=function(){function Tween(s,l){void 0===l&&(l=E),this._object=s,this._group=l,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=y.Linear.None,this._interpolationFunction=v.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=T.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return Tween.prototype.getId=function(){return this._id},Tween.prototype.isPlaying=function(){return this._isPlaying},Tween.prototype.isPaused=function(){return this._isPaused},Tween.prototype.to=function(s,l){if(void 0===l&&(l=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=s,this._propertiesAreSetUp=!1,this._duration=l,this},Tween.prototype.duration=function(s){return void 0===s&&(s=1e3),this._duration=s,this},Tween.prototype.dynamic=function(s){return void 0===s&&(s=!1),this._isDynamic=s,this},Tween.prototype.start=function(s,l){if(void 0===s&&(s=now()),void 0===l&&(l=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var c in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(c),this._valuesStart[c]=this._valuesStartRepeat[c];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=s,this._startTime+=this._delayTime,!this._propertiesAreSetUp||l){if(this._propertiesAreSetUp=!0,!this._isDynamic){var _={};for(var y in this._valuesEnd)_[y]=this._valuesEnd[y];this._valuesEnd=_}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,l)}return this},Tween.prototype.startFromCurrentValues=function(s){return this.start(s,!0)},Tween.prototype._setupProperties=function(s,l,c,_,y){for(var m in c){var v=s[m],T=Array.isArray(v),E=T?"array":typeof v,S=!T&&Array.isArray(c[m]);if("undefined"!==E&&"function"!==E){if(S){if(0===(L=c[m]).length)continue;for(var A=[v],w=0,P=L.length;w<P;w+=1){var O=this._handleRelativeValue(v,L[w]);if(isNaN(O)){S=!1,console.warn("Found invalid interpolation list. Skipping.");break}A.push(O)}S&&(c[m]=A)}if("object"!==E&&!T||!v||S)(void 0===l[m]||y)&&(l[m]=v),T||(l[m]*=1),_[m]=S?c[m].slice().reverse():l[m]||0;else{l[m]=T?[]:{};var C=v;for(var R in C)l[m][R]=C[R];_[m]=T?[]:{};var L=c[m];if(!this._isDynamic){var D={};for(var R in L)D[R]=L[R];c[m]=L=D}this._setupProperties(C,l[m],L,_[m],y)}}}},Tween.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},Tween.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},Tween.prototype.pause=function(s){return void 0===s&&(s=now()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=s,this._group&&this._group.remove(this)),this},Tween.prototype.resume=function(s){return void 0===s&&(s=now()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=s-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},Tween.prototype.stopChainedTweens=function(){for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].stop();return this},Tween.prototype.group=function(s){return void 0===s&&(s=E),this._group=s,this},Tween.prototype.delay=function(s){return void 0===s&&(s=0),this._delayTime=s,this},Tween.prototype.repeat=function(s){return void 0===s&&(s=0),this._initialRepeat=s,this._repeat=s,this},Tween.prototype.repeatDelay=function(s){return this._repeatDelayTime=s,this},Tween.prototype.yoyo=function(s){return void 0===s&&(s=!1),this._yoyo=s,this},Tween.prototype.easing=function(s){return void 0===s&&(s=y.Linear.None),this._easingFunction=s,this},Tween.prototype.interpolation=function(s){return void 0===s&&(s=v.Linear),this._interpolationFunction=s,this},Tween.prototype.chain=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return this._chainedTweens=s,this},Tween.prototype.onStart=function(s){return this._onStartCallback=s,this},Tween.prototype.onEveryStart=function(s){return this._onEveryStartCallback=s,this},Tween.prototype.onUpdate=function(s){return this._onUpdateCallback=s,this},Tween.prototype.onRepeat=function(s){return this._onRepeatCallback=s,this},Tween.prototype.onComplete=function(s){return this._onCompleteCallback=s,this},Tween.prototype.onStop=function(s){return this._onStopCallback=s,this},Tween.prototype.update=function(s,l){if(void 0===s&&(s=now()),void 0===l&&(l=!0),this._isPaused)return!0;var c,_,y=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(s>y)return!1;l&&this.start(s,!0)}if(this._goToEnd=!1,s<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),_=(s-this._startTime)/this._duration,_=0===this._duration||_>1?1:_;var m=this._easingFunction(_);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,m),this._onUpdateCallback&&this._onUpdateCallback(this._object,_),1===_){if(this._repeat>0){for(c in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[c]||(this._valuesStartRepeat[c]=this._valuesStartRepeat[c]+parseFloat(this._valuesEnd[c])),this._yoyo&&this._swapEndStartRepeatValues(c),this._valuesStart[c]=this._valuesStartRepeat[c];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=s+this._repeatDelayTime:this._startTime=s+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var v=0,T=this._chainedTweens.length;v<T;v++)this._chainedTweens[v].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},Tween.prototype._updateProperties=function(s,l,c,_){for(var y in c)if(void 0!==l[y]){var m=l[y]||0,v=c[y],T=Array.isArray(s[y]),E=Array.isArray(v);!T&&E?s[y]=this._interpolationFunction(v,_):"object"==typeof v&&v?this._updateProperties(s[y],m,v,_):"number"==typeof(v=this._handleRelativeValue(m,v))&&(s[y]=m+(v-m)*_)}},Tween.prototype._handleRelativeValue=function(s,l){return"string"!=typeof l?l:"+"===l.charAt(0)||"-"===l.charAt(0)?s+parseFloat(l):parseFloat(l)},Tween.prototype._swapEndStartRepeatValues=function(s){var l=this._valuesStartRepeat[s],c=this._valuesEnd[s];this._valuesStartRepeat[s]="string"==typeof c?this._valuesStartRepeat[s]+parseFloat(c):this._valuesEnd[s],this._valuesEnd[s]=l},Tween}(),A="20.0.3",w=T.nextId,P=E,O=P.getAll.bind(P),C=P.removeAll.bind(P),R=P.add.bind(P),L=P.remove.bind(P),D=P.update.bind(P),B={Easing:y,Group:m,Interpolation:v,now,Sequence:T,nextId:w,Tween:S,VERSION:A,getAll:O,removeAll:C,add:R,remove:L,update:D}},65798:s=>{"use strict";s.exports={}},75665:s=>{"use strict";s.exports=JSON.parse('{"board":{"rows":7,"cols":7,"fieldSize":135}}')},2025:s=>{"use strict";s.exports={en:{}}},75424:s=>{"use strict";s.exports=JSON.parse('{"task":{"tint":"0xeeeeee","tweens":{"shift_vertical":{"to":{"ox":-130},"duration":300,"options":{"ease":"backOut"}},"shift_horizontal":{"to":{"oy":-260},"duration":300,"options":{"ease":"backOut"}},"hide":{"to":"scale0","duration":600,"options":{"ease":"backIn"}}},"texture":"container","children":{"cover":{"tweens":{"explode":{"to":{"scale":{"x":0.6,"y":0.6}},"duration":150,"options":{"ease":"cubicIn"}}},"alpha":0.5,"width":130,"height":130,"texture":"bubble1"},"icon":{"texture":"container"}}}}')},11412:s=>{"use strict";s.exports=JSON.parse('{"vertical":{"width":1024,"height":1024},"horizontal":{"width":1024,"height":1024,"fit":"height"}}')},72654:s=>{"use strict";s.exports=JSON.parse('{"startScene":"Start","lives":3}')},95349:s=>{"use strict";s.exports=JSON.parse('{"scale0":{"visible":false,"scale":{"x":0,"y":0}},"scale1":{"visible":true,"scale":{"x":1,"y":1}},"alpha0":{"visible":false,"alpha":0},"alpha1":{"visible":true,"alpha":1},"visible":{"visible":true},"hidden":{"visible":false}}')},49110:s=>{"use strict";s.exports=JSON.parse('{"tasks":{"fontFamily":"main","fontSize":26,"fontWeight":"normal","fill":["#ffffff"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840},"lives":{"fontFamily":"main","fontSize":26,"fontWeight":"normal","fill":["#154360"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840},"button":{"fontFamily":"main","fontSize":40,"fontWeight":"normal","fill":["#ffffff"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840},"popupLivesTitle":{"fontFamily":"main","fontSize":60,"fontWeight":"normal","fill":["#154360"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840},"popupLivesButton":{"fontFamily":"main","fontSize":40,"fontWeight":"normal","fill":["#154360"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840},"successSceneTitle":{"fontFamily":"main","fontSize":40,"fontWeight":"normal","fill":["#ffffff"],"align":"center","stroke":"#000000","strokeThickness":1,"dropShadow":false,"dropShadowColor":"#000000","dropShadowBlur":1,"dropShadowAngle":0.5,"dropShadowDistance":1,"wordWrap":true,"wordWrapWidth":840}}')},2583:s=>{"use strict";s.exports=JSON.parse('{"touch":[{"to":{"scale":{"x":0.9,"y":0.9}},"duration":150,"options":{"ease":"backIn"}},{"to":{"scale":{"x":1,"y":1}},"duration":150,"options":{"ease":"backOut"}}],"alpha0":{"to":"alpha0","duration":300,"options":{"ease":"backIn"}},"alpha1":{"to":"alpha1","duration":300,"options":{"ease":"backIn"}},"scale0":{"to":"scale0","duration":300,"options":{"ease":"backIn"}},"scale1":{"to":"scale1","duration":300,"options":{"ease":"backOut"}},"shake":[{"to":{"ox":-10},"duration":75,"options":{"ease":"cubicOut"}},{"to":{"ox":30},"duration":75,"options":{"ease":"cubicOut"}},{"to":{"ox":-30},"duration":75,"options":{"ease":"cubicOut"}},{"to":{"ox":30},"duration":75,"options":{"ease":"cubicOut"}},{"to":{"ox":-20},"duration":75,"options":{"ease":"cubicOut"}}],"pulsation":{"to":{"scale":{"x":0.9,"y":0.9}},"duration":900,"options":{"yoyo":true,"repeat":"Infinity","ease":"quadraticInOut"}}}')},77084:s=>{"use strict";s.exports=JSON.parse('{"key":"bg","cx":0,"cy":0,"texture":"bg2","width":"100%","height":"100%"}')},42434:s=>{"use strict";s.exports=JSON.parse('{"key":"gameScene","children":{"bg":{"type":"Background","layout":"bg"},"bgAnimation":{"type":"BackgroundAnimation"},"level":{"type":"Level","layout":"level"},"tasks":{"type":"Tasks","layout":"tasks"},"ui":{"type":"Ui","children":"ui"},"popupLives":{"type":"PopupLives","layout":"popupLives"}}}')},34373:s=>{"use strict";s.exports=JSON.parse('{"i1_40":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":156,"y":-38},"i1_39":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":299,"y":-433},"i1_38":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-11,"y":-164},"i1_37":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-283,"y":-179},"i1_36":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-376,"y":-142},"i1_35":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":291,"y":-145},"i1_34":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-375,"y":18},"i1_33":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-191,"y":101},"i1_32":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":129,"y":217},"i1_31":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":204,"y":238},"i1_30":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":245,"y":347},"i1_29":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":223,"y":-93},"i1_28":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":350,"y":-209},"i1_27":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-249,"y":295},"i1_26":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":223,"y":9},"i1_25":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":356,"y":261},"i1_24":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":31,"y":-292},"i1_23":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":199,"y":-272},"i1_22":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":131,"y":-261},"i1_21":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-186,"y":163},"i1_20":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-254,"y":162},"i1_19":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-70,"y":-355},"i1_18":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-80,"y":-126},"i1_17":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":16,"y":384},"i1_16":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":329,"y":100},"i1_15":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":106,"y":119},"i1_14":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-341,"y":-417},"i1_13":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-210,"y":360},"i1_12":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":39,"y":101},"i1_11":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":181,"y":-72},"i1_10":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":310,"y":-303},"i1_9":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":307,"y":-197},"i1_8":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-91,"y":-84},"i1_7":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":159,"y":384},"i1_6":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-32,"y":285},"i1_5":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-182,"y":153},"i1_4":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":64,"y":-197},"i1_3":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-311,"y":-389},"i1_2":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":148,"y":186},"i1_1":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":156,"y":-38}}')},9932:s=>{"use strict";s.exports=JSON.parse('{"i2_40":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-226,"y":29},"i2_39":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-67,"y":-512},"i2_38":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":233,"y":-473},"i2_37":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":58,"y":60},"i2_36":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":125,"y":353},"i2_35":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":178,"y":-375},"i2_34":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-47,"y":148},"i2_33":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-146,"y":264},"i2_32":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-168,"y":295},"i2_31":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":212,"y":-103},"i2_30":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":13,"y":22},"i2_29":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-271,"y":83},"i2_28":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-272,"y":90},"i2_27":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-326,"y":-383},"i2_26":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":192,"y":181},"i2_25":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-354,"y":-100},"i2_24":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":82,"y":310},"i2_23":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-119,"y":-312},"i2_22":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":90,"y":-212},"i2_21":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-224,"y":-309},"i2_20":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-227,"y":-50},"i2_19":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":167,"y":423},"i2_18":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-174,"y":146},"i2_17":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-113,"y":21},"i2_16":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":279,"y":60},"i2_15":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":10,"y":101},"i2_14":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":157,"y":472},"i2_13":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":267,"y":379},"i2_12":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-102,"y":-198},"i2_11":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-66,"y":109},"i2_10":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-346,"y":-114},"i2_9":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-359,"y":-179},"i2_8":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":328,"y":167},"i2_7":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-140,"y":-177},"i2_6":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-422,"y":140},"i2_5":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-321,"y":306},"i2_4":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-317,"y":299},"i2_3":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-203,"y":363},"i2_2":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-255,"y":341},"i2_1":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-120,"y":-74}}')},12150:s=>{"use strict";s.exports=JSON.parse('{"i3_41":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-336,"y":211},"i3_40":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-230,"y":259},"i3_39":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":4,"y":85},"i3_38":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":57,"y":-77},"i3_37":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-54,"y":248},"i3_36":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-411,"y":340},"i3_35":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":296,"y":49},"i3_34":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-263,"y":-98},"i3_33":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-232,"y":-70},"i3_32":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":285,"y":85},"i3_31":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":269,"y":146},"i3_30":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":67,"y":399},"i3_29":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-241,"y":91},"i3_28":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-258,"y":377},"i3_27":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-107,"y":262},"i3_26":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-63,"y":-112},"i3_25":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-245,"y":440},"i3_24":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-274,"y":7},"i3_23":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-328,"y":-9.5},"i3_22":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-20,"y":-336},"i3_21":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-82.5,"y":-334},"i3_20":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-22,"y":405.5},"i3_19":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":75,"y":319},"i3_18":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-144,"y":312},"i3_17":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-209.5,"y":262.5},"i3_16":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-126,"y":99},"i3_15":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":62.5,"y":170},"i3_14":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":52,"y":54},"i3_13":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":143.5,"y":290},"i3_12":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-313,"y":207.5},"i3_11":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":99,"y":394.5},"i3_10":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-258,"y":371},"i3_9":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":148.5,"y":42},"i3_8":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-205.5,"y":333.5},"i3_7":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":117,"y":0},"i3_6":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-340,"y":407},"i3_5":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-203.5,"y":381},"i3_4":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-37,"y":124.5},"i3_3":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-113.5,"y":-333},"i3_2":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":185.5,"y":1.5},"i3_1":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":241.5,"y":-12}}')},12649:s=>{"use strict";s.exports=JSON.parse('{"i4_40":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-31,"y":-37},"i4_39":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":273,"y":0},"i4_38":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-278,"y":6},"i4_37":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-268,"y":37},"i4_36":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-93,"y":350},"i4_35":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-95,"y":-151},"i4_34":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-310,"y":70},"i4_33":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-148,"y":-282},"i4_32":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-251,"y":-214},"i4_31":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":342,"y":143},"i4_30":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-170,"y":3},"i4_29":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-413,"y":49},"i4_28":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-362,"y":-53},"i4_27":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":237,"y":-51.5},"i4_26":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":204,"y":-260.5},"i4_25":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-360,"y":174.5},"i4_24":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":289,"y":-5},"i4_23":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-237,"y":307},"i4_22":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-256,"y":-151},"i4_21":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-418,"y":138},"i4_20":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":99,"y":141},"i4_19":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":47,"y":78},"i4_18":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":162,"y":-186},"i4_17":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":207,"y":-149},"i4_16":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-87,"y":-88},"i4_15":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-121,"y":89},"i4_14":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-53,"y":330},"i4_13":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":107,"y":195.5},"i4_12":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-27,"y":261},"i4_11":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":55,"y":221},"i4_10":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-135,"y":244},"i4_9":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-87.5,"y":83},"i4_8":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-147.5,"y":215},"i4_7":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":24,"y":325},"i4_6":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-26,"y":358.5},"i4_5":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":197.5,"y":224},"i4_4":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":202.5,"y":357.5},"i4_3":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":154,"y":311},"i4_2":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-48,"y":-300.5},"i4_1":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":49,"y":26}}')},34684:s=>{"use strict";s.exports=JSON.parse('{"i5_39":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":147,"y":-332},"i5_38":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-214.5,"y":182},"i5_37":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":65,"y":-70},"i5_36":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":262,"y":-207},"i5_35":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":249,"y":-217.5},"i5_34":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":263,"y":42},"i5_33":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":159.5,"y":259.5},"i5_32":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":307,"y":29},"i5_31":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":304,"y":-58},"i5_30":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-80,"y":7},"i5_29":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":126,"y":270},"i5_28":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-207,"y":-296},"i5_27":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-36,"y":-224},"i5_26":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-19,"y":20},"i5_25":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-423,"y":40},"i5_24":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-185,"y":-71},"i5_23":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":323,"y":-363},"i5_22":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-211,"y":-355},"i5_21":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-314,"y":23},"i5_20":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-318,"y":18},"i5_19":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-380,"y":-185},"i5_18":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-397,"y":-201},"i5_17":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":34,"y":22},"i5_16":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":84,"y":-77},"i5_15":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":100,"y":-72},"i5_14":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-398,"y":-191},"i5_13":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":302,"y":72},"i5_12":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-234,"y":-152},"i5_11":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-201,"y":348},"i5_10":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":116,"y":-127},"i5_9":{"active":false,"type":"Item","anchor":{"x":0,"y":0},"x":-30,"y":-514},"i5_8":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":290,"y":283},"i5_7":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-355,"y":218},"i5_6":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-103,"y":91},"i5_5":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-291,"y":14.5},"i5_4":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-203,"y":10},"i5_3":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":-291,"y":255},"i5_2":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":155,"y":285},"i5_1":{"active":true,"type":"Item","anchor":{"x":0,"y":0},"x":85,"y":302}}')},36986:s=>{"use strict";s.exports=JSON.parse('{"texture":"container","states":{"ver":{"scale":0.65,"cx":0,"cy":-50},"hor":{"scale":1,"cx":0,"cy":0},"hor narrow":{"scale":1.1,"cx":0,"cy":-50}},"tweens":{"complete":{"to":"alpha0","duration":300}},"children":{"image":{"type":"LevelImage","texture":"container","states":{"completed":{"visible":false}},"children":{"items":{"type":"LevelItems","states":{"completed":{"visible":false}}}}},"flash":{"visible":false,"texture":"splash","width":1024,"height":1024,"alpha":0,"tint":"0xfef5e7","tweens":{"show":{"to":"alpha1","duration":100,"options":{"ease":"cubicOut"}}}}}}')},82169:s=>{"use strict";s.exports=JSON.parse('{"anchor":0.5,"texture":"container","visible":true,"scale":{"x":0,"y":0},"cx":0,"cy":0,"states":{"scale1":{"scale":{"x":1,"y":1}}},"tweens":{"scale":{"on":"SuccessScene","to":"scale1","duration":1000,"options":{"ease":"cubicInOut"}},"rotation":{"on":"SuccessScene","to":{"angle":720},"duration":1000,"options":{"ease":"cubicInOut"}}},"children":{"cover":{"texture":"splash","tint":"0xffffff","x":0,"y":0,"width":400,"height":450},"black":{"texture":"splash","tint":"0x000000","width":350,"y":-25,"height":350},"picture":{"alpha":0,"texture":"level1","width":350,"y":-25,"height":350,"tweens":{"show":{"on":"SuccessScene","to":"alpha1","duration":2000,"options":{"delay":1000}}}},"stamp":{"visible":false,"x":-5000,"y":-5000,"states":{},"tweens":{"show":{"to":"visible","on":"SuccessScene","duration":0,"options":{"delay":1000}},"scale":{"on":"SuccessScene","to":{"scale":{"x":1,"y":1}},"duration":750,"options":{"delay":1250}},"move":{"on":"SuccessScene","to":{"x":80,"y":160},"duration":1500,"options":{"delay":250,"ease":"cubicOut"}}},"scale":{"x":20,"y":20}}}}')},28360:s=>{"use strict";s.exports=JSON.parse('{"anchor":0.5,"texture":"container","visible":false,"scale":{"x":0,"y":0},"cx":0,"cy":0,"states":{"active":{"visible":true,"scale":{"x":1,"y":1}}},"tweens":{"show":{"to":"active","duration":300,"options":{"ease":"backOut"}}},"children":{"popup":{"x":0,"y":0},"title":{"x":0,"y":-200,"text":"No Lives","style":"popupLivesTitle"},"lives1":{"scale":0.8,"x":0.5,"y":-40,"tweens":{"tween2":{"to":{"ox":-30,"oy":30,"angle":-20,"scale":{"x":0.8,"y":0.8}},"duration":600,"options":{"ease":"backOut"}},"tween1":{"to":{"scale":{"x":0.4,"y":0.8}},"duration":300,"options":{"ease":"backIn"}}}},"lives2":{"scale":0.8,"x":-0.5,"y":-40,"tweens":{"tween1":{"to":{"scale":{"x":0.4,"y":0.8}},"duration":300,"options":{"ease":"backIn"}},"tween2":{"to":{"ox":30,"oy":20,"angle":10,"scale":{"x":0.8,"y":0.8}},"duration":300,"options":{"ease":"backOut"}}}},"btn":{"x":0,"y":175,"scale":0.8,"children":{"label":{"text":"Restart","style":"button"}}}}}')},66454:s=>{"use strict";s.exports=JSON.parse('{"key":"startScene","children":{"bg":{"type":"Background","layout":"bg"},"bgAnimation":{"type":"BackgroundAnimation"},"btn":{"scale":{"x":0,"y":0},"cx":0,"cy":200,"children":{"label":{"text":"Start","style":"button"}}}}}')},25110:s=>{"use strict";s.exports=JSON.parse('{"key":"gameScene","children":{"bg":{"type":"Background","layout":"bg"},"bgAnimation":{"type":"BackgroundAnimation"},"title":{"cx":0,"cy":-1000,"states":{"visible":{"cx":0,"cy":-350}},"tweens":{"show":{"to":"visible","on":"SuccessScene","duration":600,"options":{"ease":"backOut"}}},"text":"Level Completed","style":"successSceneTitle"},"photo":{"type":"LevelPhoto","layout":"levelPhoto"},"btn":{"scale":{"x":0,"y":0},"cx":0,"cy":350,"tweens":{"show":{"on":"SuccessScene","to":"scale1","duration":600,"options":{"delay":2500,"ease":"backOut"}}},"children":{"label":{"text":"Continue","style":"button"}}}}}')},75132:s=>{"use strict";s.exports=JSON.parse('{"key":"tasks","texture":"container","states":{"ver":{"x":75,"bottom":100},"hor":{"right":200,"y":250}},"children":{"cover":{"anchor":{"x":0,"y":0.5},"texture":"splash","states":{"ver":{"x":-65,"y":0},"hor":{"x":0,"y":0}},"width":100,"height":100,"tint":"0xcccccc","alpha":0}},"components":{"scrollHorizontal":{"enabled":false},"scrollVertical":{"enabled":false}}}')},42779:s=>{"use strict";s.exports=JSON.parse('{"tasks":{"type":"UiTasks","texture":"container","states":{"ver":{"cx":0,"bottom":200,"scale":1},"hor":{"scale":2,"right":200,"y":65}},"tweens":{"hide":{"on":"completed","to":"alpha0","duration":500,"options":{"ease":"backIn"}}},"children":{"label":{"text":"Tasks: 0/30","style":"tasks"}}},"lives":{"type":"Lives","states":{"ver":{"scale":{"x":0.25,"y":0.25},"x":50,"y":65},"hor":{"scale":{"x":0.5,"y":0.5},"x":100,"y":100}},"tweens":{"hide":{"on":"completed","to":"scale0","duration":300,"options":{"ease":"backIn"}}},"children":{"circle":{"alpha":1,"x":100,"y":-100,"width":150,"height":150},"value":{"scale":4,"x":100,"y":-100,"text":"0","style":"lives"}}},"hint":{"tweens":{"hide":{"on":"completed","to":"scale0","duration":300,"options":{"ease":"backIn"}}},"states":{"ver":{"scale":{"x":0.25,"y":0.25},"y":65,"right":50},"hor":{"scale":{"x":0.5,"y":0.5},"x":100,"bottom":100}},"type":"Hint","children":{"circle":{"alpha":1,"x":100,"y":-100,"width":150,"height":150},"value":{"scale":4,"x":100,"y":-100,"text":"0","style":"lives"}}},"fail":{"scale":{"x":0,"y":0},"states":{},"tweens":{}},"shadow":{"type":"Shadow","texture":"splash","width":5000,"height":5000,"tint":"0x000000","alpha":0,"x":0,"y":0,"visible":false,"tweens":{"show":{"to":{"visible":true,"alpha":0.75},"duration":300},"hide":{"to":{"visible":false,"alpha":0},"duration":300}},"components":{"mask":{"texture":"circle","width":200,"height":200}}}}')}},l={};function __webpack_require__(c){var _=l[c];if(void 0!==_)return _.exports;var y=l[c]={id:c,loaded:!1,exports:{}};return s[c].call(y.exports,y,y.exports,__webpack_require__),y.loaded=!0,y.exports}__webpack_require__.d=(s,l)=>{for(var c in l)__webpack_require__.o(l,c)&&!__webpack_require__.o(s,c)&&Object.defineProperty(s,c,{enumerable:!0,get:l[c]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"==typeof window)return window}}(),__webpack_require__.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),__webpack_require__.r=s=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},__webpack_require__.nmd=s=>(s.paths=[],s.children||(s.children=[]),s),(()=>{var s;__webpack_require__.g.importScripts&&(s=__webpack_require__.g.location+"");var l=__webpack_require__.g.document;if(!s&&l&&(l.currentScript&&(s=l.currentScript.src),!s)){var c=l.getElementsByTagName("script");c.length&&(s=c[c.length-1].src)}if(!s)throw new Error("Automatic publicPath is not supported in this browser");s=s.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=s+"../"})();(()=>{"use strict";var s=__webpack_require__(80299),l=__webpack_require__(41476);window.addEventListener("DOMContentLoaded",(function(){return s.App.run(l.ProjectConfig)})),window.App=s.App})()})();